(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const h of l.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&i(h)}).observe(document,{childList:!0,subtree:!0});function t(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(o){if(o.ep)return;o.ep=!0;const l=t(o);fetch(o.href,l)}})();function O0(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Od={exports:{}},qa={},bd={exports:{}},Re={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ag;function b0(){if(Ag)return Re;Ag=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),h=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),I=Symbol.iterator;function k(b){return b===null||typeof b!="object"?null:(b=I&&b[I]||b["@@iterator"],typeof b=="function"?b:null)}var D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},M=Object.assign,B={};function V(b,Y,fe){this.props=b,this.context=Y,this.refs=B,this.updater=fe||D}V.prototype.isReactComponent={},V.prototype.setState=function(b,Y){if(typeof b!="object"&&typeof b!="function"&&b!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,b,Y,"setState")},V.prototype.forceUpdate=function(b){this.updater.enqueueForceUpdate(this,b,"forceUpdate")};function q(){}q.prototype=V.prototype;function Q(b,Y,fe){this.props=b,this.context=Y,this.refs=B,this.updater=fe||D}var K=Q.prototype=new q;K.constructor=Q,M(K,V.prototype),K.isPureReactComponent=!0;var ae=Array.isArray,Se=Object.prototype.hasOwnProperty,Ee={current:null},x={key:!0,ref:!0,__self:!0,__source:!0};function T(b,Y,fe){var Pe,ke={},De=null,Le=null;if(Y!=null)for(Pe in Y.ref!==void 0&&(Le=Y.ref),Y.key!==void 0&&(De=""+Y.key),Y)Se.call(Y,Pe)&&!x.hasOwnProperty(Pe)&&(ke[Pe]=Y[Pe]);var Fe=arguments.length-2;if(Fe===1)ke.children=fe;else if(1<Fe){for(var We=Array(Fe),vt=0;vt<Fe;vt++)We[vt]=arguments[vt+2];ke.children=We}if(b&&b.defaultProps)for(Pe in Fe=b.defaultProps,Fe)ke[Pe]===void 0&&(ke[Pe]=Fe[Pe]);return{$$typeof:n,type:b,key:De,ref:Le,props:ke,_owner:Ee.current}}function S(b,Y){return{$$typeof:n,type:b.type,key:Y,ref:b.ref,props:b.props,_owner:b._owner}}function A(b){return typeof b=="object"&&b!==null&&b.$$typeof===n}function O(b){var Y={"=":"=0",":":"=2"};return"$"+b.replace(/[=:]/g,function(fe){return Y[fe]})}var L=/\/+/g;function R(b,Y){return typeof b=="object"&&b!==null&&b.key!=null?O(""+b.key):Y.toString(36)}function it(b,Y,fe,Pe,ke){var De=typeof b;(De==="undefined"||De==="boolean")&&(b=null);var Le=!1;if(b===null)Le=!0;else switch(De){case"string":case"number":Le=!0;break;case"object":switch(b.$$typeof){case n:case e:Le=!0}}if(Le)return Le=b,ke=ke(Le),b=Pe===""?"."+R(Le,0):Pe,ae(ke)?(fe="",b!=null&&(fe=b.replace(L,"$&/")+"/"),it(ke,Y,fe,"",function(vt){return vt})):ke!=null&&(A(ke)&&(ke=S(ke,fe+(!ke.key||Le&&Le.key===ke.key?"":(""+ke.key).replace(L,"$&/")+"/")+b)),Y.push(ke)),1;if(Le=0,Pe=Pe===""?".":Pe+":",ae(b))for(var Fe=0;Fe<b.length;Fe++){De=b[Fe];var We=Pe+R(De,Fe);Le+=it(De,Y,fe,We,ke)}else if(We=k(b),typeof We=="function")for(b=We.call(b),Fe=0;!(De=b.next()).done;)De=De.value,We=Pe+R(De,Fe++),Le+=it(De,Y,fe,We,ke);else if(De==="object")throw Y=String(b),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(b).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.");return Le}function Dt(b,Y,fe){if(b==null)return b;var Pe=[],ke=0;return it(b,Pe,"","",function(De){return Y.call(fe,De,ke++)}),Pe}function Ot(b){if(b._status===-1){var Y=b._result;Y=Y(),Y.then(function(fe){(b._status===0||b._status===-1)&&(b._status=1,b._result=fe)},function(fe){(b._status===0||b._status===-1)&&(b._status=2,b._result=fe)}),b._status===-1&&(b._status=0,b._result=Y)}if(b._status===1)return b._result.default;throw b._result}var Be={current:null},re={transition:null},me={ReactCurrentDispatcher:Be,ReactCurrentBatchConfig:re,ReactCurrentOwner:Ee};function se(){throw Error("act(...) is not supported in production builds of React.")}return Re.Children={map:Dt,forEach:function(b,Y,fe){Dt(b,function(){Y.apply(this,arguments)},fe)},count:function(b){var Y=0;return Dt(b,function(){Y++}),Y},toArray:function(b){return Dt(b,function(Y){return Y})||[]},only:function(b){if(!A(b))throw Error("React.Children.only expected to receive a single React element child.");return b}},Re.Component=V,Re.Fragment=t,Re.Profiler=o,Re.PureComponent=Q,Re.StrictMode=i,Re.Suspense=p,Re.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=me,Re.act=se,Re.cloneElement=function(b,Y,fe){if(b==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+b+".");var Pe=M({},b.props),ke=b.key,De=b.ref,Le=b._owner;if(Y!=null){if(Y.ref!==void 0&&(De=Y.ref,Le=Ee.current),Y.key!==void 0&&(ke=""+Y.key),b.type&&b.type.defaultProps)var Fe=b.type.defaultProps;for(We in Y)Se.call(Y,We)&&!x.hasOwnProperty(We)&&(Pe[We]=Y[We]===void 0&&Fe!==void 0?Fe[We]:Y[We])}var We=arguments.length-2;if(We===1)Pe.children=fe;else if(1<We){Fe=Array(We);for(var vt=0;vt<We;vt++)Fe[vt]=arguments[vt+2];Pe.children=Fe}return{$$typeof:n,type:b.type,key:ke,ref:De,props:Pe,_owner:Le}},Re.createContext=function(b){return b={$$typeof:h,_currentValue:b,_currentValue2:b,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},b.Provider={$$typeof:l,_context:b},b.Consumer=b},Re.createElement=T,Re.createFactory=function(b){var Y=T.bind(null,b);return Y.type=b,Y},Re.createRef=function(){return{current:null}},Re.forwardRef=function(b){return{$$typeof:d,render:b}},Re.isValidElement=A,Re.lazy=function(b){return{$$typeof:w,_payload:{_status:-1,_result:b},_init:Ot}},Re.memo=function(b,Y){return{$$typeof:y,type:b,compare:Y===void 0?null:Y}},Re.startTransition=function(b){var Y=re.transition;re.transition={};try{b()}finally{re.transition=Y}},Re.unstable_act=se,Re.useCallback=function(b,Y){return Be.current.useCallback(b,Y)},Re.useContext=function(b){return Be.current.useContext(b)},Re.useDebugValue=function(){},Re.useDeferredValue=function(b){return Be.current.useDeferredValue(b)},Re.useEffect=function(b,Y){return Be.current.useEffect(b,Y)},Re.useId=function(){return Be.current.useId()},Re.useImperativeHandle=function(b,Y,fe){return Be.current.useImperativeHandle(b,Y,fe)},Re.useInsertionEffect=function(b,Y){return Be.current.useInsertionEffect(b,Y)},Re.useLayoutEffect=function(b,Y){return Be.current.useLayoutEffect(b,Y)},Re.useMemo=function(b,Y){return Be.current.useMemo(b,Y)},Re.useReducer=function(b,Y,fe){return Be.current.useReducer(b,Y,fe)},Re.useRef=function(b){return Be.current.useRef(b)},Re.useState=function(b){return Be.current.useState(b)},Re.useSyncExternalStore=function(b,Y,fe){return Be.current.useSyncExternalStore(b,Y,fe)},Re.useTransition=function(){return Be.current.useTransition()},Re.version="18.3.1",Re}var xg;function Pf(){return xg||(xg=1,bd.exports=b0()),bd.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ng;function V0(){if(Ng)return qa;Ng=1;var n=Pf(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function h(d,p,y){var w,I={},k=null,D=null;y!==void 0&&(k=""+y),p.key!==void 0&&(k=""+p.key),p.ref!==void 0&&(D=p.ref);for(w in p)i.call(p,w)&&!l.hasOwnProperty(w)&&(I[w]=p[w]);if(d&&d.defaultProps)for(w in p=d.defaultProps,p)I[w]===void 0&&(I[w]=p[w]);return{$$typeof:e,type:d,key:k,ref:D,props:I,_owner:o.current}}return qa.Fragment=t,qa.jsx=h,qa.jsxs=h,qa}var Dg;function M0(){return Dg||(Dg=1,Od.exports=V0()),Od.exports}var H=M0(),W=Pf();const _s=O0(W);var Hu={},Vd={exports:{}},tn={},Md={exports:{}},Ld={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Og;function L0(){return Og||(Og=1,function(n){function e(re,me){var se=re.length;re.push(me);e:for(;0<se;){var b=se-1>>>1,Y=re[b];if(0<o(Y,me))re[b]=me,re[se]=Y,se=b;else break e}}function t(re){return re.length===0?null:re[0]}function i(re){if(re.length===0)return null;var me=re[0],se=re.pop();if(se!==me){re[0]=se;e:for(var b=0,Y=re.length,fe=Y>>>1;b<fe;){var Pe=2*(b+1)-1,ke=re[Pe],De=Pe+1,Le=re[De];if(0>o(ke,se))De<Y&&0>o(Le,ke)?(re[b]=Le,re[De]=se,b=De):(re[b]=ke,re[Pe]=se,b=Pe);else if(De<Y&&0>o(Le,se))re[b]=Le,re[De]=se,b=De;else break e}}return me}function o(re,me){var se=re.sortIndex-me.sortIndex;return se!==0?se:re.id-me.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var h=Date,d=h.now();n.unstable_now=function(){return h.now()-d}}var p=[],y=[],w=1,I=null,k=3,D=!1,M=!1,B=!1,V=typeof setTimeout=="function"?setTimeout:null,q=typeof clearTimeout=="function"?clearTimeout:null,Q=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function K(re){for(var me=t(y);me!==null;){if(me.callback===null)i(y);else if(me.startTime<=re)i(y),me.sortIndex=me.expirationTime,e(p,me);else break;me=t(y)}}function ae(re){if(B=!1,K(re),!M)if(t(p)!==null)M=!0,Ot(Se);else{var me=t(y);me!==null&&Be(ae,me.startTime-re)}}function Se(re,me){M=!1,B&&(B=!1,q(T),T=-1),D=!0;var se=k;try{for(K(me),I=t(p);I!==null&&(!(I.expirationTime>me)||re&&!O());){var b=I.callback;if(typeof b=="function"){I.callback=null,k=I.priorityLevel;var Y=b(I.expirationTime<=me);me=n.unstable_now(),typeof Y=="function"?I.callback=Y:I===t(p)&&i(p),K(me)}else i(p);I=t(p)}if(I!==null)var fe=!0;else{var Pe=t(y);Pe!==null&&Be(ae,Pe.startTime-me),fe=!1}return fe}finally{I=null,k=se,D=!1}}var Ee=!1,x=null,T=-1,S=5,A=-1;function O(){return!(n.unstable_now()-A<S)}function L(){if(x!==null){var re=n.unstable_now();A=re;var me=!0;try{me=x(!0,re)}finally{me?R():(Ee=!1,x=null)}}else Ee=!1}var R;if(typeof Q=="function")R=function(){Q(L)};else if(typeof MessageChannel<"u"){var it=new MessageChannel,Dt=it.port2;it.port1.onmessage=L,R=function(){Dt.postMessage(null)}}else R=function(){V(L,0)};function Ot(re){x=re,Ee||(Ee=!0,R())}function Be(re,me){T=V(function(){re(n.unstable_now())},me)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(re){re.callback=null},n.unstable_continueExecution=function(){M||D||(M=!0,Ot(Se))},n.unstable_forceFrameRate=function(re){0>re||125<re?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<re?Math.floor(1e3/re):5},n.unstable_getCurrentPriorityLevel=function(){return k},n.unstable_getFirstCallbackNode=function(){return t(p)},n.unstable_next=function(re){switch(k){case 1:case 2:case 3:var me=3;break;default:me=k}var se=k;k=me;try{return re()}finally{k=se}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(re,me){switch(re){case 1:case 2:case 3:case 4:case 5:break;default:re=3}var se=k;k=re;try{return me()}finally{k=se}},n.unstable_scheduleCallback=function(re,me,se){var b=n.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?b+se:b):se=b,re){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=se+Y,re={id:w++,callback:me,priorityLevel:re,startTime:se,expirationTime:Y,sortIndex:-1},se>b?(re.sortIndex=se,e(y,re),t(p)===null&&re===t(y)&&(B?(q(T),T=-1):B=!0,Be(ae,se-b))):(re.sortIndex=Y,e(p,re),M||D||(M=!0,Ot(Se))),re},n.unstable_shouldYield=O,n.unstable_wrapCallback=function(re){var me=k;return function(){var se=k;k=me;try{return re.apply(this,arguments)}finally{k=se}}}}(Ld)),Ld}var bg;function F0(){return bg||(bg=1,Md.exports=L0()),Md.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vg;function U0(){if(Vg)return tn;Vg=1;var n=Pf(),e=F0();function t(r){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+r,a=1;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function l(r,s){h(r,s),h(r+"Capture",s)}function h(r,s){for(o[r]=s,r=0;r<s.length;r++)i.add(s[r])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,y=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,w={},I={};function k(r){return p.call(I,r)?!0:p.call(w,r)?!1:y.test(r)?I[r]=!0:(w[r]=!0,!1)}function D(r,s,a,c){if(a!==null&&a.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return c?!1:a!==null?!a.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function M(r,s,a,c){if(s===null||typeof s>"u"||D(r,s,a,c))return!0;if(c)return!1;if(a!==null)switch(a.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function B(r,s,a,c,f,g,_){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=c,this.attributeNamespace=f,this.mustUseProperty=a,this.propertyName=r,this.type=s,this.sanitizeURL=g,this.removeEmptyString=_}var V={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){V[r]=new B(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var s=r[0];V[s]=new B(s,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){V[r]=new B(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){V[r]=new B(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){V[r]=new B(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){V[r]=new B(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){V[r]=new B(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){V[r]=new B(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){V[r]=new B(r,5,!1,r.toLowerCase(),null,!1,!1)});var q=/[\-:]([a-z])/g;function Q(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var s=r.replace(q,Q);V[s]=new B(s,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var s=r.replace(q,Q);V[s]=new B(s,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var s=r.replace(q,Q);V[s]=new B(s,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){V[r]=new B(r,1,!1,r.toLowerCase(),null,!1,!1)}),V.xlinkHref=new B("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){V[r]=new B(r,1,!1,r.toLowerCase(),null,!0,!0)});function K(r,s,a,c){var f=V.hasOwnProperty(s)?V[s]:null;(f!==null?f.type!==0:c||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(M(s,a,f,c)&&(a=null),c||f===null?k(s)&&(a===null?r.removeAttribute(s):r.setAttribute(s,""+a)):f.mustUseProperty?r[f.propertyName]=a===null?f.type===3?!1:"":a:(s=f.attributeName,c=f.attributeNamespace,a===null?r.removeAttribute(s):(f=f.type,a=f===3||f===4&&a===!0?"":""+a,c?r.setAttributeNS(c,s,a):r.setAttribute(s,a))))}var ae=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Se=Symbol.for("react.element"),Ee=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),A=Symbol.for("react.provider"),O=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),it=Symbol.for("react.suspense_list"),Dt=Symbol.for("react.memo"),Ot=Symbol.for("react.lazy"),Be=Symbol.for("react.offscreen"),re=Symbol.iterator;function me(r){return r===null||typeof r!="object"?null:(r=re&&r[re]||r["@@iterator"],typeof r=="function"?r:null)}var se=Object.assign,b;function Y(r){if(b===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);b=s&&s[1]||""}return`
`+b+r}var fe=!1;function Pe(r,s){if(!r||fe)return"";fe=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(z){var c=z}Reflect.construct(r,[],s)}else{try{s.call()}catch(z){c=z}r.call(s.prototype)}else{try{throw Error()}catch(z){c=z}r()}}catch(z){if(z&&c&&typeof z.stack=="string"){for(var f=z.stack.split(`
`),g=c.stack.split(`
`),_=f.length-1,P=g.length-1;1<=_&&0<=P&&f[_]!==g[P];)P--;for(;1<=_&&0<=P;_--,P--)if(f[_]!==g[P]){if(_!==1||P!==1)do if(_--,P--,0>P||f[_]!==g[P]){var C=`
`+f[_].replace(" at new "," at ");return r.displayName&&C.includes("<anonymous>")&&(C=C.replace("<anonymous>",r.displayName)),C}while(1<=_&&0<=P);break}}}finally{fe=!1,Error.prepareStackTrace=a}return(r=r?r.displayName||r.name:"")?Y(r):""}function ke(r){switch(r.tag){case 5:return Y(r.type);case 16:return Y("Lazy");case 13:return Y("Suspense");case 19:return Y("SuspenseList");case 0:case 2:case 15:return r=Pe(r.type,!1),r;case 11:return r=Pe(r.type.render,!1),r;case 1:return r=Pe(r.type,!0),r;default:return""}}function De(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case x:return"Fragment";case Ee:return"Portal";case S:return"Profiler";case T:return"StrictMode";case R:return"Suspense";case it:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case O:return(r.displayName||"Context")+".Consumer";case A:return(r._context.displayName||"Context")+".Provider";case L:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case Dt:return s=r.displayName||null,s!==null?s:De(r.type)||"Memo";case Ot:s=r._payload,r=r._init;try{return De(r(s))}catch{}}return null}function Le(r){var s=r.type;switch(r.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=s.render,r=r.displayName||r.name||"",s.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return De(s);case 8:return s===T?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function Fe(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function We(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function vt(r){var s=We(r)?"checked":"value",a=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),c=""+r[s];if(!r.hasOwnProperty(s)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,g=a.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return f.call(this)},set:function(_){c=""+_,g.call(this,_)}}),Object.defineProperty(r,s,{enumerable:a.enumerable}),{getValue:function(){return c},setValue:function(_){c=""+_},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function pr(r){r._valueTracker||(r._valueTracker=vt(r))}function Ns(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var a=s.getValue(),c="";return r&&(c=We(r)?r.checked?"true":"false":r.value),r=c,r!==a?(s.setValue(r),!0):!1}function qr(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function Ui(r,s){var a=s.checked;return se({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??r._wrapperState.initialChecked})}function Ds(r,s){var a=s.defaultValue==null?"":s.defaultValue,c=s.checked!=null?s.checked:s.defaultChecked;a=Fe(s.value!=null?s.value:a),r._wrapperState={initialChecked:c,initialValue:a,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function Jo(r,s){s=s.checked,s!=null&&K(r,"checked",s,!1)}function Zo(r,s){Jo(r,s);var a=Fe(s.value),c=s.type;if(a!=null)c==="number"?(a===0&&r.value===""||r.value!=a)&&(r.value=""+a):r.value!==""+a&&(r.value=""+a);else if(c==="submit"||c==="reset"){r.removeAttribute("value");return}s.hasOwnProperty("value")?Os(r,s.type,a):s.hasOwnProperty("defaultValue")&&Os(r,s.type,Fe(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(r.defaultChecked=!!s.defaultChecked)}function xl(r,s,a){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var c=s.type;if(!(c!=="submit"&&c!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+r._wrapperState.initialValue,a||s===r.value||(r.value=s),r.defaultValue=s}a=r.name,a!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,a!==""&&(r.name=a)}function Os(r,s,a){(s!=="number"||qr(r.ownerDocument)!==r)&&(a==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+a&&(r.defaultValue=""+a))}var mr=Array.isArray;function gr(r,s,a,c){if(r=r.options,s){s={};for(var f=0;f<a.length;f++)s["$"+a[f]]=!0;for(a=0;a<r.length;a++)f=s.hasOwnProperty("$"+r[a].value),r[a].selected!==f&&(r[a].selected=f),f&&c&&(r[a].defaultSelected=!0)}else{for(a=""+Fe(a),s=null,f=0;f<r.length;f++){if(r[f].value===a){r[f].selected=!0,c&&(r[f].defaultSelected=!0);return}s!==null||r[f].disabled||(s=r[f])}s!==null&&(s.selected=!0)}}function ea(r,s){if(s.dangerouslySetInnerHTML!=null)throw Error(t(91));return se({},s,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function bs(r,s){var a=s.value;if(a==null){if(a=s.children,s=s.defaultValue,a!=null){if(s!=null)throw Error(t(92));if(mr(a)){if(1<a.length)throw Error(t(93));a=a[0]}s=a}s==null&&(s=""),a=s}r._wrapperState={initialValue:Fe(a)}}function Vs(r,s){var a=Fe(s.value),c=Fe(s.defaultValue);a!=null&&(a=""+a,a!==r.value&&(r.value=a),s.defaultValue==null&&r.defaultValue!==a&&(r.defaultValue=a)),c!=null&&(r.defaultValue=""+c)}function ta(r){var s=r.textContent;s===r._wrapperState.initialValue&&s!==""&&s!==null&&(r.value=s)}function dt(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ft(r,s){return r==null||r==="http://www.w3.org/1999/xhtml"?dt(s):r==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var yr,na=function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,a,c,f){MSApp.execUnsafeLocalFunction(function(){return r(s,a,c,f)})}:r}(function(r,s){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=s;else{for(yr=yr||document.createElement("div"),yr.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=yr.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;s.firstChild;)r.appendChild(s.firstChild)}});function Kr(r,s){if(s){var a=r.firstChild;if(a&&a===r.lastChild&&a.nodeType===3){a.nodeValue=s;return}}r.textContent=s}var ji={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},zi=["Webkit","ms","Moz","O"];Object.keys(ji).forEach(function(r){zi.forEach(function(s){s=s+r.charAt(0).toUpperCase()+r.substring(1),ji[s]=ji[r]})});function ra(r,s,a){return s==null||typeof s=="boolean"||s===""?"":a||typeof s!="number"||s===0||ji.hasOwnProperty(r)&&ji[r]?(""+s).trim():s+"px"}function ia(r,s){r=r.style;for(var a in s)if(s.hasOwnProperty(a)){var c=a.indexOf("--")===0,f=ra(a,s[a],c);a==="float"&&(a="cssFloat"),c?r.setProperty(a,f):r[a]=f}}var sa=se({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function oa(r,s){if(s){if(sa[r]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(t(137,r));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(t(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(t(61))}if(s.style!=null&&typeof s.style!="object")throw Error(t(62))}}function aa(r,s){if(r.indexOf("-")===-1)return typeof s.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Bi=null;function Ms(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Ls=null,dn=null,Hn=null;function Fs(r){if(r=Na(r)){if(typeof Ls!="function")throw Error(t(280));var s=r.stateNode;s&&(s=ou(s),Ls(r.stateNode,r.type,s))}}function qn(r){dn?Hn?Hn.push(r):Hn=[r]:dn=r}function la(){if(dn){var r=dn,s=Hn;if(Hn=dn=null,Fs(r),s)for(r=0;r<s.length;r++)Fs(s[r])}}function $i(r,s){return r(s)}function ua(){}var vr=!1;function ca(r,s,a){if(vr)return r(s,a);vr=!0;try{return $i(r,s,a)}finally{vr=!1,(dn!==null||Hn!==null)&&(ua(),la())}}function st(r,s){var a=r.stateNode;if(a===null)return null;var c=ou(a);if(c===null)return null;a=c[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(r=r.type,c=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!c;break e;default:r=!1}if(r)return null;if(a&&typeof a!="function")throw Error(t(231,s,typeof a));return a}var Us=!1;if(d)try{var kn={};Object.defineProperty(kn,"passive",{get:function(){Us=!0}}),window.addEventListener("test",kn,kn),window.removeEventListener("test",kn,kn)}catch{Us=!1}function Wi(r,s,a,c,f,g,_,P,C){var z=Array.prototype.slice.call(arguments,3);try{s.apply(a,z)}catch(Z){this.onError(Z)}}var Hi=!1,js=null,Rn=!1,ha=null,ah={onError:function(r){Hi=!0,js=r}};function zs(r,s,a,c,f,g,_,P,C){Hi=!1,js=null,Wi.apply(ah,arguments)}function Nl(r,s,a,c,f,g,_,P,C){if(zs.apply(this,arguments),Hi){if(Hi){var z=js;Hi=!1,js=null}else throw Error(t(198));Rn||(Rn=!0,ha=z)}}function Cn(r){var s=r,a=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(a=s.return),r=s.return;while(r)}return s.tag===3?a:null}function qi(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function An(r){if(Cn(r)!==r)throw Error(t(188))}function Dl(r){var s=r.alternate;if(!s){if(s=Cn(r),s===null)throw Error(t(188));return s!==r?null:r}for(var a=r,c=s;;){var f=a.return;if(f===null)break;var g=f.alternate;if(g===null){if(c=f.return,c!==null){a=c;continue}break}if(f.child===g.child){for(g=f.child;g;){if(g===a)return An(f),r;if(g===c)return An(f),s;g=g.sibling}throw Error(t(188))}if(a.return!==c.return)a=f,c=g;else{for(var _=!1,P=f.child;P;){if(P===a){_=!0,a=f,c=g;break}if(P===c){_=!0,c=f,a=g;break}P=P.sibling}if(!_){for(P=g.child;P;){if(P===a){_=!0,a=g,c=f;break}if(P===c){_=!0,c=g,a=f;break}P=P.sibling}if(!_)throw Error(t(189))}}if(a.alternate!==c)throw Error(t(190))}if(a.tag!==3)throw Error(t(188));return a.stateNode.current===a?r:s}function da(r){return r=Dl(r),r!==null?Bs(r):null}function Bs(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var s=Bs(r);if(s!==null)return s;r=r.sibling}return null}var $s=e.unstable_scheduleCallback,fa=e.unstable_cancelCallback,Ol=e.unstable_shouldYield,lh=e.unstable_requestPaint,He=e.unstable_now,bl=e.unstable_getCurrentPriorityLevel,Ki=e.unstable_ImmediatePriority,Gr=e.unstable_UserBlockingPriority,fn=e.unstable_NormalPriority,pa=e.unstable_LowPriority,Vl=e.unstable_IdlePriority,Gi=null,sn=null;function Ml(r){if(sn&&typeof sn.onCommitFiberRoot=="function")try{sn.onCommitFiberRoot(Gi,r,void 0,(r.current.flags&128)===128)}catch{}}var $t=Math.clz32?Math.clz32:Fl,ma=Math.log,Ll=Math.LN2;function Fl(r){return r>>>=0,r===0?32:31-(ma(r)/Ll|0)|0}var Ws=64,Hs=4194304;function Qr(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function Qi(r,s){var a=r.pendingLanes;if(a===0)return 0;var c=0,f=r.suspendedLanes,g=r.pingedLanes,_=a&268435455;if(_!==0){var P=_&~f;P!==0?c=Qr(P):(g&=_,g!==0&&(c=Qr(g)))}else _=a&~f,_!==0?c=Qr(_):g!==0&&(c=Qr(g));if(c===0)return 0;if(s!==0&&s!==c&&(s&f)===0&&(f=c&-c,g=s&-s,f>=g||f===16&&(g&4194240)!==0))return s;if((c&4)!==0&&(c|=a&16),s=r.entangledLanes,s!==0)for(r=r.entanglements,s&=c;0<s;)a=31-$t(s),f=1<<a,c|=r[a],s&=~f;return c}function uh(r,s){switch(r){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _r(r,s){for(var a=r.suspendedLanes,c=r.pingedLanes,f=r.expirationTimes,g=r.pendingLanes;0<g;){var _=31-$t(g),P=1<<_,C=f[_];C===-1?((P&a)===0||(P&c)!==0)&&(f[_]=uh(P,s)):C<=s&&(r.expiredLanes|=P),g&=~P}}function on(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function Yi(){var r=Ws;return Ws<<=1,(Ws&4194240)===0&&(Ws=64),r}function Yr(r){for(var s=[],a=0;31>a;a++)s.push(r);return s}function Xr(r,s,a){r.pendingLanes|=s,s!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,s=31-$t(s),r[s]=a}function $e(r,s){var a=r.pendingLanes&~s;r.pendingLanes=s,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=s,r.mutableReadLanes&=s,r.entangledLanes&=s,s=r.entanglements;var c=r.eventTimes;for(r=r.expirationTimes;0<a;){var f=31-$t(a),g=1<<f;s[f]=0,c[f]=-1,r[f]=-1,a&=~g}}function Jr(r,s){var a=r.entangledLanes|=s;for(r=r.entanglements;a;){var c=31-$t(a),f=1<<c;f&s|r[c]&s&&(r[c]|=s),a&=~f}}var xe=0;function Zr(r){return r&=-r,1<r?4<r?(r&268435455)!==0?16:536870912:4:1}var Ul,qs,jl,zl,Bl,ga=!1,Kn=[],Pt=null,xn=null,Nn=null,ei=new Map,pn=new Map,Gn=[],ch="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function $l(r,s){switch(r){case"focusin":case"focusout":Pt=null;break;case"dragenter":case"dragleave":xn=null;break;case"mouseover":case"mouseout":Nn=null;break;case"pointerover":case"pointerout":ei.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":pn.delete(s.pointerId)}}function Gt(r,s,a,c,f,g){return r===null||r.nativeEvent!==g?(r={blockedOn:s,domEventName:a,eventSystemFlags:c,nativeEvent:g,targetContainers:[f]},s!==null&&(s=Na(s),s!==null&&qs(s)),r):(r.eventSystemFlags|=c,s=r.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),r)}function hh(r,s,a,c,f){switch(s){case"focusin":return Pt=Gt(Pt,r,s,a,c,f),!0;case"dragenter":return xn=Gt(xn,r,s,a,c,f),!0;case"mouseover":return Nn=Gt(Nn,r,s,a,c,f),!0;case"pointerover":var g=f.pointerId;return ei.set(g,Gt(ei.get(g)||null,r,s,a,c,f)),!0;case"gotpointercapture":return g=f.pointerId,pn.set(g,Gt(pn.get(g)||null,r,s,a,c,f)),!0}return!1}function Wl(r){var s=ts(r.target);if(s!==null){var a=Cn(s);if(a!==null){if(s=a.tag,s===13){if(s=qi(a),s!==null){r.blockedOn=s,Bl(r.priority,function(){jl(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){r.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}r.blockedOn=null}function wr(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var a=Ks(r.domEventName,r.eventSystemFlags,s[0],r.nativeEvent);if(a===null){a=r.nativeEvent;var c=new a.constructor(a.type,a);Bi=c,a.target.dispatchEvent(c),Bi=null}else return s=Na(a),s!==null&&qs(s),r.blockedOn=a,!1;s.shift()}return!0}function Xi(r,s,a){wr(r)&&a.delete(s)}function Hl(){ga=!1,Pt!==null&&wr(Pt)&&(Pt=null),xn!==null&&wr(xn)&&(xn=null),Nn!==null&&wr(Nn)&&(Nn=null),ei.forEach(Xi),pn.forEach(Xi)}function Dn(r,s){r.blockedOn===s&&(r.blockedOn=null,ga||(ga=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Hl)))}function On(r){function s(f){return Dn(f,r)}if(0<Kn.length){Dn(Kn[0],r);for(var a=1;a<Kn.length;a++){var c=Kn[a];c.blockedOn===r&&(c.blockedOn=null)}}for(Pt!==null&&Dn(Pt,r),xn!==null&&Dn(xn,r),Nn!==null&&Dn(Nn,r),ei.forEach(s),pn.forEach(s),a=0;a<Gn.length;a++)c=Gn[a],c.blockedOn===r&&(c.blockedOn=null);for(;0<Gn.length&&(a=Gn[0],a.blockedOn===null);)Wl(a),a.blockedOn===null&&Gn.shift()}var Er=ae.ReactCurrentBatchConfig,ti=!0;function Ye(r,s,a,c){var f=xe,g=Er.transition;Er.transition=null;try{xe=1,ya(r,s,a,c)}finally{xe=f,Er.transition=g}}function dh(r,s,a,c){var f=xe,g=Er.transition;Er.transition=null;try{xe=4,ya(r,s,a,c)}finally{xe=f,Er.transition=g}}function ya(r,s,a,c){if(ti){var f=Ks(r,s,a,c);if(f===null)Ih(r,s,c,Ji,a),$l(r,c);else if(hh(f,r,s,a,c))c.stopPropagation();else if($l(r,c),s&4&&-1<ch.indexOf(r)){for(;f!==null;){var g=Na(f);if(g!==null&&Ul(g),g=Ks(r,s,a,c),g===null&&Ih(r,s,c,Ji,a),g===f)break;f=g}f!==null&&c.stopPropagation()}else Ih(r,s,c,null,a)}}var Ji=null;function Ks(r,s,a,c){if(Ji=null,r=Ms(c),r=ts(r),r!==null)if(s=Cn(r),s===null)r=null;else if(a=s.tag,a===13){if(r=qi(s),r!==null)return r;r=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null);return Ji=r,null}function va(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(bl()){case Ki:return 1;case Gr:return 4;case fn:case pa:return 16;case Vl:return 536870912;default:return 16}default:return 16}}var an=null,Gs=null,Qt=null;function _a(){if(Qt)return Qt;var r,s=Gs,a=s.length,c,f="value"in an?an.value:an.textContent,g=f.length;for(r=0;r<a&&s[r]===f[r];r++);var _=a-r;for(c=1;c<=_&&s[a-c]===f[g-c];c++);return Qt=f.slice(r,1<c?1-c:void 0)}function Qs(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function Qn(){return!0}function wa(){return!1}function kt(r){function s(a,c,f,g,_){this._reactName=a,this._targetInst=f,this.type=c,this.nativeEvent=g,this.target=_,this.currentTarget=null;for(var P in r)r.hasOwnProperty(P)&&(a=r[P],this[P]=a?a(g):g[P]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Qn:wa,this.isPropagationStopped=wa,this}return se(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Qn)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Qn)},persist:function(){},isPersistent:Qn}),s}var bn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ys=kt(bn),Yn=se({},bn,{view:0,detail:0}),fh=kt(Yn),Xs,Tr,ni,Zi=se({},Yn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Xn,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==ni&&(ni&&r.type==="mousemove"?(Xs=r.screenX-ni.screenX,Tr=r.screenY-ni.screenY):Tr=Xs=0,ni=r),Xs)},movementY:function(r){return"movementY"in r?r.movementY:Tr}}),Js=kt(Zi),Ea=se({},Zi,{dataTransfer:0}),ql=kt(Ea),Zs=se({},Yn,{relatedTarget:0}),eo=kt(Zs),Kl=se({},bn,{animationName:0,elapsedTime:0,pseudoElement:0}),Ir=kt(Kl),Gl=se({},bn,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Ql=kt(Gl),Yl=se({},bn,{data:0}),Ta=kt(Yl),to={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Wt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Xl={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Jl(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=Xl[r])?!!s[r]:!1}function Xn(){return Jl}var u=se({},Yn,{key:function(r){if(r.key){var s=to[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=Qs(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Wt[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Xn,charCode:function(r){return r.type==="keypress"?Qs(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Qs(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),m=kt(u),v=se({},Zi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),E=kt(v),F=se({},Yn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Xn}),$=kt(F),ne=se({},bn,{propertyName:0,elapsedTime:0,pseudoElement:0}),je=kt(ne),pt=se({},Zi,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Oe=kt(pt),_t=[9,13,27,32],lt=d&&"CompositionEvent"in window,mn=null;d&&"documentMode"in document&&(mn=document.documentMode);var ln=d&&"TextEvent"in window&&!mn,es=d&&(!lt||mn&&8<mn&&11>=mn),no=" ",Ip=!1;function Sp(r,s){switch(r){case"keyup":return _t.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Pp(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var ro=!1;function xE(r,s){switch(r){case"compositionend":return Pp(s);case"keypress":return s.which!==32?null:(Ip=!0,no);case"textInput":return r=s.data,r===no&&Ip?null:r;default:return null}}function NE(r,s){if(ro)return r==="compositionend"||!lt&&Sp(r,s)?(r=_a(),Qt=Gs=an=null,ro=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return es&&s.locale!=="ko"?null:s.data;default:return null}}var DE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function kp(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!DE[r.type]:s==="textarea"}function Rp(r,s,a,c){qn(c),s=ru(s,"onChange"),0<s.length&&(a=new Ys("onChange","change",null,a,c),r.push({event:a,listeners:s}))}var Ia=null,Sa=null;function OE(r){Hp(r,0)}function Zl(r){var s=lo(r);if(Ns(s))return r}function bE(r,s){if(r==="change")return s}var Cp=!1;if(d){var ph;if(d){var mh="oninput"in document;if(!mh){var Ap=document.createElement("div");Ap.setAttribute("oninput","return;"),mh=typeof Ap.oninput=="function"}ph=mh}else ph=!1;Cp=ph&&(!document.documentMode||9<document.documentMode)}function xp(){Ia&&(Ia.detachEvent("onpropertychange",Np),Sa=Ia=null)}function Np(r){if(r.propertyName==="value"&&Zl(Sa)){var s=[];Rp(s,Sa,r,Ms(r)),ca(OE,s)}}function VE(r,s,a){r==="focusin"?(xp(),Ia=s,Sa=a,Ia.attachEvent("onpropertychange",Np)):r==="focusout"&&xp()}function ME(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Zl(Sa)}function LE(r,s){if(r==="click")return Zl(s)}function FE(r,s){if(r==="input"||r==="change")return Zl(s)}function UE(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var Vn=typeof Object.is=="function"?Object.is:UE;function Pa(r,s){if(Vn(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var a=Object.keys(r),c=Object.keys(s);if(a.length!==c.length)return!1;for(c=0;c<a.length;c++){var f=a[c];if(!p.call(s,f)||!Vn(r[f],s[f]))return!1}return!0}function Dp(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Op(r,s){var a=Dp(r);r=0;for(var c;a;){if(a.nodeType===3){if(c=r+a.textContent.length,r<=s&&c>=s)return{node:a,offset:s-r};r=c}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Dp(a)}}function bp(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?bp(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function Vp(){for(var r=window,s=qr();s instanceof r.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)r=s.contentWindow;else break;s=qr(r.document)}return s}function gh(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}function jE(r){var s=Vp(),a=r.focusedElem,c=r.selectionRange;if(s!==a&&a&&a.ownerDocument&&bp(a.ownerDocument.documentElement,a)){if(c!==null&&gh(a)){if(s=c.start,r=c.end,r===void 0&&(r=s),"selectionStart"in a)a.selectionStart=s,a.selectionEnd=Math.min(r,a.value.length);else if(r=(s=a.ownerDocument||document)&&s.defaultView||window,r.getSelection){r=r.getSelection();var f=a.textContent.length,g=Math.min(c.start,f);c=c.end===void 0?g:Math.min(c.end,f),!r.extend&&g>c&&(f=c,c=g,g=f),f=Op(a,g);var _=Op(a,c);f&&_&&(r.rangeCount!==1||r.anchorNode!==f.node||r.anchorOffset!==f.offset||r.focusNode!==_.node||r.focusOffset!==_.offset)&&(s=s.createRange(),s.setStart(f.node,f.offset),r.removeAllRanges(),g>c?(r.addRange(s),r.extend(_.node,_.offset)):(s.setEnd(_.node,_.offset),r.addRange(s)))}}for(s=[],r=a;r=r.parentNode;)r.nodeType===1&&s.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<s.length;a++)r=s[a],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var zE=d&&"documentMode"in document&&11>=document.documentMode,io=null,yh=null,ka=null,vh=!1;function Mp(r,s,a){var c=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;vh||io==null||io!==qr(c)||(c=io,"selectionStart"in c&&gh(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),ka&&Pa(ka,c)||(ka=c,c=ru(yh,"onSelect"),0<c.length&&(s=new Ys("onSelect","select",null,s,a),r.push({event:s,listeners:c}),s.target=io)))}function eu(r,s){var a={};return a[r.toLowerCase()]=s.toLowerCase(),a["Webkit"+r]="webkit"+s,a["Moz"+r]="moz"+s,a}var so={animationend:eu("Animation","AnimationEnd"),animationiteration:eu("Animation","AnimationIteration"),animationstart:eu("Animation","AnimationStart"),transitionend:eu("Transition","TransitionEnd")},_h={},Lp={};d&&(Lp=document.createElement("div").style,"AnimationEvent"in window||(delete so.animationend.animation,delete so.animationiteration.animation,delete so.animationstart.animation),"TransitionEvent"in window||delete so.transitionend.transition);function tu(r){if(_h[r])return _h[r];if(!so[r])return r;var s=so[r],a;for(a in s)if(s.hasOwnProperty(a)&&a in Lp)return _h[r]=s[a];return r}var Fp=tu("animationend"),Up=tu("animationiteration"),jp=tu("animationstart"),zp=tu("transitionend"),Bp=new Map,$p="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ri(r,s){Bp.set(r,s),l(s,[r])}for(var wh=0;wh<$p.length;wh++){var Eh=$p[wh],BE=Eh.toLowerCase(),$E=Eh[0].toUpperCase()+Eh.slice(1);ri(BE,"on"+$E)}ri(Fp,"onAnimationEnd"),ri(Up,"onAnimationIteration"),ri(jp,"onAnimationStart"),ri("dblclick","onDoubleClick"),ri("focusin","onFocus"),ri("focusout","onBlur"),ri(zp,"onTransitionEnd"),h("onMouseEnter",["mouseout","mouseover"]),h("onMouseLeave",["mouseout","mouseover"]),h("onPointerEnter",["pointerout","pointerover"]),h("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ra="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),WE=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ra));function Wp(r,s,a){var c=r.type||"unknown-event";r.currentTarget=a,Nl(c,s,void 0,r),r.currentTarget=null}function Hp(r,s){s=(s&4)!==0;for(var a=0;a<r.length;a++){var c=r[a],f=c.event;c=c.listeners;e:{var g=void 0;if(s)for(var _=c.length-1;0<=_;_--){var P=c[_],C=P.instance,z=P.currentTarget;if(P=P.listener,C!==g&&f.isPropagationStopped())break e;Wp(f,P,z),g=C}else for(_=0;_<c.length;_++){if(P=c[_],C=P.instance,z=P.currentTarget,P=P.listener,C!==g&&f.isPropagationStopped())break e;Wp(f,P,z),g=C}}}if(Rn)throw r=ha,Rn=!1,ha=null,r}function Ke(r,s){var a=s[Ah];a===void 0&&(a=s[Ah]=new Set);var c=r+"__bubble";a.has(c)||(qp(s,r,2,!1),a.add(c))}function Th(r,s,a){var c=0;s&&(c|=4),qp(a,r,c,s)}var nu="_reactListening"+Math.random().toString(36).slice(2);function Ca(r){if(!r[nu]){r[nu]=!0,i.forEach(function(a){a!=="selectionchange"&&(WE.has(a)||Th(a,!1,r),Th(a,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[nu]||(s[nu]=!0,Th("selectionchange",!1,s))}}function qp(r,s,a,c){switch(va(s)){case 1:var f=Ye;break;case 4:f=dh;break;default:f=ya}a=f.bind(null,s,a,r),f=void 0,!Us||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),c?f!==void 0?r.addEventListener(s,a,{capture:!0,passive:f}):r.addEventListener(s,a,!0):f!==void 0?r.addEventListener(s,a,{passive:f}):r.addEventListener(s,a,!1)}function Ih(r,s,a,c,f){var g=c;if((s&1)===0&&(s&2)===0&&c!==null)e:for(;;){if(c===null)return;var _=c.tag;if(_===3||_===4){var P=c.stateNode.containerInfo;if(P===f||P.nodeType===8&&P.parentNode===f)break;if(_===4)for(_=c.return;_!==null;){var C=_.tag;if((C===3||C===4)&&(C=_.stateNode.containerInfo,C===f||C.nodeType===8&&C.parentNode===f))return;_=_.return}for(;P!==null;){if(_=ts(P),_===null)return;if(C=_.tag,C===5||C===6){c=g=_;continue e}P=P.parentNode}}c=c.return}ca(function(){var z=g,Z=Ms(a),ee=[];e:{var J=Bp.get(r);if(J!==void 0){var ie=Ys,ue=r;switch(r){case"keypress":if(Qs(a)===0)break e;case"keydown":case"keyup":ie=m;break;case"focusin":ue="focus",ie=eo;break;case"focusout":ue="blur",ie=eo;break;case"beforeblur":case"afterblur":ie=eo;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ie=Js;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ie=ql;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ie=$;break;case Fp:case Up:case jp:ie=Ir;break;case zp:ie=je;break;case"scroll":ie=fh;break;case"wheel":ie=Oe;break;case"copy":case"cut":case"paste":ie=Ql;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ie=E}var he=(s&4)!==0,ot=!he&&r==="scroll",U=he?J!==null?J+"Capture":null:J;he=[];for(var N=z,j;N!==null;){j=N;var te=j.stateNode;if(j.tag===5&&te!==null&&(j=te,U!==null&&(te=st(N,U),te!=null&&he.push(Aa(N,te,j)))),ot)break;N=N.return}0<he.length&&(J=new ie(J,ue,null,a,Z),ee.push({event:J,listeners:he}))}}if((s&7)===0){e:{if(J=r==="mouseover"||r==="pointerover",ie=r==="mouseout"||r==="pointerout",J&&a!==Bi&&(ue=a.relatedTarget||a.fromElement)&&(ts(ue)||ue[Sr]))break e;if((ie||J)&&(J=Z.window===Z?Z:(J=Z.ownerDocument)?J.defaultView||J.parentWindow:window,ie?(ue=a.relatedTarget||a.toElement,ie=z,ue=ue?ts(ue):null,ue!==null&&(ot=Cn(ue),ue!==ot||ue.tag!==5&&ue.tag!==6)&&(ue=null)):(ie=null,ue=z),ie!==ue)){if(he=Js,te="onMouseLeave",U="onMouseEnter",N="mouse",(r==="pointerout"||r==="pointerover")&&(he=E,te="onPointerLeave",U="onPointerEnter",N="pointer"),ot=ie==null?J:lo(ie),j=ue==null?J:lo(ue),J=new he(te,N+"leave",ie,a,Z),J.target=ot,J.relatedTarget=j,te=null,ts(Z)===z&&(he=new he(U,N+"enter",ue,a,Z),he.target=j,he.relatedTarget=ot,te=he),ot=te,ie&&ue)t:{for(he=ie,U=ue,N=0,j=he;j;j=oo(j))N++;for(j=0,te=U;te;te=oo(te))j++;for(;0<N-j;)he=oo(he),N--;for(;0<j-N;)U=oo(U),j--;for(;N--;){if(he===U||U!==null&&he===U.alternate)break t;he=oo(he),U=oo(U)}he=null}else he=null;ie!==null&&Kp(ee,J,ie,he,!1),ue!==null&&ot!==null&&Kp(ee,ot,ue,he,!0)}}e:{if(J=z?lo(z):window,ie=J.nodeName&&J.nodeName.toLowerCase(),ie==="select"||ie==="input"&&J.type==="file")var de=bE;else if(kp(J))if(Cp)de=FE;else{de=ME;var ge=VE}else(ie=J.nodeName)&&ie.toLowerCase()==="input"&&(J.type==="checkbox"||J.type==="radio")&&(de=LE);if(de&&(de=de(r,z))){Rp(ee,de,a,Z);break e}ge&&ge(r,J,z),r==="focusout"&&(ge=J._wrapperState)&&ge.controlled&&J.type==="number"&&Os(J,"number",J.value)}switch(ge=z?lo(z):window,r){case"focusin":(kp(ge)||ge.contentEditable==="true")&&(io=ge,yh=z,ka=null);break;case"focusout":ka=yh=io=null;break;case"mousedown":vh=!0;break;case"contextmenu":case"mouseup":case"dragend":vh=!1,Mp(ee,a,Z);break;case"selectionchange":if(zE)break;case"keydown":case"keyup":Mp(ee,a,Z)}var ye;if(lt)e:{switch(r){case"compositionstart":var we="onCompositionStart";break e;case"compositionend":we="onCompositionEnd";break e;case"compositionupdate":we="onCompositionUpdate";break e}we=void 0}else ro?Sp(r,a)&&(we="onCompositionEnd"):r==="keydown"&&a.keyCode===229&&(we="onCompositionStart");we&&(es&&a.locale!=="ko"&&(ro||we!=="onCompositionStart"?we==="onCompositionEnd"&&ro&&(ye=_a()):(an=Z,Gs="value"in an?an.value:an.textContent,ro=!0)),ge=ru(z,we),0<ge.length&&(we=new Ta(we,r,null,a,Z),ee.push({event:we,listeners:ge}),ye?we.data=ye:(ye=Pp(a),ye!==null&&(we.data=ye)))),(ye=ln?xE(r,a):NE(r,a))&&(z=ru(z,"onBeforeInput"),0<z.length&&(Z=new Ta("onBeforeInput","beforeinput",null,a,Z),ee.push({event:Z,listeners:z}),Z.data=ye))}Hp(ee,s)})}function Aa(r,s,a){return{instance:r,listener:s,currentTarget:a}}function ru(r,s){for(var a=s+"Capture",c=[];r!==null;){var f=r,g=f.stateNode;f.tag===5&&g!==null&&(f=g,g=st(r,a),g!=null&&c.unshift(Aa(r,g,f)),g=st(r,s),g!=null&&c.push(Aa(r,g,f))),r=r.return}return c}function oo(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function Kp(r,s,a,c,f){for(var g=s._reactName,_=[];a!==null&&a!==c;){var P=a,C=P.alternate,z=P.stateNode;if(C!==null&&C===c)break;P.tag===5&&z!==null&&(P=z,f?(C=st(a,g),C!=null&&_.unshift(Aa(a,C,P))):f||(C=st(a,g),C!=null&&_.push(Aa(a,C,P)))),a=a.return}_.length!==0&&r.push({event:s,listeners:_})}var HE=/\r\n?/g,qE=/\u0000|\uFFFD/g;function Gp(r){return(typeof r=="string"?r:""+r).replace(HE,`
`).replace(qE,"")}function iu(r,s,a){if(s=Gp(s),Gp(r)!==s&&a)throw Error(t(425))}function su(){}var Sh=null,Ph=null;function kh(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Rh=typeof setTimeout=="function"?setTimeout:void 0,KE=typeof clearTimeout=="function"?clearTimeout:void 0,Qp=typeof Promise=="function"?Promise:void 0,GE=typeof queueMicrotask=="function"?queueMicrotask:typeof Qp<"u"?function(r){return Qp.resolve(null).then(r).catch(QE)}:Rh;function QE(r){setTimeout(function(){throw r})}function Ch(r,s){var a=s,c=0;do{var f=a.nextSibling;if(r.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(c===0){r.removeChild(f),On(s);return}c--}else a!=="$"&&a!=="$?"&&a!=="$!"||c++;a=f}while(a);On(s)}function ii(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return r}function Yp(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var a=r.data;if(a==="$"||a==="$!"||a==="$?"){if(s===0)return r;s--}else a==="/$"&&s++}r=r.previousSibling}return null}var ao=Math.random().toString(36).slice(2),Jn="__reactFiber$"+ao,xa="__reactProps$"+ao,Sr="__reactContainer$"+ao,Ah="__reactEvents$"+ao,YE="__reactListeners$"+ao,XE="__reactHandles$"+ao;function ts(r){var s=r[Jn];if(s)return s;for(var a=r.parentNode;a;){if(s=a[Sr]||a[Jn]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(r=Yp(r);r!==null;){if(a=r[Jn])return a;r=Yp(r)}return s}r=a,a=r.parentNode}return null}function Na(r){return r=r[Jn]||r[Sr],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function lo(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(t(33))}function ou(r){return r[xa]||null}var xh=[],uo=-1;function si(r){return{current:r}}function Ge(r){0>uo||(r.current=xh[uo],xh[uo]=null,uo--)}function qe(r,s){uo++,xh[uo]=r.current,r.current=s}var oi={},bt=si(oi),Yt=si(!1),ns=oi;function co(r,s){var a=r.type.contextTypes;if(!a)return oi;var c=r.stateNode;if(c&&c.__reactInternalMemoizedUnmaskedChildContext===s)return c.__reactInternalMemoizedMaskedChildContext;var f={},g;for(g in a)f[g]=s[g];return c&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=s,r.__reactInternalMemoizedMaskedChildContext=f),f}function Xt(r){return r=r.childContextTypes,r!=null}function au(){Ge(Yt),Ge(bt)}function Xp(r,s,a){if(bt.current!==oi)throw Error(t(168));qe(bt,s),qe(Yt,a)}function Jp(r,s,a){var c=r.stateNode;if(s=s.childContextTypes,typeof c.getChildContext!="function")return a;c=c.getChildContext();for(var f in c)if(!(f in s))throw Error(t(108,Le(r)||"Unknown",f));return se({},a,c)}function lu(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||oi,ns=bt.current,qe(bt,r),qe(Yt,Yt.current),!0}function Zp(r,s,a){var c=r.stateNode;if(!c)throw Error(t(169));a?(r=Jp(r,s,ns),c.__reactInternalMemoizedMergedChildContext=r,Ge(Yt),Ge(bt),qe(bt,r)):Ge(Yt),qe(Yt,a)}var Pr=null,uu=!1,Nh=!1;function em(r){Pr===null?Pr=[r]:Pr.push(r)}function JE(r){uu=!0,em(r)}function ai(){if(!Nh&&Pr!==null){Nh=!0;var r=0,s=xe;try{var a=Pr;for(xe=1;r<a.length;r++){var c=a[r];do c=c(!0);while(c!==null)}Pr=null,uu=!1}catch(f){throw Pr!==null&&(Pr=Pr.slice(r+1)),$s(Ki,ai),f}finally{xe=s,Nh=!1}}return null}var ho=[],fo=0,cu=null,hu=0,gn=[],yn=0,rs=null,kr=1,Rr="";function is(r,s){ho[fo++]=hu,ho[fo++]=cu,cu=r,hu=s}function tm(r,s,a){gn[yn++]=kr,gn[yn++]=Rr,gn[yn++]=rs,rs=r;var c=kr;r=Rr;var f=32-$t(c)-1;c&=~(1<<f),a+=1;var g=32-$t(s)+f;if(30<g){var _=f-f%5;g=(c&(1<<_)-1).toString(32),c>>=_,f-=_,kr=1<<32-$t(s)+f|a<<f|c,Rr=g+r}else kr=1<<g|a<<f|c,Rr=r}function Dh(r){r.return!==null&&(is(r,1),tm(r,1,0))}function Oh(r){for(;r===cu;)cu=ho[--fo],ho[fo]=null,hu=ho[--fo],ho[fo]=null;for(;r===rs;)rs=gn[--yn],gn[yn]=null,Rr=gn[--yn],gn[yn]=null,kr=gn[--yn],gn[yn]=null}var un=null,cn=null,Xe=!1,Mn=null;function nm(r,s){var a=En(5,null,null,0);a.elementType="DELETED",a.stateNode=s,a.return=r,s=r.deletions,s===null?(r.deletions=[a],r.flags|=16):s.push(a)}function rm(r,s){switch(r.tag){case 5:var a=r.type;return s=s.nodeType!==1||a.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(r.stateNode=s,un=r,cn=ii(s.firstChild),!0):!1;case 6:return s=r.pendingProps===""||s.nodeType!==3?null:s,s!==null?(r.stateNode=s,un=r,cn=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(a=rs!==null?{id:kr,overflow:Rr}:null,r.memoizedState={dehydrated:s,treeContext:a,retryLane:1073741824},a=En(18,null,null,0),a.stateNode=s,a.return=r,r.child=a,un=r,cn=null,!0):!1;default:return!1}}function bh(r){return(r.mode&1)!==0&&(r.flags&128)===0}function Vh(r){if(Xe){var s=cn;if(s){var a=s;if(!rm(r,s)){if(bh(r))throw Error(t(418));s=ii(a.nextSibling);var c=un;s&&rm(r,s)?nm(c,a):(r.flags=r.flags&-4097|2,Xe=!1,un=r)}}else{if(bh(r))throw Error(t(418));r.flags=r.flags&-4097|2,Xe=!1,un=r}}}function im(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;un=r}function du(r){if(r!==un)return!1;if(!Xe)return im(r),Xe=!0,!1;var s;if((s=r.tag!==3)&&!(s=r.tag!==5)&&(s=r.type,s=s!=="head"&&s!=="body"&&!kh(r.type,r.memoizedProps)),s&&(s=cn)){if(bh(r))throw sm(),Error(t(418));for(;s;)nm(r,s),s=ii(s.nextSibling)}if(im(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(t(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8){var a=r.data;if(a==="/$"){if(s===0){cn=ii(r.nextSibling);break e}s--}else a!=="$"&&a!=="$!"&&a!=="$?"||s++}r=r.nextSibling}cn=null}}else cn=un?ii(r.stateNode.nextSibling):null;return!0}function sm(){for(var r=cn;r;)r=ii(r.nextSibling)}function po(){cn=un=null,Xe=!1}function Mh(r){Mn===null?Mn=[r]:Mn.push(r)}var ZE=ae.ReactCurrentBatchConfig;function Da(r,s,a){if(r=a.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(t(309));var c=a.stateNode}if(!c)throw Error(t(147,r));var f=c,g=""+r;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===g?s.ref:(s=function(_){var P=f.refs;_===null?delete P[g]:P[g]=_},s._stringRef=g,s)}if(typeof r!="string")throw Error(t(284));if(!a._owner)throw Error(t(290,r))}return r}function fu(r,s){throw r=Object.prototype.toString.call(s),Error(t(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r))}function om(r){var s=r._init;return s(r._payload)}function am(r){function s(U,N){if(r){var j=U.deletions;j===null?(U.deletions=[N],U.flags|=16):j.push(N)}}function a(U,N){if(!r)return null;for(;N!==null;)s(U,N),N=N.sibling;return null}function c(U,N){for(U=new Map;N!==null;)N.key!==null?U.set(N.key,N):U.set(N.index,N),N=N.sibling;return U}function f(U,N){return U=mi(U,N),U.index=0,U.sibling=null,U}function g(U,N,j){return U.index=j,r?(j=U.alternate,j!==null?(j=j.index,j<N?(U.flags|=2,N):j):(U.flags|=2,N)):(U.flags|=1048576,N)}function _(U){return r&&U.alternate===null&&(U.flags|=2),U}function P(U,N,j,te){return N===null||N.tag!==6?(N=Rd(j,U.mode,te),N.return=U,N):(N=f(N,j),N.return=U,N)}function C(U,N,j,te){var de=j.type;return de===x?Z(U,N,j.props.children,te,j.key):N!==null&&(N.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===Ot&&om(de)===N.type)?(te=f(N,j.props),te.ref=Da(U,N,j),te.return=U,te):(te=Lu(j.type,j.key,j.props,null,U.mode,te),te.ref=Da(U,N,j),te.return=U,te)}function z(U,N,j,te){return N===null||N.tag!==4||N.stateNode.containerInfo!==j.containerInfo||N.stateNode.implementation!==j.implementation?(N=Cd(j,U.mode,te),N.return=U,N):(N=f(N,j.children||[]),N.return=U,N)}function Z(U,N,j,te,de){return N===null||N.tag!==7?(N=ds(j,U.mode,te,de),N.return=U,N):(N=f(N,j),N.return=U,N)}function ee(U,N,j){if(typeof N=="string"&&N!==""||typeof N=="number")return N=Rd(""+N,U.mode,j),N.return=U,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case Se:return j=Lu(N.type,N.key,N.props,null,U.mode,j),j.ref=Da(U,null,N),j.return=U,j;case Ee:return N=Cd(N,U.mode,j),N.return=U,N;case Ot:var te=N._init;return ee(U,te(N._payload),j)}if(mr(N)||me(N))return N=ds(N,U.mode,j,null),N.return=U,N;fu(U,N)}return null}function J(U,N,j,te){var de=N!==null?N.key:null;if(typeof j=="string"&&j!==""||typeof j=="number")return de!==null?null:P(U,N,""+j,te);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Se:return j.key===de?C(U,N,j,te):null;case Ee:return j.key===de?z(U,N,j,te):null;case Ot:return de=j._init,J(U,N,de(j._payload),te)}if(mr(j)||me(j))return de!==null?null:Z(U,N,j,te,null);fu(U,j)}return null}function ie(U,N,j,te,de){if(typeof te=="string"&&te!==""||typeof te=="number")return U=U.get(j)||null,P(N,U,""+te,de);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case Se:return U=U.get(te.key===null?j:te.key)||null,C(N,U,te,de);case Ee:return U=U.get(te.key===null?j:te.key)||null,z(N,U,te,de);case Ot:var ge=te._init;return ie(U,N,j,ge(te._payload),de)}if(mr(te)||me(te))return U=U.get(j)||null,Z(N,U,te,de,null);fu(N,te)}return null}function ue(U,N,j,te){for(var de=null,ge=null,ye=N,we=N=0,Tt=null;ye!==null&&we<j.length;we++){ye.index>we?(Tt=ye,ye=null):Tt=ye.sibling;var Me=J(U,ye,j[we],te);if(Me===null){ye===null&&(ye=Tt);break}r&&ye&&Me.alternate===null&&s(U,ye),N=g(Me,N,we),ge===null?de=Me:ge.sibling=Me,ge=Me,ye=Tt}if(we===j.length)return a(U,ye),Xe&&is(U,we),de;if(ye===null){for(;we<j.length;we++)ye=ee(U,j[we],te),ye!==null&&(N=g(ye,N,we),ge===null?de=ye:ge.sibling=ye,ge=ye);return Xe&&is(U,we),de}for(ye=c(U,ye);we<j.length;we++)Tt=ie(ye,U,we,j[we],te),Tt!==null&&(r&&Tt.alternate!==null&&ye.delete(Tt.key===null?we:Tt.key),N=g(Tt,N,we),ge===null?de=Tt:ge.sibling=Tt,ge=Tt);return r&&ye.forEach(function(gi){return s(U,gi)}),Xe&&is(U,we),de}function he(U,N,j,te){var de=me(j);if(typeof de!="function")throw Error(t(150));if(j=de.call(j),j==null)throw Error(t(151));for(var ge=de=null,ye=N,we=N=0,Tt=null,Me=j.next();ye!==null&&!Me.done;we++,Me=j.next()){ye.index>we?(Tt=ye,ye=null):Tt=ye.sibling;var gi=J(U,ye,Me.value,te);if(gi===null){ye===null&&(ye=Tt);break}r&&ye&&gi.alternate===null&&s(U,ye),N=g(gi,N,we),ge===null?de=gi:ge.sibling=gi,ge=gi,ye=Tt}if(Me.done)return a(U,ye),Xe&&is(U,we),de;if(ye===null){for(;!Me.done;we++,Me=j.next())Me=ee(U,Me.value,te),Me!==null&&(N=g(Me,N,we),ge===null?de=Me:ge.sibling=Me,ge=Me);return Xe&&is(U,we),de}for(ye=c(U,ye);!Me.done;we++,Me=j.next())Me=ie(ye,U,we,Me.value,te),Me!==null&&(r&&Me.alternate!==null&&ye.delete(Me.key===null?we:Me.key),N=g(Me,N,we),ge===null?de=Me:ge.sibling=Me,ge=Me);return r&&ye.forEach(function(D0){return s(U,D0)}),Xe&&is(U,we),de}function ot(U,N,j,te){if(typeof j=="object"&&j!==null&&j.type===x&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case Se:e:{for(var de=j.key,ge=N;ge!==null;){if(ge.key===de){if(de=j.type,de===x){if(ge.tag===7){a(U,ge.sibling),N=f(ge,j.props.children),N.return=U,U=N;break e}}else if(ge.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===Ot&&om(de)===ge.type){a(U,ge.sibling),N=f(ge,j.props),N.ref=Da(U,ge,j),N.return=U,U=N;break e}a(U,ge);break}else s(U,ge);ge=ge.sibling}j.type===x?(N=ds(j.props.children,U.mode,te,j.key),N.return=U,U=N):(te=Lu(j.type,j.key,j.props,null,U.mode,te),te.ref=Da(U,N,j),te.return=U,U=te)}return _(U);case Ee:e:{for(ge=j.key;N!==null;){if(N.key===ge)if(N.tag===4&&N.stateNode.containerInfo===j.containerInfo&&N.stateNode.implementation===j.implementation){a(U,N.sibling),N=f(N,j.children||[]),N.return=U,U=N;break e}else{a(U,N);break}else s(U,N);N=N.sibling}N=Cd(j,U.mode,te),N.return=U,U=N}return _(U);case Ot:return ge=j._init,ot(U,N,ge(j._payload),te)}if(mr(j))return ue(U,N,j,te);if(me(j))return he(U,N,j,te);fu(U,j)}return typeof j=="string"&&j!==""||typeof j=="number"?(j=""+j,N!==null&&N.tag===6?(a(U,N.sibling),N=f(N,j),N.return=U,U=N):(a(U,N),N=Rd(j,U.mode,te),N.return=U,U=N),_(U)):a(U,N)}return ot}var mo=am(!0),lm=am(!1),pu=si(null),mu=null,go=null,Lh=null;function Fh(){Lh=go=mu=null}function Uh(r){var s=pu.current;Ge(pu),r._currentValue=s}function jh(r,s,a){for(;r!==null;){var c=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,c!==null&&(c.childLanes|=s)):c!==null&&(c.childLanes&s)!==s&&(c.childLanes|=s),r===a)break;r=r.return}}function yo(r,s){mu=r,Lh=go=null,r=r.dependencies,r!==null&&r.firstContext!==null&&((r.lanes&s)!==0&&(Jt=!0),r.firstContext=null)}function vn(r){var s=r._currentValue;if(Lh!==r)if(r={context:r,memoizedValue:s,next:null},go===null){if(mu===null)throw Error(t(308));go=r,mu.dependencies={lanes:0,firstContext:r}}else go=go.next=r;return s}var ss=null;function zh(r){ss===null?ss=[r]:ss.push(r)}function um(r,s,a,c){var f=s.interleaved;return f===null?(a.next=a,zh(s)):(a.next=f.next,f.next=a),s.interleaved=a,Cr(r,c)}function Cr(r,s){r.lanes|=s;var a=r.alternate;for(a!==null&&(a.lanes|=s),a=r,r=r.return;r!==null;)r.childLanes|=s,a=r.alternate,a!==null&&(a.childLanes|=s),a=r,r=r.return;return a.tag===3?a.stateNode:null}var li=!1;function Bh(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function cm(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function Ar(r,s){return{eventTime:r,lane:s,tag:0,payload:null,callback:null,next:null}}function ui(r,s,a){var c=r.updateQueue;if(c===null)return null;if(c=c.shared,(Ve&2)!==0){var f=c.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),c.pending=s,Cr(r,a)}return f=c.interleaved,f===null?(s.next=s,zh(c)):(s.next=f.next,f.next=s),c.interleaved=s,Cr(r,a)}function gu(r,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194240)!==0)){var c=s.lanes;c&=r.pendingLanes,a|=c,s.lanes=a,Jr(r,a)}}function hm(r,s){var a=r.updateQueue,c=r.alternate;if(c!==null&&(c=c.updateQueue,a===c)){var f=null,g=null;if(a=a.firstBaseUpdate,a!==null){do{var _={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};g===null?f=g=_:g=g.next=_,a=a.next}while(a!==null);g===null?f=g=s:g=g.next=s}else f=g=s;a={baseState:c.baseState,firstBaseUpdate:f,lastBaseUpdate:g,shared:c.shared,effects:c.effects},r.updateQueue=a;return}r=a.lastBaseUpdate,r===null?a.firstBaseUpdate=s:r.next=s,a.lastBaseUpdate=s}function yu(r,s,a,c){var f=r.updateQueue;li=!1;var g=f.firstBaseUpdate,_=f.lastBaseUpdate,P=f.shared.pending;if(P!==null){f.shared.pending=null;var C=P,z=C.next;C.next=null,_===null?g=z:_.next=z,_=C;var Z=r.alternate;Z!==null&&(Z=Z.updateQueue,P=Z.lastBaseUpdate,P!==_&&(P===null?Z.firstBaseUpdate=z:P.next=z,Z.lastBaseUpdate=C))}if(g!==null){var ee=f.baseState;_=0,Z=z=C=null,P=g;do{var J=P.lane,ie=P.eventTime;if((c&J)===J){Z!==null&&(Z=Z.next={eventTime:ie,lane:0,tag:P.tag,payload:P.payload,callback:P.callback,next:null});e:{var ue=r,he=P;switch(J=s,ie=a,he.tag){case 1:if(ue=he.payload,typeof ue=="function"){ee=ue.call(ie,ee,J);break e}ee=ue;break e;case 3:ue.flags=ue.flags&-65537|128;case 0:if(ue=he.payload,J=typeof ue=="function"?ue.call(ie,ee,J):ue,J==null)break e;ee=se({},ee,J);break e;case 2:li=!0}}P.callback!==null&&P.lane!==0&&(r.flags|=64,J=f.effects,J===null?f.effects=[P]:J.push(P))}else ie={eventTime:ie,lane:J,tag:P.tag,payload:P.payload,callback:P.callback,next:null},Z===null?(z=Z=ie,C=ee):Z=Z.next=ie,_|=J;if(P=P.next,P===null){if(P=f.shared.pending,P===null)break;J=P,P=J.next,J.next=null,f.lastBaseUpdate=J,f.shared.pending=null}}while(!0);if(Z===null&&(C=ee),f.baseState=C,f.firstBaseUpdate=z,f.lastBaseUpdate=Z,s=f.shared.interleaved,s!==null){f=s;do _|=f.lane,f=f.next;while(f!==s)}else g===null&&(f.shared.lanes=0);ls|=_,r.lanes=_,r.memoizedState=ee}}function dm(r,s,a){if(r=s.effects,s.effects=null,r!==null)for(s=0;s<r.length;s++){var c=r[s],f=c.callback;if(f!==null){if(c.callback=null,c=a,typeof f!="function")throw Error(t(191,f));f.call(c)}}}var Oa={},Zn=si(Oa),ba=si(Oa),Va=si(Oa);function os(r){if(r===Oa)throw Error(t(174));return r}function $h(r,s){switch(qe(Va,s),qe(ba,r),qe(Zn,Oa),r=s.nodeType,r){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:ft(null,"");break;default:r=r===8?s.parentNode:s,s=r.namespaceURI||null,r=r.tagName,s=ft(s,r)}Ge(Zn),qe(Zn,s)}function vo(){Ge(Zn),Ge(ba),Ge(Va)}function fm(r){os(Va.current);var s=os(Zn.current),a=ft(s,r.type);s!==a&&(qe(ba,r),qe(Zn,a))}function Wh(r){ba.current===r&&(Ge(Zn),Ge(ba))}var Je=si(0);function vu(r){for(var s=r;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Hh=[];function qh(){for(var r=0;r<Hh.length;r++)Hh[r]._workInProgressVersionPrimary=null;Hh.length=0}var _u=ae.ReactCurrentDispatcher,Kh=ae.ReactCurrentBatchConfig,as=0,Ze=null,mt=null,wt=null,wu=!1,Ma=!1,La=0,e0=0;function Vt(){throw Error(t(321))}function Gh(r,s){if(s===null)return!1;for(var a=0;a<s.length&&a<r.length;a++)if(!Vn(r[a],s[a]))return!1;return!0}function Qh(r,s,a,c,f,g){if(as=g,Ze=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,_u.current=r===null||r.memoizedState===null?i0:s0,r=a(c,f),Ma){g=0;do{if(Ma=!1,La=0,25<=g)throw Error(t(301));g+=1,wt=mt=null,s.updateQueue=null,_u.current=o0,r=a(c,f)}while(Ma)}if(_u.current=Iu,s=mt!==null&&mt.next!==null,as=0,wt=mt=Ze=null,wu=!1,s)throw Error(t(300));return r}function Yh(){var r=La!==0;return La=0,r}function er(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wt===null?Ze.memoizedState=wt=r:wt=wt.next=r,wt}function _n(){if(mt===null){var r=Ze.alternate;r=r!==null?r.memoizedState:null}else r=mt.next;var s=wt===null?Ze.memoizedState:wt.next;if(s!==null)wt=s,mt=r;else{if(r===null)throw Error(t(310));mt=r,r={memoizedState:mt.memoizedState,baseState:mt.baseState,baseQueue:mt.baseQueue,queue:mt.queue,next:null},wt===null?Ze.memoizedState=wt=r:wt=wt.next=r}return wt}function Fa(r,s){return typeof s=="function"?s(r):s}function Xh(r){var s=_n(),a=s.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=r;var c=mt,f=c.baseQueue,g=a.pending;if(g!==null){if(f!==null){var _=f.next;f.next=g.next,g.next=_}c.baseQueue=f=g,a.pending=null}if(f!==null){g=f.next,c=c.baseState;var P=_=null,C=null,z=g;do{var Z=z.lane;if((as&Z)===Z)C!==null&&(C=C.next={lane:0,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),c=z.hasEagerState?z.eagerState:r(c,z.action);else{var ee={lane:Z,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null};C===null?(P=C=ee,_=c):C=C.next=ee,Ze.lanes|=Z,ls|=Z}z=z.next}while(z!==null&&z!==g);C===null?_=c:C.next=P,Vn(c,s.memoizedState)||(Jt=!0),s.memoizedState=c,s.baseState=_,s.baseQueue=C,a.lastRenderedState=c}if(r=a.interleaved,r!==null){f=r;do g=f.lane,Ze.lanes|=g,ls|=g,f=f.next;while(f!==r)}else f===null&&(a.lanes=0);return[s.memoizedState,a.dispatch]}function Jh(r){var s=_n(),a=s.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=r;var c=a.dispatch,f=a.pending,g=s.memoizedState;if(f!==null){a.pending=null;var _=f=f.next;do g=r(g,_.action),_=_.next;while(_!==f);Vn(g,s.memoizedState)||(Jt=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),a.lastRenderedState=g}return[g,c]}function pm(){}function mm(r,s){var a=Ze,c=_n(),f=s(),g=!Vn(c.memoizedState,f);if(g&&(c.memoizedState=f,Jt=!0),c=c.queue,Zh(vm.bind(null,a,c,r),[r]),c.getSnapshot!==s||g||wt!==null&&wt.memoizedState.tag&1){if(a.flags|=2048,Ua(9,ym.bind(null,a,c,f,s),void 0,null),Et===null)throw Error(t(349));(as&30)!==0||gm(a,s,f)}return f}function gm(r,s,a){r.flags|=16384,r={getSnapshot:s,value:a},s=Ze.updateQueue,s===null?(s={lastEffect:null,stores:null},Ze.updateQueue=s,s.stores=[r]):(a=s.stores,a===null?s.stores=[r]:a.push(r))}function ym(r,s,a,c){s.value=a,s.getSnapshot=c,_m(s)&&wm(r)}function vm(r,s,a){return a(function(){_m(s)&&wm(r)})}function _m(r){var s=r.getSnapshot;r=r.value;try{var a=s();return!Vn(r,a)}catch{return!0}}function wm(r){var s=Cr(r,1);s!==null&&jn(s,r,1,-1)}function Em(r){var s=er();return typeof r=="function"&&(r=r()),s.memoizedState=s.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Fa,lastRenderedState:r},s.queue=r,r=r.dispatch=r0.bind(null,Ze,r),[s.memoizedState,r]}function Ua(r,s,a,c){return r={tag:r,create:s,destroy:a,deps:c,next:null},s=Ze.updateQueue,s===null?(s={lastEffect:null,stores:null},Ze.updateQueue=s,s.lastEffect=r.next=r):(a=s.lastEffect,a===null?s.lastEffect=r.next=r:(c=a.next,a.next=r,r.next=c,s.lastEffect=r)),r}function Tm(){return _n().memoizedState}function Eu(r,s,a,c){var f=er();Ze.flags|=r,f.memoizedState=Ua(1|s,a,void 0,c===void 0?null:c)}function Tu(r,s,a,c){var f=_n();c=c===void 0?null:c;var g=void 0;if(mt!==null){var _=mt.memoizedState;if(g=_.destroy,c!==null&&Gh(c,_.deps)){f.memoizedState=Ua(s,a,g,c);return}}Ze.flags|=r,f.memoizedState=Ua(1|s,a,g,c)}function Im(r,s){return Eu(8390656,8,r,s)}function Zh(r,s){return Tu(2048,8,r,s)}function Sm(r,s){return Tu(4,2,r,s)}function Pm(r,s){return Tu(4,4,r,s)}function km(r,s){if(typeof s=="function")return r=r(),s(r),function(){s(null)};if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function Rm(r,s,a){return a=a!=null?a.concat([r]):null,Tu(4,4,km.bind(null,s,r),a)}function ed(){}function Cm(r,s){var a=_n();s=s===void 0?null:s;var c=a.memoizedState;return c!==null&&s!==null&&Gh(s,c[1])?c[0]:(a.memoizedState=[r,s],r)}function Am(r,s){var a=_n();s=s===void 0?null:s;var c=a.memoizedState;return c!==null&&s!==null&&Gh(s,c[1])?c[0]:(r=r(),a.memoizedState=[r,s],r)}function xm(r,s,a){return(as&21)===0?(r.baseState&&(r.baseState=!1,Jt=!0),r.memoizedState=a):(Vn(a,s)||(a=Yi(),Ze.lanes|=a,ls|=a,r.baseState=!0),s)}function t0(r,s){var a=xe;xe=a!==0&&4>a?a:4,r(!0);var c=Kh.transition;Kh.transition={};try{r(!1),s()}finally{xe=a,Kh.transition=c}}function Nm(){return _n().memoizedState}function n0(r,s,a){var c=fi(r);if(a={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null},Dm(r))Om(s,a);else if(a=um(r,s,a,c),a!==null){var f=qt();jn(a,r,c,f),bm(a,s,c)}}function r0(r,s,a){var c=fi(r),f={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null};if(Dm(r))Om(s,f);else{var g=r.alternate;if(r.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var _=s.lastRenderedState,P=g(_,a);if(f.hasEagerState=!0,f.eagerState=P,Vn(P,_)){var C=s.interleaved;C===null?(f.next=f,zh(s)):(f.next=C.next,C.next=f),s.interleaved=f;return}}catch{}finally{}a=um(r,s,f,c),a!==null&&(f=qt(),jn(a,r,c,f),bm(a,s,c))}}function Dm(r){var s=r.alternate;return r===Ze||s!==null&&s===Ze}function Om(r,s){Ma=wu=!0;var a=r.pending;a===null?s.next=s:(s.next=a.next,a.next=s),r.pending=s}function bm(r,s,a){if((a&4194240)!==0){var c=s.lanes;c&=r.pendingLanes,a|=c,s.lanes=a,Jr(r,a)}}var Iu={readContext:vn,useCallback:Vt,useContext:Vt,useEffect:Vt,useImperativeHandle:Vt,useInsertionEffect:Vt,useLayoutEffect:Vt,useMemo:Vt,useReducer:Vt,useRef:Vt,useState:Vt,useDebugValue:Vt,useDeferredValue:Vt,useTransition:Vt,useMutableSource:Vt,useSyncExternalStore:Vt,useId:Vt,unstable_isNewReconciler:!1},i0={readContext:vn,useCallback:function(r,s){return er().memoizedState=[r,s===void 0?null:s],r},useContext:vn,useEffect:Im,useImperativeHandle:function(r,s,a){return a=a!=null?a.concat([r]):null,Eu(4194308,4,km.bind(null,s,r),a)},useLayoutEffect:function(r,s){return Eu(4194308,4,r,s)},useInsertionEffect:function(r,s){return Eu(4,2,r,s)},useMemo:function(r,s){var a=er();return s=s===void 0?null:s,r=r(),a.memoizedState=[r,s],r},useReducer:function(r,s,a){var c=er();return s=a!==void 0?a(s):s,c.memoizedState=c.baseState=s,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:s},c.queue=r,r=r.dispatch=n0.bind(null,Ze,r),[c.memoizedState,r]},useRef:function(r){var s=er();return r={current:r},s.memoizedState=r},useState:Em,useDebugValue:ed,useDeferredValue:function(r){return er().memoizedState=r},useTransition:function(){var r=Em(!1),s=r[0];return r=t0.bind(null,r[1]),er().memoizedState=r,[s,r]},useMutableSource:function(){},useSyncExternalStore:function(r,s,a){var c=Ze,f=er();if(Xe){if(a===void 0)throw Error(t(407));a=a()}else{if(a=s(),Et===null)throw Error(t(349));(as&30)!==0||gm(c,s,a)}f.memoizedState=a;var g={value:a,getSnapshot:s};return f.queue=g,Im(vm.bind(null,c,g,r),[r]),c.flags|=2048,Ua(9,ym.bind(null,c,g,a,s),void 0,null),a},useId:function(){var r=er(),s=Et.identifierPrefix;if(Xe){var a=Rr,c=kr;a=(c&~(1<<32-$t(c)-1)).toString(32)+a,s=":"+s+"R"+a,a=La++,0<a&&(s+="H"+a.toString(32)),s+=":"}else a=e0++,s=":"+s+"r"+a.toString(32)+":";return r.memoizedState=s},unstable_isNewReconciler:!1},s0={readContext:vn,useCallback:Cm,useContext:vn,useEffect:Zh,useImperativeHandle:Rm,useInsertionEffect:Sm,useLayoutEffect:Pm,useMemo:Am,useReducer:Xh,useRef:Tm,useState:function(){return Xh(Fa)},useDebugValue:ed,useDeferredValue:function(r){var s=_n();return xm(s,mt.memoizedState,r)},useTransition:function(){var r=Xh(Fa)[0],s=_n().memoizedState;return[r,s]},useMutableSource:pm,useSyncExternalStore:mm,useId:Nm,unstable_isNewReconciler:!1},o0={readContext:vn,useCallback:Cm,useContext:vn,useEffect:Zh,useImperativeHandle:Rm,useInsertionEffect:Sm,useLayoutEffect:Pm,useMemo:Am,useReducer:Jh,useRef:Tm,useState:function(){return Jh(Fa)},useDebugValue:ed,useDeferredValue:function(r){var s=_n();return mt===null?s.memoizedState=r:xm(s,mt.memoizedState,r)},useTransition:function(){var r=Jh(Fa)[0],s=_n().memoizedState;return[r,s]},useMutableSource:pm,useSyncExternalStore:mm,useId:Nm,unstable_isNewReconciler:!1};function Ln(r,s){if(r&&r.defaultProps){s=se({},s),r=r.defaultProps;for(var a in r)s[a]===void 0&&(s[a]=r[a]);return s}return s}function td(r,s,a,c){s=r.memoizedState,a=a(c,s),a=a==null?s:se({},s,a),r.memoizedState=a,r.lanes===0&&(r.updateQueue.baseState=a)}var Su={isMounted:function(r){return(r=r._reactInternals)?Cn(r)===r:!1},enqueueSetState:function(r,s,a){r=r._reactInternals;var c=qt(),f=fi(r),g=Ar(c,f);g.payload=s,a!=null&&(g.callback=a),s=ui(r,g,f),s!==null&&(jn(s,r,f,c),gu(s,r,f))},enqueueReplaceState:function(r,s,a){r=r._reactInternals;var c=qt(),f=fi(r),g=Ar(c,f);g.tag=1,g.payload=s,a!=null&&(g.callback=a),s=ui(r,g,f),s!==null&&(jn(s,r,f,c),gu(s,r,f))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var a=qt(),c=fi(r),f=Ar(a,c);f.tag=2,s!=null&&(f.callback=s),s=ui(r,f,c),s!==null&&(jn(s,r,c,a),gu(s,r,c))}};function Vm(r,s,a,c,f,g,_){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(c,g,_):s.prototype&&s.prototype.isPureReactComponent?!Pa(a,c)||!Pa(f,g):!0}function Mm(r,s,a){var c=!1,f=oi,g=s.contextType;return typeof g=="object"&&g!==null?g=vn(g):(f=Xt(s)?ns:bt.current,c=s.contextTypes,g=(c=c!=null)?co(r,f):oi),s=new s(a,g),r.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Su,r.stateNode=s,s._reactInternals=r,c&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=f,r.__reactInternalMemoizedMaskedChildContext=g),s}function Lm(r,s,a,c){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,c),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,c),s.state!==r&&Su.enqueueReplaceState(s,s.state,null)}function nd(r,s,a,c){var f=r.stateNode;f.props=a,f.state=r.memoizedState,f.refs={},Bh(r);var g=s.contextType;typeof g=="object"&&g!==null?f.context=vn(g):(g=Xt(s)?ns:bt.current,f.context=co(r,g)),f.state=r.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(td(r,s,g,a),f.state=r.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(s=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),s!==f.state&&Su.enqueueReplaceState(f,f.state,null),yu(r,a,f,c),f.state=r.memoizedState),typeof f.componentDidMount=="function"&&(r.flags|=4194308)}function _o(r,s){try{var a="",c=s;do a+=ke(c),c=c.return;while(c);var f=a}catch(g){f=`
Error generating stack: `+g.message+`
`+g.stack}return{value:r,source:s,stack:f,digest:null}}function rd(r,s,a){return{value:r,source:null,stack:a??null,digest:s??null}}function id(r,s){try{console.error(s.value)}catch(a){setTimeout(function(){throw a})}}var a0=typeof WeakMap=="function"?WeakMap:Map;function Fm(r,s,a){a=Ar(-1,a),a.tag=3,a.payload={element:null};var c=s.value;return a.callback=function(){Nu||(Nu=!0,_d=c),id(r,s)},a}function Um(r,s,a){a=Ar(-1,a),a.tag=3;var c=r.type.getDerivedStateFromError;if(typeof c=="function"){var f=s.value;a.payload=function(){return c(f)},a.callback=function(){id(r,s)}}var g=r.stateNode;return g!==null&&typeof g.componentDidCatch=="function"&&(a.callback=function(){id(r,s),typeof c!="function"&&(hi===null?hi=new Set([this]):hi.add(this));var _=s.stack;this.componentDidCatch(s.value,{componentStack:_!==null?_:""})}),a}function jm(r,s,a){var c=r.pingCache;if(c===null){c=r.pingCache=new a0;var f=new Set;c.set(s,f)}else f=c.get(s),f===void 0&&(f=new Set,c.set(s,f));f.has(a)||(f.add(a),r=E0.bind(null,r,s,a),s.then(r,r))}function zm(r){do{var s;if((s=r.tag===13)&&(s=r.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return r;r=r.return}while(r!==null);return null}function Bm(r,s,a,c,f){return(r.mode&1)===0?(r===s?r.flags|=65536:(r.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(s=Ar(-1,1),s.tag=2,ui(a,s,1))),a.lanes|=1),r):(r.flags|=65536,r.lanes=f,r)}var l0=ae.ReactCurrentOwner,Jt=!1;function Ht(r,s,a,c){s.child=r===null?lm(s,null,a,c):mo(s,r.child,a,c)}function $m(r,s,a,c,f){a=a.render;var g=s.ref;return yo(s,f),c=Qh(r,s,a,c,g,f),a=Yh(),r!==null&&!Jt?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~f,xr(r,s,f)):(Xe&&a&&Dh(s),s.flags|=1,Ht(r,s,c,f),s.child)}function Wm(r,s,a,c,f){if(r===null){var g=a.type;return typeof g=="function"&&!kd(g)&&g.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(s.tag=15,s.type=g,Hm(r,s,g,c,f)):(r=Lu(a.type,null,c,s,s.mode,f),r.ref=s.ref,r.return=s,s.child=r)}if(g=r.child,(r.lanes&f)===0){var _=g.memoizedProps;if(a=a.compare,a=a!==null?a:Pa,a(_,c)&&r.ref===s.ref)return xr(r,s,f)}return s.flags|=1,r=mi(g,c),r.ref=s.ref,r.return=s,s.child=r}function Hm(r,s,a,c,f){if(r!==null){var g=r.memoizedProps;if(Pa(g,c)&&r.ref===s.ref)if(Jt=!1,s.pendingProps=c=g,(r.lanes&f)!==0)(r.flags&131072)!==0&&(Jt=!0);else return s.lanes=r.lanes,xr(r,s,f)}return sd(r,s,a,c,f)}function qm(r,s,a){var c=s.pendingProps,f=c.children,g=r!==null?r.memoizedState:null;if(c.mode==="hidden")if((s.mode&1)===0)s.memoizedState={baseLanes:0,cachePool:null,transitions:null},qe(Eo,hn),hn|=a;else{if((a&1073741824)===0)return r=g!==null?g.baseLanes|a:a,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:r,cachePool:null,transitions:null},s.updateQueue=null,qe(Eo,hn),hn|=r,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},c=g!==null?g.baseLanes:a,qe(Eo,hn),hn|=c}else g!==null?(c=g.baseLanes|a,s.memoizedState=null):c=a,qe(Eo,hn),hn|=c;return Ht(r,s,f,a),s.child}function Km(r,s){var a=s.ref;(r===null&&a!==null||r!==null&&r.ref!==a)&&(s.flags|=512,s.flags|=2097152)}function sd(r,s,a,c,f){var g=Xt(a)?ns:bt.current;return g=co(s,g),yo(s,f),a=Qh(r,s,a,c,g,f),c=Yh(),r!==null&&!Jt?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~f,xr(r,s,f)):(Xe&&c&&Dh(s),s.flags|=1,Ht(r,s,a,f),s.child)}function Gm(r,s,a,c,f){if(Xt(a)){var g=!0;lu(s)}else g=!1;if(yo(s,f),s.stateNode===null)ku(r,s),Mm(s,a,c),nd(s,a,c,f),c=!0;else if(r===null){var _=s.stateNode,P=s.memoizedProps;_.props=P;var C=_.context,z=a.contextType;typeof z=="object"&&z!==null?z=vn(z):(z=Xt(a)?ns:bt.current,z=co(s,z));var Z=a.getDerivedStateFromProps,ee=typeof Z=="function"||typeof _.getSnapshotBeforeUpdate=="function";ee||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(P!==c||C!==z)&&Lm(s,_,c,z),li=!1;var J=s.memoizedState;_.state=J,yu(s,c,_,f),C=s.memoizedState,P!==c||J!==C||Yt.current||li?(typeof Z=="function"&&(td(s,a,Z,c),C=s.memoizedState),(P=li||Vm(s,a,P,c,J,C,z))?(ee||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(s.flags|=4194308)):(typeof _.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=c,s.memoizedState=C),_.props=c,_.state=C,_.context=z,c=P):(typeof _.componentDidMount=="function"&&(s.flags|=4194308),c=!1)}else{_=s.stateNode,cm(r,s),P=s.memoizedProps,z=s.type===s.elementType?P:Ln(s.type,P),_.props=z,ee=s.pendingProps,J=_.context,C=a.contextType,typeof C=="object"&&C!==null?C=vn(C):(C=Xt(a)?ns:bt.current,C=co(s,C));var ie=a.getDerivedStateFromProps;(Z=typeof ie=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(P!==ee||J!==C)&&Lm(s,_,c,C),li=!1,J=s.memoizedState,_.state=J,yu(s,c,_,f);var ue=s.memoizedState;P!==ee||J!==ue||Yt.current||li?(typeof ie=="function"&&(td(s,a,ie,c),ue=s.memoizedState),(z=li||Vm(s,a,z,c,J,ue,C)||!1)?(Z||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(c,ue,C),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(c,ue,C)),typeof _.componentDidUpdate=="function"&&(s.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof _.componentDidUpdate!="function"||P===r.memoizedProps&&J===r.memoizedState||(s.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||P===r.memoizedProps&&J===r.memoizedState||(s.flags|=1024),s.memoizedProps=c,s.memoizedState=ue),_.props=c,_.state=ue,_.context=C,c=z):(typeof _.componentDidUpdate!="function"||P===r.memoizedProps&&J===r.memoizedState||(s.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||P===r.memoizedProps&&J===r.memoizedState||(s.flags|=1024),c=!1)}return od(r,s,a,c,g,f)}function od(r,s,a,c,f,g){Km(r,s);var _=(s.flags&128)!==0;if(!c&&!_)return f&&Zp(s,a,!1),xr(r,s,g);c=s.stateNode,l0.current=s;var P=_&&typeof a.getDerivedStateFromError!="function"?null:c.render();return s.flags|=1,r!==null&&_?(s.child=mo(s,r.child,null,g),s.child=mo(s,null,P,g)):Ht(r,s,P,g),s.memoizedState=c.state,f&&Zp(s,a,!0),s.child}function Qm(r){var s=r.stateNode;s.pendingContext?Xp(r,s.pendingContext,s.pendingContext!==s.context):s.context&&Xp(r,s.context,!1),$h(r,s.containerInfo)}function Ym(r,s,a,c,f){return po(),Mh(f),s.flags|=256,Ht(r,s,a,c),s.child}var ad={dehydrated:null,treeContext:null,retryLane:0};function ld(r){return{baseLanes:r,cachePool:null,transitions:null}}function Xm(r,s,a){var c=s.pendingProps,f=Je.current,g=!1,_=(s.flags&128)!==0,P;if((P=_)||(P=r!==null&&r.memoizedState===null?!1:(f&2)!==0),P?(g=!0,s.flags&=-129):(r===null||r.memoizedState!==null)&&(f|=1),qe(Je,f&1),r===null)return Vh(s),r=s.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?((s.mode&1)===0?s.lanes=1:r.data==="$!"?s.lanes=8:s.lanes=1073741824,null):(_=c.children,r=c.fallback,g?(c=s.mode,g=s.child,_={mode:"hidden",children:_},(c&1)===0&&g!==null?(g.childLanes=0,g.pendingProps=_):g=Fu(_,c,0,null),r=ds(r,c,a,null),g.return=s,r.return=s,g.sibling=r,s.child=g,s.child.memoizedState=ld(a),s.memoizedState=ad,r):ud(s,_));if(f=r.memoizedState,f!==null&&(P=f.dehydrated,P!==null))return u0(r,s,_,c,P,f,a);if(g){g=c.fallback,_=s.mode,f=r.child,P=f.sibling;var C={mode:"hidden",children:c.children};return(_&1)===0&&s.child!==f?(c=s.child,c.childLanes=0,c.pendingProps=C,s.deletions=null):(c=mi(f,C),c.subtreeFlags=f.subtreeFlags&14680064),P!==null?g=mi(P,g):(g=ds(g,_,a,null),g.flags|=2),g.return=s,c.return=s,c.sibling=g,s.child=c,c=g,g=s.child,_=r.child.memoizedState,_=_===null?ld(a):{baseLanes:_.baseLanes|a,cachePool:null,transitions:_.transitions},g.memoizedState=_,g.childLanes=r.childLanes&~a,s.memoizedState=ad,c}return g=r.child,r=g.sibling,c=mi(g,{mode:"visible",children:c.children}),(s.mode&1)===0&&(c.lanes=a),c.return=s,c.sibling=null,r!==null&&(a=s.deletions,a===null?(s.deletions=[r],s.flags|=16):a.push(r)),s.child=c,s.memoizedState=null,c}function ud(r,s){return s=Fu({mode:"visible",children:s},r.mode,0,null),s.return=r,r.child=s}function Pu(r,s,a,c){return c!==null&&Mh(c),mo(s,r.child,null,a),r=ud(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function u0(r,s,a,c,f,g,_){if(a)return s.flags&256?(s.flags&=-257,c=rd(Error(t(422))),Pu(r,s,_,c)):s.memoizedState!==null?(s.child=r.child,s.flags|=128,null):(g=c.fallback,f=s.mode,c=Fu({mode:"visible",children:c.children},f,0,null),g=ds(g,f,_,null),g.flags|=2,c.return=s,g.return=s,c.sibling=g,s.child=c,(s.mode&1)!==0&&mo(s,r.child,null,_),s.child.memoizedState=ld(_),s.memoizedState=ad,g);if((s.mode&1)===0)return Pu(r,s,_,null);if(f.data==="$!"){if(c=f.nextSibling&&f.nextSibling.dataset,c)var P=c.dgst;return c=P,g=Error(t(419)),c=rd(g,c,void 0),Pu(r,s,_,c)}if(P=(_&r.childLanes)!==0,Jt||P){if(c=Et,c!==null){switch(_&-_){case 4:f=2;break;case 16:f=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:f=32;break;case 536870912:f=268435456;break;default:f=0}f=(f&(c.suspendedLanes|_))!==0?0:f,f!==0&&f!==g.retryLane&&(g.retryLane=f,Cr(r,f),jn(c,r,f,-1))}return Pd(),c=rd(Error(t(421))),Pu(r,s,_,c)}return f.data==="$?"?(s.flags|=128,s.child=r.child,s=T0.bind(null,r),f._reactRetry=s,null):(r=g.treeContext,cn=ii(f.nextSibling),un=s,Xe=!0,Mn=null,r!==null&&(gn[yn++]=kr,gn[yn++]=Rr,gn[yn++]=rs,kr=r.id,Rr=r.overflow,rs=s),s=ud(s,c.children),s.flags|=4096,s)}function Jm(r,s,a){r.lanes|=s;var c=r.alternate;c!==null&&(c.lanes|=s),jh(r.return,s,a)}function cd(r,s,a,c,f){var g=r.memoizedState;g===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:c,tail:a,tailMode:f}:(g.isBackwards=s,g.rendering=null,g.renderingStartTime=0,g.last=c,g.tail=a,g.tailMode=f)}function Zm(r,s,a){var c=s.pendingProps,f=c.revealOrder,g=c.tail;if(Ht(r,s,c.children,a),c=Je.current,(c&2)!==0)c=c&1|2,s.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Jm(r,a,s);else if(r.tag===19)Jm(r,a,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}c&=1}if(qe(Je,c),(s.mode&1)===0)s.memoizedState=null;else switch(f){case"forwards":for(a=s.child,f=null;a!==null;)r=a.alternate,r!==null&&vu(r)===null&&(f=a),a=a.sibling;a=f,a===null?(f=s.child,s.child=null):(f=a.sibling,a.sibling=null),cd(s,!1,f,a,g);break;case"backwards":for(a=null,f=s.child,s.child=null;f!==null;){if(r=f.alternate,r!==null&&vu(r)===null){s.child=f;break}r=f.sibling,f.sibling=a,a=f,f=r}cd(s,!0,a,null,g);break;case"together":cd(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function ku(r,s){(s.mode&1)===0&&r!==null&&(r.alternate=null,s.alternate=null,s.flags|=2)}function xr(r,s,a){if(r!==null&&(s.dependencies=r.dependencies),ls|=s.lanes,(a&s.childLanes)===0)return null;if(r!==null&&s.child!==r.child)throw Error(t(153));if(s.child!==null){for(r=s.child,a=mi(r,r.pendingProps),s.child=a,a.return=s;r.sibling!==null;)r=r.sibling,a=a.sibling=mi(r,r.pendingProps),a.return=s;a.sibling=null}return s.child}function c0(r,s,a){switch(s.tag){case 3:Qm(s),po();break;case 5:fm(s);break;case 1:Xt(s.type)&&lu(s);break;case 4:$h(s,s.stateNode.containerInfo);break;case 10:var c=s.type._context,f=s.memoizedProps.value;qe(pu,c._currentValue),c._currentValue=f;break;case 13:if(c=s.memoizedState,c!==null)return c.dehydrated!==null?(qe(Je,Je.current&1),s.flags|=128,null):(a&s.child.childLanes)!==0?Xm(r,s,a):(qe(Je,Je.current&1),r=xr(r,s,a),r!==null?r.sibling:null);qe(Je,Je.current&1);break;case 19:if(c=(a&s.childLanes)!==0,(r.flags&128)!==0){if(c)return Zm(r,s,a);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),qe(Je,Je.current),c)break;return null;case 22:case 23:return s.lanes=0,qm(r,s,a)}return xr(r,s,a)}var eg,hd,tg,ng;eg=function(r,s){for(var a=s.child;a!==null;){if(a.tag===5||a.tag===6)r.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},hd=function(){},tg=function(r,s,a,c){var f=r.memoizedProps;if(f!==c){r=s.stateNode,os(Zn.current);var g=null;switch(a){case"input":f=Ui(r,f),c=Ui(r,c),g=[];break;case"select":f=se({},f,{value:void 0}),c=se({},c,{value:void 0}),g=[];break;case"textarea":f=ea(r,f),c=ea(r,c),g=[];break;default:typeof f.onClick!="function"&&typeof c.onClick=="function"&&(r.onclick=su)}oa(a,c);var _;a=null;for(z in f)if(!c.hasOwnProperty(z)&&f.hasOwnProperty(z)&&f[z]!=null)if(z==="style"){var P=f[z];for(_ in P)P.hasOwnProperty(_)&&(a||(a={}),a[_]="")}else z!=="dangerouslySetInnerHTML"&&z!=="children"&&z!=="suppressContentEditableWarning"&&z!=="suppressHydrationWarning"&&z!=="autoFocus"&&(o.hasOwnProperty(z)?g||(g=[]):(g=g||[]).push(z,null));for(z in c){var C=c[z];if(P=f!=null?f[z]:void 0,c.hasOwnProperty(z)&&C!==P&&(C!=null||P!=null))if(z==="style")if(P){for(_ in P)!P.hasOwnProperty(_)||C&&C.hasOwnProperty(_)||(a||(a={}),a[_]="");for(_ in C)C.hasOwnProperty(_)&&P[_]!==C[_]&&(a||(a={}),a[_]=C[_])}else a||(g||(g=[]),g.push(z,a)),a=C;else z==="dangerouslySetInnerHTML"?(C=C?C.__html:void 0,P=P?P.__html:void 0,C!=null&&P!==C&&(g=g||[]).push(z,C)):z==="children"?typeof C!="string"&&typeof C!="number"||(g=g||[]).push(z,""+C):z!=="suppressContentEditableWarning"&&z!=="suppressHydrationWarning"&&(o.hasOwnProperty(z)?(C!=null&&z==="onScroll"&&Ke("scroll",r),g||P===C||(g=[])):(g=g||[]).push(z,C))}a&&(g=g||[]).push("style",a);var z=g;(s.updateQueue=z)&&(s.flags|=4)}},ng=function(r,s,a,c){a!==c&&(s.flags|=4)};function ja(r,s){if(!Xe)switch(r.tailMode){case"hidden":s=r.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?r.tail=null:a.sibling=null;break;case"collapsed":a=r.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:c.sibling=null}}function Mt(r){var s=r.alternate!==null&&r.alternate.child===r.child,a=0,c=0;if(s)for(var f=r.child;f!==null;)a|=f.lanes|f.childLanes,c|=f.subtreeFlags&14680064,c|=f.flags&14680064,f.return=r,f=f.sibling;else for(f=r.child;f!==null;)a|=f.lanes|f.childLanes,c|=f.subtreeFlags,c|=f.flags,f.return=r,f=f.sibling;return r.subtreeFlags|=c,r.childLanes=a,s}function h0(r,s,a){var c=s.pendingProps;switch(Oh(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Mt(s),null;case 1:return Xt(s.type)&&au(),Mt(s),null;case 3:return c=s.stateNode,vo(),Ge(Yt),Ge(bt),qh(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(r===null||r.child===null)&&(du(s)?s.flags|=4:r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Mn!==null&&(Td(Mn),Mn=null))),hd(r,s),Mt(s),null;case 5:Wh(s);var f=os(Va.current);if(a=s.type,r!==null&&s.stateNode!=null)tg(r,s,a,c,f),r.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!c){if(s.stateNode===null)throw Error(t(166));return Mt(s),null}if(r=os(Zn.current),du(s)){c=s.stateNode,a=s.type;var g=s.memoizedProps;switch(c[Jn]=s,c[xa]=g,r=(s.mode&1)!==0,a){case"dialog":Ke("cancel",c),Ke("close",c);break;case"iframe":case"object":case"embed":Ke("load",c);break;case"video":case"audio":for(f=0;f<Ra.length;f++)Ke(Ra[f],c);break;case"source":Ke("error",c);break;case"img":case"image":case"link":Ke("error",c),Ke("load",c);break;case"details":Ke("toggle",c);break;case"input":Ds(c,g),Ke("invalid",c);break;case"select":c._wrapperState={wasMultiple:!!g.multiple},Ke("invalid",c);break;case"textarea":bs(c,g),Ke("invalid",c)}oa(a,g),f=null;for(var _ in g)if(g.hasOwnProperty(_)){var P=g[_];_==="children"?typeof P=="string"?c.textContent!==P&&(g.suppressHydrationWarning!==!0&&iu(c.textContent,P,r),f=["children",P]):typeof P=="number"&&c.textContent!==""+P&&(g.suppressHydrationWarning!==!0&&iu(c.textContent,P,r),f=["children",""+P]):o.hasOwnProperty(_)&&P!=null&&_==="onScroll"&&Ke("scroll",c)}switch(a){case"input":pr(c),xl(c,g,!0);break;case"textarea":pr(c),ta(c);break;case"select":case"option":break;default:typeof g.onClick=="function"&&(c.onclick=su)}c=f,s.updateQueue=c,c!==null&&(s.flags|=4)}else{_=f.nodeType===9?f:f.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=dt(a)),r==="http://www.w3.org/1999/xhtml"?a==="script"?(r=_.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof c.is=="string"?r=_.createElement(a,{is:c.is}):(r=_.createElement(a),a==="select"&&(_=r,c.multiple?_.multiple=!0:c.size&&(_.size=c.size))):r=_.createElementNS(r,a),r[Jn]=s,r[xa]=c,eg(r,s,!1,!1),s.stateNode=r;e:{switch(_=aa(a,c),a){case"dialog":Ke("cancel",r),Ke("close",r),f=c;break;case"iframe":case"object":case"embed":Ke("load",r),f=c;break;case"video":case"audio":for(f=0;f<Ra.length;f++)Ke(Ra[f],r);f=c;break;case"source":Ke("error",r),f=c;break;case"img":case"image":case"link":Ke("error",r),Ke("load",r),f=c;break;case"details":Ke("toggle",r),f=c;break;case"input":Ds(r,c),f=Ui(r,c),Ke("invalid",r);break;case"option":f=c;break;case"select":r._wrapperState={wasMultiple:!!c.multiple},f=se({},c,{value:void 0}),Ke("invalid",r);break;case"textarea":bs(r,c),f=ea(r,c),Ke("invalid",r);break;default:f=c}oa(a,f),P=f;for(g in P)if(P.hasOwnProperty(g)){var C=P[g];g==="style"?ia(r,C):g==="dangerouslySetInnerHTML"?(C=C?C.__html:void 0,C!=null&&na(r,C)):g==="children"?typeof C=="string"?(a!=="textarea"||C!=="")&&Kr(r,C):typeof C=="number"&&Kr(r,""+C):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(o.hasOwnProperty(g)?C!=null&&g==="onScroll"&&Ke("scroll",r):C!=null&&K(r,g,C,_))}switch(a){case"input":pr(r),xl(r,c,!1);break;case"textarea":pr(r),ta(r);break;case"option":c.value!=null&&r.setAttribute("value",""+Fe(c.value));break;case"select":r.multiple=!!c.multiple,g=c.value,g!=null?gr(r,!!c.multiple,g,!1):c.defaultValue!=null&&gr(r,!!c.multiple,c.defaultValue,!0);break;default:typeof f.onClick=="function"&&(r.onclick=su)}switch(a){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}}c&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return Mt(s),null;case 6:if(r&&s.stateNode!=null)ng(r,s,r.memoizedProps,c);else{if(typeof c!="string"&&s.stateNode===null)throw Error(t(166));if(a=os(Va.current),os(Zn.current),du(s)){if(c=s.stateNode,a=s.memoizedProps,c[Jn]=s,(g=c.nodeValue!==a)&&(r=un,r!==null))switch(r.tag){case 3:iu(c.nodeValue,a,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&iu(c.nodeValue,a,(r.mode&1)!==0)}g&&(s.flags|=4)}else c=(a.nodeType===9?a:a.ownerDocument).createTextNode(c),c[Jn]=s,s.stateNode=c}return Mt(s),null;case 13:if(Ge(Je),c=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(Xe&&cn!==null&&(s.mode&1)!==0&&(s.flags&128)===0)sm(),po(),s.flags|=98560,g=!1;else if(g=du(s),c!==null&&c.dehydrated!==null){if(r===null){if(!g)throw Error(t(318));if(g=s.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(t(317));g[Jn]=s}else po(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Mt(s),g=!1}else Mn!==null&&(Td(Mn),Mn=null),g=!0;if(!g)return s.flags&65536?s:null}return(s.flags&128)!==0?(s.lanes=a,s):(c=c!==null,c!==(r!==null&&r.memoizedState!==null)&&c&&(s.child.flags|=8192,(s.mode&1)!==0&&(r===null||(Je.current&1)!==0?gt===0&&(gt=3):Pd())),s.updateQueue!==null&&(s.flags|=4),Mt(s),null);case 4:return vo(),hd(r,s),r===null&&Ca(s.stateNode.containerInfo),Mt(s),null;case 10:return Uh(s.type._context),Mt(s),null;case 17:return Xt(s.type)&&au(),Mt(s),null;case 19:if(Ge(Je),g=s.memoizedState,g===null)return Mt(s),null;if(c=(s.flags&128)!==0,_=g.rendering,_===null)if(c)ja(g,!1);else{if(gt!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(_=vu(r),_!==null){for(s.flags|=128,ja(g,!1),c=_.updateQueue,c!==null&&(s.updateQueue=c,s.flags|=4),s.subtreeFlags=0,c=a,a=s.child;a!==null;)g=a,r=c,g.flags&=14680066,_=g.alternate,_===null?(g.childLanes=0,g.lanes=r,g.child=null,g.subtreeFlags=0,g.memoizedProps=null,g.memoizedState=null,g.updateQueue=null,g.dependencies=null,g.stateNode=null):(g.childLanes=_.childLanes,g.lanes=_.lanes,g.child=_.child,g.subtreeFlags=0,g.deletions=null,g.memoizedProps=_.memoizedProps,g.memoizedState=_.memoizedState,g.updateQueue=_.updateQueue,g.type=_.type,r=_.dependencies,g.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),a=a.sibling;return qe(Je,Je.current&1|2),s.child}r=r.sibling}g.tail!==null&&He()>To&&(s.flags|=128,c=!0,ja(g,!1),s.lanes=4194304)}else{if(!c)if(r=vu(_),r!==null){if(s.flags|=128,c=!0,a=r.updateQueue,a!==null&&(s.updateQueue=a,s.flags|=4),ja(g,!0),g.tail===null&&g.tailMode==="hidden"&&!_.alternate&&!Xe)return Mt(s),null}else 2*He()-g.renderingStartTime>To&&a!==1073741824&&(s.flags|=128,c=!0,ja(g,!1),s.lanes=4194304);g.isBackwards?(_.sibling=s.child,s.child=_):(a=g.last,a!==null?a.sibling=_:s.child=_,g.last=_)}return g.tail!==null?(s=g.tail,g.rendering=s,g.tail=s.sibling,g.renderingStartTime=He(),s.sibling=null,a=Je.current,qe(Je,c?a&1|2:a&1),s):(Mt(s),null);case 22:case 23:return Sd(),c=s.memoizedState!==null,r!==null&&r.memoizedState!==null!==c&&(s.flags|=8192),c&&(s.mode&1)!==0?(hn&1073741824)!==0&&(Mt(s),s.subtreeFlags&6&&(s.flags|=8192)):Mt(s),null;case 24:return null;case 25:return null}throw Error(t(156,s.tag))}function d0(r,s){switch(Oh(s),s.tag){case 1:return Xt(s.type)&&au(),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return vo(),Ge(Yt),Ge(bt),qh(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 5:return Wh(s),null;case 13:if(Ge(Je),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(t(340));po()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return Ge(Je),null;case 4:return vo(),null;case 10:return Uh(s.type._context),null;case 22:case 23:return Sd(),null;case 24:return null;default:return null}}var Ru=!1,Lt=!1,f0=typeof WeakSet=="function"?WeakSet:Set,le=null;function wo(r,s){var a=r.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(c){nt(r,s,c)}else a.current=null}function dd(r,s,a){try{a()}catch(c){nt(r,s,c)}}var rg=!1;function p0(r,s){if(Sh=ti,r=Vp(),gh(r)){if("selectionStart"in r)var a={start:r.selectionStart,end:r.selectionEnd};else e:{a=(a=r.ownerDocument)&&a.defaultView||window;var c=a.getSelection&&a.getSelection();if(c&&c.rangeCount!==0){a=c.anchorNode;var f=c.anchorOffset,g=c.focusNode;c=c.focusOffset;try{a.nodeType,g.nodeType}catch{a=null;break e}var _=0,P=-1,C=-1,z=0,Z=0,ee=r,J=null;t:for(;;){for(var ie;ee!==a||f!==0&&ee.nodeType!==3||(P=_+f),ee!==g||c!==0&&ee.nodeType!==3||(C=_+c),ee.nodeType===3&&(_+=ee.nodeValue.length),(ie=ee.firstChild)!==null;)J=ee,ee=ie;for(;;){if(ee===r)break t;if(J===a&&++z===f&&(P=_),J===g&&++Z===c&&(C=_),(ie=ee.nextSibling)!==null)break;ee=J,J=ee.parentNode}ee=ie}a=P===-1||C===-1?null:{start:P,end:C}}else a=null}a=a||{start:0,end:0}}else a=null;for(Ph={focusedElem:r,selectionRange:a},ti=!1,le=s;le!==null;)if(s=le,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,le=r;else for(;le!==null;){s=le;try{var ue=s.alternate;if((s.flags&1024)!==0)switch(s.tag){case 0:case 11:case 15:break;case 1:if(ue!==null){var he=ue.memoizedProps,ot=ue.memoizedState,U=s.stateNode,N=U.getSnapshotBeforeUpdate(s.elementType===s.type?he:Ln(s.type,he),ot);U.__reactInternalSnapshotBeforeUpdate=N}break;case 3:var j=s.stateNode.containerInfo;j.nodeType===1?j.textContent="":j.nodeType===9&&j.documentElement&&j.removeChild(j.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(te){nt(s,s.return,te)}if(r=s.sibling,r!==null){r.return=s.return,le=r;break}le=s.return}return ue=rg,rg=!1,ue}function za(r,s,a){var c=s.updateQueue;if(c=c!==null?c.lastEffect:null,c!==null){var f=c=c.next;do{if((f.tag&r)===r){var g=f.destroy;f.destroy=void 0,g!==void 0&&dd(s,a,g)}f=f.next}while(f!==c)}}function Cu(r,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var a=s=s.next;do{if((a.tag&r)===r){var c=a.create;a.destroy=c()}a=a.next}while(a!==s)}}function fd(r){var s=r.ref;if(s!==null){var a=r.stateNode;switch(r.tag){case 5:r=a;break;default:r=a}typeof s=="function"?s(r):s.current=r}}function ig(r){var s=r.alternate;s!==null&&(r.alternate=null,ig(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&(delete s[Jn],delete s[xa],delete s[Ah],delete s[YE],delete s[XE])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function sg(r){return r.tag===5||r.tag===3||r.tag===4}function og(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||sg(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function pd(r,s,a){var c=r.tag;if(c===5||c===6)r=r.stateNode,s?a.nodeType===8?a.parentNode.insertBefore(r,s):a.insertBefore(r,s):(a.nodeType===8?(s=a.parentNode,s.insertBefore(r,a)):(s=a,s.appendChild(r)),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=su));else if(c!==4&&(r=r.child,r!==null))for(pd(r,s,a),r=r.sibling;r!==null;)pd(r,s,a),r=r.sibling}function md(r,s,a){var c=r.tag;if(c===5||c===6)r=r.stateNode,s?a.insertBefore(r,s):a.appendChild(r);else if(c!==4&&(r=r.child,r!==null))for(md(r,s,a),r=r.sibling;r!==null;)md(r,s,a),r=r.sibling}var Rt=null,Fn=!1;function ci(r,s,a){for(a=a.child;a!==null;)ag(r,s,a),a=a.sibling}function ag(r,s,a){if(sn&&typeof sn.onCommitFiberUnmount=="function")try{sn.onCommitFiberUnmount(Gi,a)}catch{}switch(a.tag){case 5:Lt||wo(a,s);case 6:var c=Rt,f=Fn;Rt=null,ci(r,s,a),Rt=c,Fn=f,Rt!==null&&(Fn?(r=Rt,a=a.stateNode,r.nodeType===8?r.parentNode.removeChild(a):r.removeChild(a)):Rt.removeChild(a.stateNode));break;case 18:Rt!==null&&(Fn?(r=Rt,a=a.stateNode,r.nodeType===8?Ch(r.parentNode,a):r.nodeType===1&&Ch(r,a),On(r)):Ch(Rt,a.stateNode));break;case 4:c=Rt,f=Fn,Rt=a.stateNode.containerInfo,Fn=!0,ci(r,s,a),Rt=c,Fn=f;break;case 0:case 11:case 14:case 15:if(!Lt&&(c=a.updateQueue,c!==null&&(c=c.lastEffect,c!==null))){f=c=c.next;do{var g=f,_=g.destroy;g=g.tag,_!==void 0&&((g&2)!==0||(g&4)!==0)&&dd(a,s,_),f=f.next}while(f!==c)}ci(r,s,a);break;case 1:if(!Lt&&(wo(a,s),c=a.stateNode,typeof c.componentWillUnmount=="function"))try{c.props=a.memoizedProps,c.state=a.memoizedState,c.componentWillUnmount()}catch(P){nt(a,s,P)}ci(r,s,a);break;case 21:ci(r,s,a);break;case 22:a.mode&1?(Lt=(c=Lt)||a.memoizedState!==null,ci(r,s,a),Lt=c):ci(r,s,a);break;default:ci(r,s,a)}}function lg(r){var s=r.updateQueue;if(s!==null){r.updateQueue=null;var a=r.stateNode;a===null&&(a=r.stateNode=new f0),s.forEach(function(c){var f=I0.bind(null,r,c);a.has(c)||(a.add(c),c.then(f,f))})}}function Un(r,s){var a=s.deletions;if(a!==null)for(var c=0;c<a.length;c++){var f=a[c];try{var g=r,_=s,P=_;e:for(;P!==null;){switch(P.tag){case 5:Rt=P.stateNode,Fn=!1;break e;case 3:Rt=P.stateNode.containerInfo,Fn=!0;break e;case 4:Rt=P.stateNode.containerInfo,Fn=!0;break e}P=P.return}if(Rt===null)throw Error(t(160));ag(g,_,f),Rt=null,Fn=!1;var C=f.alternate;C!==null&&(C.return=null),f.return=null}catch(z){nt(f,s,z)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)ug(s,r),s=s.sibling}function ug(r,s){var a=r.alternate,c=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(Un(s,r),tr(r),c&4){try{za(3,r,r.return),Cu(3,r)}catch(he){nt(r,r.return,he)}try{za(5,r,r.return)}catch(he){nt(r,r.return,he)}}break;case 1:Un(s,r),tr(r),c&512&&a!==null&&wo(a,a.return);break;case 5:if(Un(s,r),tr(r),c&512&&a!==null&&wo(a,a.return),r.flags&32){var f=r.stateNode;try{Kr(f,"")}catch(he){nt(r,r.return,he)}}if(c&4&&(f=r.stateNode,f!=null)){var g=r.memoizedProps,_=a!==null?a.memoizedProps:g,P=r.type,C=r.updateQueue;if(r.updateQueue=null,C!==null)try{P==="input"&&g.type==="radio"&&g.name!=null&&Jo(f,g),aa(P,_);var z=aa(P,g);for(_=0;_<C.length;_+=2){var Z=C[_],ee=C[_+1];Z==="style"?ia(f,ee):Z==="dangerouslySetInnerHTML"?na(f,ee):Z==="children"?Kr(f,ee):K(f,Z,ee,z)}switch(P){case"input":Zo(f,g);break;case"textarea":Vs(f,g);break;case"select":var J=f._wrapperState.wasMultiple;f._wrapperState.wasMultiple=!!g.multiple;var ie=g.value;ie!=null?gr(f,!!g.multiple,ie,!1):J!==!!g.multiple&&(g.defaultValue!=null?gr(f,!!g.multiple,g.defaultValue,!0):gr(f,!!g.multiple,g.multiple?[]:"",!1))}f[xa]=g}catch(he){nt(r,r.return,he)}}break;case 6:if(Un(s,r),tr(r),c&4){if(r.stateNode===null)throw Error(t(162));f=r.stateNode,g=r.memoizedProps;try{f.nodeValue=g}catch(he){nt(r,r.return,he)}}break;case 3:if(Un(s,r),tr(r),c&4&&a!==null&&a.memoizedState.isDehydrated)try{On(s.containerInfo)}catch(he){nt(r,r.return,he)}break;case 4:Un(s,r),tr(r);break;case 13:Un(s,r),tr(r),f=r.child,f.flags&8192&&(g=f.memoizedState!==null,f.stateNode.isHidden=g,!g||f.alternate!==null&&f.alternate.memoizedState!==null||(vd=He())),c&4&&lg(r);break;case 22:if(Z=a!==null&&a.memoizedState!==null,r.mode&1?(Lt=(z=Lt)||Z,Un(s,r),Lt=z):Un(s,r),tr(r),c&8192){if(z=r.memoizedState!==null,(r.stateNode.isHidden=z)&&!Z&&(r.mode&1)!==0)for(le=r,Z=r.child;Z!==null;){for(ee=le=Z;le!==null;){switch(J=le,ie=J.child,J.tag){case 0:case 11:case 14:case 15:za(4,J,J.return);break;case 1:wo(J,J.return);var ue=J.stateNode;if(typeof ue.componentWillUnmount=="function"){c=J,a=J.return;try{s=c,ue.props=s.memoizedProps,ue.state=s.memoizedState,ue.componentWillUnmount()}catch(he){nt(c,a,he)}}break;case 5:wo(J,J.return);break;case 22:if(J.memoizedState!==null){dg(ee);continue}}ie!==null?(ie.return=J,le=ie):dg(ee)}Z=Z.sibling}e:for(Z=null,ee=r;;){if(ee.tag===5){if(Z===null){Z=ee;try{f=ee.stateNode,z?(g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none"):(P=ee.stateNode,C=ee.memoizedProps.style,_=C!=null&&C.hasOwnProperty("display")?C.display:null,P.style.display=ra("display",_))}catch(he){nt(r,r.return,he)}}}else if(ee.tag===6){if(Z===null)try{ee.stateNode.nodeValue=z?"":ee.memoizedProps}catch(he){nt(r,r.return,he)}}else if((ee.tag!==22&&ee.tag!==23||ee.memoizedState===null||ee===r)&&ee.child!==null){ee.child.return=ee,ee=ee.child;continue}if(ee===r)break e;for(;ee.sibling===null;){if(ee.return===null||ee.return===r)break e;Z===ee&&(Z=null),ee=ee.return}Z===ee&&(Z=null),ee.sibling.return=ee.return,ee=ee.sibling}}break;case 19:Un(s,r),tr(r),c&4&&lg(r);break;case 21:break;default:Un(s,r),tr(r)}}function tr(r){var s=r.flags;if(s&2){try{e:{for(var a=r.return;a!==null;){if(sg(a)){var c=a;break e}a=a.return}throw Error(t(160))}switch(c.tag){case 5:var f=c.stateNode;c.flags&32&&(Kr(f,""),c.flags&=-33);var g=og(r);md(r,g,f);break;case 3:case 4:var _=c.stateNode.containerInfo,P=og(r);pd(r,P,_);break;default:throw Error(t(161))}}catch(C){nt(r,r.return,C)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function m0(r,s,a){le=r,cg(r)}function cg(r,s,a){for(var c=(r.mode&1)!==0;le!==null;){var f=le,g=f.child;if(f.tag===22&&c){var _=f.memoizedState!==null||Ru;if(!_){var P=f.alternate,C=P!==null&&P.memoizedState!==null||Lt;P=Ru;var z=Lt;if(Ru=_,(Lt=C)&&!z)for(le=f;le!==null;)_=le,C=_.child,_.tag===22&&_.memoizedState!==null?fg(f):C!==null?(C.return=_,le=C):fg(f);for(;g!==null;)le=g,cg(g),g=g.sibling;le=f,Ru=P,Lt=z}hg(r)}else(f.subtreeFlags&8772)!==0&&g!==null?(g.return=f,le=g):hg(r)}}function hg(r){for(;le!==null;){var s=le;if((s.flags&8772)!==0){var a=s.alternate;try{if((s.flags&8772)!==0)switch(s.tag){case 0:case 11:case 15:Lt||Cu(5,s);break;case 1:var c=s.stateNode;if(s.flags&4&&!Lt)if(a===null)c.componentDidMount();else{var f=s.elementType===s.type?a.memoizedProps:Ln(s.type,a.memoizedProps);c.componentDidUpdate(f,a.memoizedState,c.__reactInternalSnapshotBeforeUpdate)}var g=s.updateQueue;g!==null&&dm(s,g,c);break;case 3:var _=s.updateQueue;if(_!==null){if(a=null,s.child!==null)switch(s.child.tag){case 5:a=s.child.stateNode;break;case 1:a=s.child.stateNode}dm(s,_,a)}break;case 5:var P=s.stateNode;if(a===null&&s.flags&4){a=P;var C=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":C.autoFocus&&a.focus();break;case"img":C.src&&(a.src=C.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var z=s.alternate;if(z!==null){var Z=z.memoizedState;if(Z!==null){var ee=Z.dehydrated;ee!==null&&On(ee)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Lt||s.flags&512&&fd(s)}catch(J){nt(s,s.return,J)}}if(s===r){le=null;break}if(a=s.sibling,a!==null){a.return=s.return,le=a;break}le=s.return}}function dg(r){for(;le!==null;){var s=le;if(s===r){le=null;break}var a=s.sibling;if(a!==null){a.return=s.return,le=a;break}le=s.return}}function fg(r){for(;le!==null;){var s=le;try{switch(s.tag){case 0:case 11:case 15:var a=s.return;try{Cu(4,s)}catch(C){nt(s,a,C)}break;case 1:var c=s.stateNode;if(typeof c.componentDidMount=="function"){var f=s.return;try{c.componentDidMount()}catch(C){nt(s,f,C)}}var g=s.return;try{fd(s)}catch(C){nt(s,g,C)}break;case 5:var _=s.return;try{fd(s)}catch(C){nt(s,_,C)}}}catch(C){nt(s,s.return,C)}if(s===r){le=null;break}var P=s.sibling;if(P!==null){P.return=s.return,le=P;break}le=s.return}}var g0=Math.ceil,Au=ae.ReactCurrentDispatcher,gd=ae.ReactCurrentOwner,wn=ae.ReactCurrentBatchConfig,Ve=0,Et=null,ut=null,Ct=0,hn=0,Eo=si(0),gt=0,Ba=null,ls=0,xu=0,yd=0,$a=null,Zt=null,vd=0,To=1/0,Nr=null,Nu=!1,_d=null,hi=null,Du=!1,di=null,Ou=0,Wa=0,wd=null,bu=-1,Vu=0;function qt(){return(Ve&6)!==0?He():bu!==-1?bu:bu=He()}function fi(r){return(r.mode&1)===0?1:(Ve&2)!==0&&Ct!==0?Ct&-Ct:ZE.transition!==null?(Vu===0&&(Vu=Yi()),Vu):(r=xe,r!==0||(r=window.event,r=r===void 0?16:va(r.type)),r)}function jn(r,s,a,c){if(50<Wa)throw Wa=0,wd=null,Error(t(185));Xr(r,a,c),((Ve&2)===0||r!==Et)&&(r===Et&&((Ve&2)===0&&(xu|=a),gt===4&&pi(r,Ct)),en(r,c),a===1&&Ve===0&&(s.mode&1)===0&&(To=He()+500,uu&&ai()))}function en(r,s){var a=r.callbackNode;_r(r,s);var c=Qi(r,r===Et?Ct:0);if(c===0)a!==null&&fa(a),r.callbackNode=null,r.callbackPriority=0;else if(s=c&-c,r.callbackPriority!==s){if(a!=null&&fa(a),s===1)r.tag===0?JE(mg.bind(null,r)):em(mg.bind(null,r)),GE(function(){(Ve&6)===0&&ai()}),a=null;else{switch(Zr(c)){case 1:a=Ki;break;case 4:a=Gr;break;case 16:a=fn;break;case 536870912:a=Vl;break;default:a=fn}a=Ig(a,pg.bind(null,r))}r.callbackPriority=s,r.callbackNode=a}}function pg(r,s){if(bu=-1,Vu=0,(Ve&6)!==0)throw Error(t(327));var a=r.callbackNode;if(Io()&&r.callbackNode!==a)return null;var c=Qi(r,r===Et?Ct:0);if(c===0)return null;if((c&30)!==0||(c&r.expiredLanes)!==0||s)s=Mu(r,c);else{s=c;var f=Ve;Ve|=2;var g=yg();(Et!==r||Ct!==s)&&(Nr=null,To=He()+500,cs(r,s));do try{_0();break}catch(P){gg(r,P)}while(!0);Fh(),Au.current=g,Ve=f,ut!==null?s=0:(Et=null,Ct=0,s=gt)}if(s!==0){if(s===2&&(f=on(r),f!==0&&(c=f,s=Ed(r,f))),s===1)throw a=Ba,cs(r,0),pi(r,c),en(r,He()),a;if(s===6)pi(r,c);else{if(f=r.current.alternate,(c&30)===0&&!y0(f)&&(s=Mu(r,c),s===2&&(g=on(r),g!==0&&(c=g,s=Ed(r,g))),s===1))throw a=Ba,cs(r,0),pi(r,c),en(r,He()),a;switch(r.finishedWork=f,r.finishedLanes=c,s){case 0:case 1:throw Error(t(345));case 2:hs(r,Zt,Nr);break;case 3:if(pi(r,c),(c&130023424)===c&&(s=vd+500-He(),10<s)){if(Qi(r,0)!==0)break;if(f=r.suspendedLanes,(f&c)!==c){qt(),r.pingedLanes|=r.suspendedLanes&f;break}r.timeoutHandle=Rh(hs.bind(null,r,Zt,Nr),s);break}hs(r,Zt,Nr);break;case 4:if(pi(r,c),(c&4194240)===c)break;for(s=r.eventTimes,f=-1;0<c;){var _=31-$t(c);g=1<<_,_=s[_],_>f&&(f=_),c&=~g}if(c=f,c=He()-c,c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*g0(c/1960))-c,10<c){r.timeoutHandle=Rh(hs.bind(null,r,Zt,Nr),c);break}hs(r,Zt,Nr);break;case 5:hs(r,Zt,Nr);break;default:throw Error(t(329))}}}return en(r,He()),r.callbackNode===a?pg.bind(null,r):null}function Ed(r,s){var a=$a;return r.current.memoizedState.isDehydrated&&(cs(r,s).flags|=256),r=Mu(r,s),r!==2&&(s=Zt,Zt=a,s!==null&&Td(s)),r}function Td(r){Zt===null?Zt=r:Zt.push.apply(Zt,r)}function y0(r){for(var s=r;;){if(s.flags&16384){var a=s.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var c=0;c<a.length;c++){var f=a[c],g=f.getSnapshot;f=f.value;try{if(!Vn(g(),f))return!1}catch{return!1}}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function pi(r,s){for(s&=~yd,s&=~xu,r.suspendedLanes|=s,r.pingedLanes&=~s,r=r.expirationTimes;0<s;){var a=31-$t(s),c=1<<a;r[a]=-1,s&=~c}}function mg(r){if((Ve&6)!==0)throw Error(t(327));Io();var s=Qi(r,0);if((s&1)===0)return en(r,He()),null;var a=Mu(r,s);if(r.tag!==0&&a===2){var c=on(r);c!==0&&(s=c,a=Ed(r,c))}if(a===1)throw a=Ba,cs(r,0),pi(r,s),en(r,He()),a;if(a===6)throw Error(t(345));return r.finishedWork=r.current.alternate,r.finishedLanes=s,hs(r,Zt,Nr),en(r,He()),null}function Id(r,s){var a=Ve;Ve|=1;try{return r(s)}finally{Ve=a,Ve===0&&(To=He()+500,uu&&ai())}}function us(r){di!==null&&di.tag===0&&(Ve&6)===0&&Io();var s=Ve;Ve|=1;var a=wn.transition,c=xe;try{if(wn.transition=null,xe=1,r)return r()}finally{xe=c,wn.transition=a,Ve=s,(Ve&6)===0&&ai()}}function Sd(){hn=Eo.current,Ge(Eo)}function cs(r,s){r.finishedWork=null,r.finishedLanes=0;var a=r.timeoutHandle;if(a!==-1&&(r.timeoutHandle=-1,KE(a)),ut!==null)for(a=ut.return;a!==null;){var c=a;switch(Oh(c),c.tag){case 1:c=c.type.childContextTypes,c!=null&&au();break;case 3:vo(),Ge(Yt),Ge(bt),qh();break;case 5:Wh(c);break;case 4:vo();break;case 13:Ge(Je);break;case 19:Ge(Je);break;case 10:Uh(c.type._context);break;case 22:case 23:Sd()}a=a.return}if(Et=r,ut=r=mi(r.current,null),Ct=hn=s,gt=0,Ba=null,yd=xu=ls=0,Zt=$a=null,ss!==null){for(s=0;s<ss.length;s++)if(a=ss[s],c=a.interleaved,c!==null){a.interleaved=null;var f=c.next,g=a.pending;if(g!==null){var _=g.next;g.next=f,c.next=_}a.pending=c}ss=null}return r}function gg(r,s){do{var a=ut;try{if(Fh(),_u.current=Iu,wu){for(var c=Ze.memoizedState;c!==null;){var f=c.queue;f!==null&&(f.pending=null),c=c.next}wu=!1}if(as=0,wt=mt=Ze=null,Ma=!1,La=0,gd.current=null,a===null||a.return===null){gt=1,Ba=s,ut=null;break}e:{var g=r,_=a.return,P=a,C=s;if(s=Ct,P.flags|=32768,C!==null&&typeof C=="object"&&typeof C.then=="function"){var z=C,Z=P,ee=Z.tag;if((Z.mode&1)===0&&(ee===0||ee===11||ee===15)){var J=Z.alternate;J?(Z.updateQueue=J.updateQueue,Z.memoizedState=J.memoizedState,Z.lanes=J.lanes):(Z.updateQueue=null,Z.memoizedState=null)}var ie=zm(_);if(ie!==null){ie.flags&=-257,Bm(ie,_,P,g,s),ie.mode&1&&jm(g,z,s),s=ie,C=z;var ue=s.updateQueue;if(ue===null){var he=new Set;he.add(C),s.updateQueue=he}else ue.add(C);break e}else{if((s&1)===0){jm(g,z,s),Pd();break e}C=Error(t(426))}}else if(Xe&&P.mode&1){var ot=zm(_);if(ot!==null){(ot.flags&65536)===0&&(ot.flags|=256),Bm(ot,_,P,g,s),Mh(_o(C,P));break e}}g=C=_o(C,P),gt!==4&&(gt=2),$a===null?$a=[g]:$a.push(g),g=_;do{switch(g.tag){case 3:g.flags|=65536,s&=-s,g.lanes|=s;var U=Fm(g,C,s);hm(g,U);break e;case 1:P=C;var N=g.type,j=g.stateNode;if((g.flags&128)===0&&(typeof N.getDerivedStateFromError=="function"||j!==null&&typeof j.componentDidCatch=="function"&&(hi===null||!hi.has(j)))){g.flags|=65536,s&=-s,g.lanes|=s;var te=Um(g,P,s);hm(g,te);break e}}g=g.return}while(g!==null)}_g(a)}catch(de){s=de,ut===a&&a!==null&&(ut=a=a.return);continue}break}while(!0)}function yg(){var r=Au.current;return Au.current=Iu,r===null?Iu:r}function Pd(){(gt===0||gt===3||gt===2)&&(gt=4),Et===null||(ls&268435455)===0&&(xu&268435455)===0||pi(Et,Ct)}function Mu(r,s){var a=Ve;Ve|=2;var c=yg();(Et!==r||Ct!==s)&&(Nr=null,cs(r,s));do try{v0();break}catch(f){gg(r,f)}while(!0);if(Fh(),Ve=a,Au.current=c,ut!==null)throw Error(t(261));return Et=null,Ct=0,gt}function v0(){for(;ut!==null;)vg(ut)}function _0(){for(;ut!==null&&!Ol();)vg(ut)}function vg(r){var s=Tg(r.alternate,r,hn);r.memoizedProps=r.pendingProps,s===null?_g(r):ut=s,gd.current=null}function _g(r){var s=r;do{var a=s.alternate;if(r=s.return,(s.flags&32768)===0){if(a=h0(a,s,hn),a!==null){ut=a;return}}else{if(a=d0(a,s),a!==null){a.flags&=32767,ut=a;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{gt=6,ut=null;return}}if(s=s.sibling,s!==null){ut=s;return}ut=s=r}while(s!==null);gt===0&&(gt=5)}function hs(r,s,a){var c=xe,f=wn.transition;try{wn.transition=null,xe=1,w0(r,s,a,c)}finally{wn.transition=f,xe=c}return null}function w0(r,s,a,c){do Io();while(di!==null);if((Ve&6)!==0)throw Error(t(327));a=r.finishedWork;var f=r.finishedLanes;if(a===null)return null;if(r.finishedWork=null,r.finishedLanes=0,a===r.current)throw Error(t(177));r.callbackNode=null,r.callbackPriority=0;var g=a.lanes|a.childLanes;if($e(r,g),r===Et&&(ut=Et=null,Ct=0),(a.subtreeFlags&2064)===0&&(a.flags&2064)===0||Du||(Du=!0,Ig(fn,function(){return Io(),null})),g=(a.flags&15990)!==0,(a.subtreeFlags&15990)!==0||g){g=wn.transition,wn.transition=null;var _=xe;xe=1;var P=Ve;Ve|=4,gd.current=null,p0(r,a),ug(a,r),jE(Ph),ti=!!Sh,Ph=Sh=null,r.current=a,m0(a),lh(),Ve=P,xe=_,wn.transition=g}else r.current=a;if(Du&&(Du=!1,di=r,Ou=f),g=r.pendingLanes,g===0&&(hi=null),Ml(a.stateNode),en(r,He()),s!==null)for(c=r.onRecoverableError,a=0;a<s.length;a++)f=s[a],c(f.value,{componentStack:f.stack,digest:f.digest});if(Nu)throw Nu=!1,r=_d,_d=null,r;return(Ou&1)!==0&&r.tag!==0&&Io(),g=r.pendingLanes,(g&1)!==0?r===wd?Wa++:(Wa=0,wd=r):Wa=0,ai(),null}function Io(){if(di!==null){var r=Zr(Ou),s=wn.transition,a=xe;try{if(wn.transition=null,xe=16>r?16:r,di===null)var c=!1;else{if(r=di,di=null,Ou=0,(Ve&6)!==0)throw Error(t(331));var f=Ve;for(Ve|=4,le=r.current;le!==null;){var g=le,_=g.child;if((le.flags&16)!==0){var P=g.deletions;if(P!==null){for(var C=0;C<P.length;C++){var z=P[C];for(le=z;le!==null;){var Z=le;switch(Z.tag){case 0:case 11:case 15:za(8,Z,g)}var ee=Z.child;if(ee!==null)ee.return=Z,le=ee;else for(;le!==null;){Z=le;var J=Z.sibling,ie=Z.return;if(ig(Z),Z===z){le=null;break}if(J!==null){J.return=ie,le=J;break}le=ie}}}var ue=g.alternate;if(ue!==null){var he=ue.child;if(he!==null){ue.child=null;do{var ot=he.sibling;he.sibling=null,he=ot}while(he!==null)}}le=g}}if((g.subtreeFlags&2064)!==0&&_!==null)_.return=g,le=_;else e:for(;le!==null;){if(g=le,(g.flags&2048)!==0)switch(g.tag){case 0:case 11:case 15:za(9,g,g.return)}var U=g.sibling;if(U!==null){U.return=g.return,le=U;break e}le=g.return}}var N=r.current;for(le=N;le!==null;){_=le;var j=_.child;if((_.subtreeFlags&2064)!==0&&j!==null)j.return=_,le=j;else e:for(_=N;le!==null;){if(P=le,(P.flags&2048)!==0)try{switch(P.tag){case 0:case 11:case 15:Cu(9,P)}}catch(de){nt(P,P.return,de)}if(P===_){le=null;break e}var te=P.sibling;if(te!==null){te.return=P.return,le=te;break e}le=P.return}}if(Ve=f,ai(),sn&&typeof sn.onPostCommitFiberRoot=="function")try{sn.onPostCommitFiberRoot(Gi,r)}catch{}c=!0}return c}finally{xe=a,wn.transition=s}}return!1}function wg(r,s,a){s=_o(a,s),s=Fm(r,s,1),r=ui(r,s,1),s=qt(),r!==null&&(Xr(r,1,s),en(r,s))}function nt(r,s,a){if(r.tag===3)wg(r,r,a);else for(;s!==null;){if(s.tag===3){wg(s,r,a);break}else if(s.tag===1){var c=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(hi===null||!hi.has(c))){r=_o(a,r),r=Um(s,r,1),s=ui(s,r,1),r=qt(),s!==null&&(Xr(s,1,r),en(s,r));break}}s=s.return}}function E0(r,s,a){var c=r.pingCache;c!==null&&c.delete(s),s=qt(),r.pingedLanes|=r.suspendedLanes&a,Et===r&&(Ct&a)===a&&(gt===4||gt===3&&(Ct&130023424)===Ct&&500>He()-vd?cs(r,0):yd|=a),en(r,s)}function Eg(r,s){s===0&&((r.mode&1)===0?s=1:(s=Hs,Hs<<=1,(Hs&130023424)===0&&(Hs=4194304)));var a=qt();r=Cr(r,s),r!==null&&(Xr(r,s,a),en(r,a))}function T0(r){var s=r.memoizedState,a=0;s!==null&&(a=s.retryLane),Eg(r,a)}function I0(r,s){var a=0;switch(r.tag){case 13:var c=r.stateNode,f=r.memoizedState;f!==null&&(a=f.retryLane);break;case 19:c=r.stateNode;break;default:throw Error(t(314))}c!==null&&c.delete(s),Eg(r,a)}var Tg;Tg=function(r,s,a){if(r!==null)if(r.memoizedProps!==s.pendingProps||Yt.current)Jt=!0;else{if((r.lanes&a)===0&&(s.flags&128)===0)return Jt=!1,c0(r,s,a);Jt=(r.flags&131072)!==0}else Jt=!1,Xe&&(s.flags&1048576)!==0&&tm(s,hu,s.index);switch(s.lanes=0,s.tag){case 2:var c=s.type;ku(r,s),r=s.pendingProps;var f=co(s,bt.current);yo(s,a),f=Qh(null,s,c,r,f,a);var g=Yh();return s.flags|=1,typeof f=="object"&&f!==null&&typeof f.render=="function"&&f.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,Xt(c)?(g=!0,lu(s)):g=!1,s.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,Bh(s),f.updater=Su,s.stateNode=f,f._reactInternals=s,nd(s,c,r,a),s=od(null,s,c,!0,g,a)):(s.tag=0,Xe&&g&&Dh(s),Ht(null,s,f,a),s=s.child),s;case 16:c=s.elementType;e:{switch(ku(r,s),r=s.pendingProps,f=c._init,c=f(c._payload),s.type=c,f=s.tag=P0(c),r=Ln(c,r),f){case 0:s=sd(null,s,c,r,a);break e;case 1:s=Gm(null,s,c,r,a);break e;case 11:s=$m(null,s,c,r,a);break e;case 14:s=Wm(null,s,c,Ln(c.type,r),a);break e}throw Error(t(306,c,""))}return s;case 0:return c=s.type,f=s.pendingProps,f=s.elementType===c?f:Ln(c,f),sd(r,s,c,f,a);case 1:return c=s.type,f=s.pendingProps,f=s.elementType===c?f:Ln(c,f),Gm(r,s,c,f,a);case 3:e:{if(Qm(s),r===null)throw Error(t(387));c=s.pendingProps,g=s.memoizedState,f=g.element,cm(r,s),yu(s,c,null,a);var _=s.memoizedState;if(c=_.element,g.isDehydrated)if(g={element:c,isDehydrated:!1,cache:_.cache,pendingSuspenseBoundaries:_.pendingSuspenseBoundaries,transitions:_.transitions},s.updateQueue.baseState=g,s.memoizedState=g,s.flags&256){f=_o(Error(t(423)),s),s=Ym(r,s,c,a,f);break e}else if(c!==f){f=_o(Error(t(424)),s),s=Ym(r,s,c,a,f);break e}else for(cn=ii(s.stateNode.containerInfo.firstChild),un=s,Xe=!0,Mn=null,a=lm(s,null,c,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(po(),c===f){s=xr(r,s,a);break e}Ht(r,s,c,a)}s=s.child}return s;case 5:return fm(s),r===null&&Vh(s),c=s.type,f=s.pendingProps,g=r!==null?r.memoizedProps:null,_=f.children,kh(c,f)?_=null:g!==null&&kh(c,g)&&(s.flags|=32),Km(r,s),Ht(r,s,_,a),s.child;case 6:return r===null&&Vh(s),null;case 13:return Xm(r,s,a);case 4:return $h(s,s.stateNode.containerInfo),c=s.pendingProps,r===null?s.child=mo(s,null,c,a):Ht(r,s,c,a),s.child;case 11:return c=s.type,f=s.pendingProps,f=s.elementType===c?f:Ln(c,f),$m(r,s,c,f,a);case 7:return Ht(r,s,s.pendingProps,a),s.child;case 8:return Ht(r,s,s.pendingProps.children,a),s.child;case 12:return Ht(r,s,s.pendingProps.children,a),s.child;case 10:e:{if(c=s.type._context,f=s.pendingProps,g=s.memoizedProps,_=f.value,qe(pu,c._currentValue),c._currentValue=_,g!==null)if(Vn(g.value,_)){if(g.children===f.children&&!Yt.current){s=xr(r,s,a);break e}}else for(g=s.child,g!==null&&(g.return=s);g!==null;){var P=g.dependencies;if(P!==null){_=g.child;for(var C=P.firstContext;C!==null;){if(C.context===c){if(g.tag===1){C=Ar(-1,a&-a),C.tag=2;var z=g.updateQueue;if(z!==null){z=z.shared;var Z=z.pending;Z===null?C.next=C:(C.next=Z.next,Z.next=C),z.pending=C}}g.lanes|=a,C=g.alternate,C!==null&&(C.lanes|=a),jh(g.return,a,s),P.lanes|=a;break}C=C.next}}else if(g.tag===10)_=g.type===s.type?null:g.child;else if(g.tag===18){if(_=g.return,_===null)throw Error(t(341));_.lanes|=a,P=_.alternate,P!==null&&(P.lanes|=a),jh(_,a,s),_=g.sibling}else _=g.child;if(_!==null)_.return=g;else for(_=g;_!==null;){if(_===s){_=null;break}if(g=_.sibling,g!==null){g.return=_.return,_=g;break}_=_.return}g=_}Ht(r,s,f.children,a),s=s.child}return s;case 9:return f=s.type,c=s.pendingProps.children,yo(s,a),f=vn(f),c=c(f),s.flags|=1,Ht(r,s,c,a),s.child;case 14:return c=s.type,f=Ln(c,s.pendingProps),f=Ln(c.type,f),Wm(r,s,c,f,a);case 15:return Hm(r,s,s.type,s.pendingProps,a);case 17:return c=s.type,f=s.pendingProps,f=s.elementType===c?f:Ln(c,f),ku(r,s),s.tag=1,Xt(c)?(r=!0,lu(s)):r=!1,yo(s,a),Mm(s,c,f),nd(s,c,f,a),od(null,s,c,!0,r,a);case 19:return Zm(r,s,a);case 22:return qm(r,s,a)}throw Error(t(156,s.tag))};function Ig(r,s){return $s(r,s)}function S0(r,s,a,c){this.tag=r,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function En(r,s,a,c){return new S0(r,s,a,c)}function kd(r){return r=r.prototype,!(!r||!r.isReactComponent)}function P0(r){if(typeof r=="function")return kd(r)?1:0;if(r!=null){if(r=r.$$typeof,r===L)return 11;if(r===Dt)return 14}return 2}function mi(r,s){var a=r.alternate;return a===null?(a=En(r.tag,s,r.key,r.mode),a.elementType=r.elementType,a.type=r.type,a.stateNode=r.stateNode,a.alternate=r,r.alternate=a):(a.pendingProps=s,a.type=r.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=r.flags&14680064,a.childLanes=r.childLanes,a.lanes=r.lanes,a.child=r.child,a.memoizedProps=r.memoizedProps,a.memoizedState=r.memoizedState,a.updateQueue=r.updateQueue,s=r.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=r.sibling,a.index=r.index,a.ref=r.ref,a}function Lu(r,s,a,c,f,g){var _=2;if(c=r,typeof r=="function")kd(r)&&(_=1);else if(typeof r=="string")_=5;else e:switch(r){case x:return ds(a.children,f,g,s);case T:_=8,f|=8;break;case S:return r=En(12,a,s,f|2),r.elementType=S,r.lanes=g,r;case R:return r=En(13,a,s,f),r.elementType=R,r.lanes=g,r;case it:return r=En(19,a,s,f),r.elementType=it,r.lanes=g,r;case Be:return Fu(a,f,g,s);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case A:_=10;break e;case O:_=9;break e;case L:_=11;break e;case Dt:_=14;break e;case Ot:_=16,c=null;break e}throw Error(t(130,r==null?r:typeof r,""))}return s=En(_,a,s,f),s.elementType=r,s.type=c,s.lanes=g,s}function ds(r,s,a,c){return r=En(7,r,c,s),r.lanes=a,r}function Fu(r,s,a,c){return r=En(22,r,c,s),r.elementType=Be,r.lanes=a,r.stateNode={isHidden:!1},r}function Rd(r,s,a){return r=En(6,r,null,s),r.lanes=a,r}function Cd(r,s,a){return s=En(4,r.children!==null?r.children:[],r.key,s),s.lanes=a,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}function k0(r,s,a,c,f){this.tag=s,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Yr(0),this.expirationTimes=Yr(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Yr(0),this.identifierPrefix=c,this.onRecoverableError=f,this.mutableSourceEagerHydrationData=null}function Ad(r,s,a,c,f,g,_,P,C){return r=new k0(r,s,a,P,C),s===1?(s=1,g===!0&&(s|=8)):s=0,g=En(3,null,null,s),r.current=g,g.stateNode=r,g.memoizedState={element:c,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},Bh(g),r}function R0(r,s,a){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ee,key:c==null?null:""+c,children:r,containerInfo:s,implementation:a}}function Sg(r){if(!r)return oi;r=r._reactInternals;e:{if(Cn(r)!==r||r.tag!==1)throw Error(t(170));var s=r;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(Xt(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(t(171))}if(r.tag===1){var a=r.type;if(Xt(a))return Jp(r,a,s)}return s}function Pg(r,s,a,c,f,g,_,P,C){return r=Ad(a,c,!0,r,f,g,_,P,C),r.context=Sg(null),a=r.current,c=qt(),f=fi(a),g=Ar(c,f),g.callback=s??null,ui(a,g,f),r.current.lanes=f,Xr(r,f,c),en(r,c),r}function Uu(r,s,a,c){var f=s.current,g=qt(),_=fi(f);return a=Sg(a),s.context===null?s.context=a:s.pendingContext=a,s=Ar(g,_),s.payload={element:r},c=c===void 0?null:c,c!==null&&(s.callback=c),r=ui(f,s,_),r!==null&&(jn(r,f,_,g),gu(r,f,_)),_}function ju(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function kg(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var a=r.retryLane;r.retryLane=a!==0&&a<s?a:s}}function xd(r,s){kg(r,s),(r=r.alternate)&&kg(r,s)}function C0(){return null}var Rg=typeof reportError=="function"?reportError:function(r){console.error(r)};function Nd(r){this._internalRoot=r}zu.prototype.render=Nd.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(t(409));Uu(r,s,null,null)},zu.prototype.unmount=Nd.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;us(function(){Uu(null,r,null,null)}),s[Sr]=null}};function zu(r){this._internalRoot=r}zu.prototype.unstable_scheduleHydration=function(r){if(r){var s=zl();r={blockedOn:null,target:r,priority:s};for(var a=0;a<Gn.length&&s!==0&&s<Gn[a].priority;a++);Gn.splice(a,0,r),a===0&&Wl(r)}};function Dd(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function Bu(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function Cg(){}function A0(r,s,a,c,f){if(f){if(typeof c=="function"){var g=c;c=function(){var z=ju(_);g.call(z)}}var _=Pg(s,c,r,0,null,!1,!1,"",Cg);return r._reactRootContainer=_,r[Sr]=_.current,Ca(r.nodeType===8?r.parentNode:r),us(),_}for(;f=r.lastChild;)r.removeChild(f);if(typeof c=="function"){var P=c;c=function(){var z=ju(C);P.call(z)}}var C=Ad(r,0,!1,null,null,!1,!1,"",Cg);return r._reactRootContainer=C,r[Sr]=C.current,Ca(r.nodeType===8?r.parentNode:r),us(function(){Uu(s,C,a,c)}),C}function $u(r,s,a,c,f){var g=a._reactRootContainer;if(g){var _=g;if(typeof f=="function"){var P=f;f=function(){var C=ju(_);P.call(C)}}Uu(s,_,r,f)}else _=A0(a,s,r,f,c);return ju(_)}Ul=function(r){switch(r.tag){case 3:var s=r.stateNode;if(s.current.memoizedState.isDehydrated){var a=Qr(s.pendingLanes);a!==0&&(Jr(s,a|1),en(s,He()),(Ve&6)===0&&(To=He()+500,ai()))}break;case 13:us(function(){var c=Cr(r,1);if(c!==null){var f=qt();jn(c,r,1,f)}}),xd(r,1)}},qs=function(r){if(r.tag===13){var s=Cr(r,134217728);if(s!==null){var a=qt();jn(s,r,134217728,a)}xd(r,134217728)}},jl=function(r){if(r.tag===13){var s=fi(r),a=Cr(r,s);if(a!==null){var c=qt();jn(a,r,s,c)}xd(r,s)}},zl=function(){return xe},Bl=function(r,s){var a=xe;try{return xe=r,s()}finally{xe=a}},Ls=function(r,s,a){switch(s){case"input":if(Zo(r,a),s=a.name,a.type==="radio"&&s!=null){for(a=r;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<a.length;s++){var c=a[s];if(c!==r&&c.form===r.form){var f=ou(c);if(!f)throw Error(t(90));Ns(c),Zo(c,f)}}}break;case"textarea":Vs(r,a);break;case"select":s=a.value,s!=null&&gr(r,!!a.multiple,s,!1)}},$i=Id,ua=us;var x0={usingClientEntryPoint:!1,Events:[Na,lo,ou,qn,la,Id]},Ha={findFiberByHostInstance:ts,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},N0={bundleType:Ha.bundleType,version:Ha.version,rendererPackageName:Ha.rendererPackageName,rendererConfig:Ha.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ae.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=da(r),r===null?null:r.stateNode},findFiberByHostInstance:Ha.findFiberByHostInstance||C0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Wu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wu.isDisabled&&Wu.supportsFiber)try{Gi=Wu.inject(N0),sn=Wu}catch{}}return tn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=x0,tn.createPortal=function(r,s){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Dd(s))throw Error(t(200));return R0(r,s,null,a)},tn.createRoot=function(r,s){if(!Dd(r))throw Error(t(299));var a=!1,c="",f=Rg;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onRecoverableError!==void 0&&(f=s.onRecoverableError)),s=Ad(r,1,!1,null,null,a,!1,c,f),r[Sr]=s.current,Ca(r.nodeType===8?r.parentNode:r),new Nd(s)},tn.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(t(188)):(r=Object.keys(r).join(","),Error(t(268,r)));return r=da(s),r=r===null?null:r.stateNode,r},tn.flushSync=function(r){return us(r)},tn.hydrate=function(r,s,a){if(!Bu(s))throw Error(t(200));return $u(null,r,s,!0,a)},tn.hydrateRoot=function(r,s,a){if(!Dd(r))throw Error(t(405));var c=a!=null&&a.hydratedSources||null,f=!1,g="",_=Rg;if(a!=null&&(a.unstable_strictMode===!0&&(f=!0),a.identifierPrefix!==void 0&&(g=a.identifierPrefix),a.onRecoverableError!==void 0&&(_=a.onRecoverableError)),s=Pg(s,null,r,1,a??null,f,!1,g,_),r[Sr]=s.current,Ca(r),c)for(r=0;r<c.length;r++)a=c[r],f=a._getVersion,f=f(a._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[a,f]:s.mutableSourceEagerHydrationData.push(a,f);return new zu(s)},tn.render=function(r,s,a){if(!Bu(s))throw Error(t(200));return $u(null,r,s,!1,a)},tn.unmountComponentAtNode=function(r){if(!Bu(r))throw Error(t(40));return r._reactRootContainer?(us(function(){$u(null,null,r,!1,function(){r._reactRootContainer=null,r[Sr]=null})}),!0):!1},tn.unstable_batchedUpdates=Id,tn.unstable_renderSubtreeIntoContainer=function(r,s,a,c){if(!Bu(a))throw Error(t(200));if(r==null||r._reactInternals===void 0)throw Error(t(38));return $u(r,s,a,!1,c)},tn.version="18.3.1-next-f1338f8080-20240426",tn}var Mg;function j0(){if(Mg)return Vd.exports;Mg=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Vd.exports=U0(),Vd.exports}var Lg;function z0(){if(Lg)return Hu;Lg=1;var n=j0();return Hu.createRoot=n.createRoot,Hu.hydrateRoot=n.hydrateRoot,Hu}var B0=z0(),Ka={},Fg;function $0(){if(Fg)return Ka;Fg=1,Object.defineProperty(Ka,"__esModule",{value:!0}),Ka.parse=h,Ka.serialize=y;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,l=(()=>{const k=function(){};return k.prototype=Object.create(null),k})();function h(k,D){const M=new l,B=k.length;if(B<2)return M;const V=(D==null?void 0:D.decode)||w;let q=0;do{const Q=k.indexOf("=",q);if(Q===-1)break;const K=k.indexOf(";",q),ae=K===-1?B:K;if(Q>ae){q=k.lastIndexOf(";",Q-1)+1;continue}const Se=d(k,q,Q),Ee=p(k,Q,Se),x=k.slice(Se,Ee);if(M[x]===void 0){let T=d(k,Q+1,ae),S=p(k,ae,T);const A=V(k.slice(T,S));M[x]=A}q=ae+1}while(q<B);return M}function d(k,D,M){do{const B=k.charCodeAt(D);if(B!==32&&B!==9)return D}while(++D<M);return M}function p(k,D,M){for(;D>M;){const B=k.charCodeAt(--D);if(B!==32&&B!==9)return D+1}return M}function y(k,D,M){const B=(M==null?void 0:M.encode)||encodeURIComponent;if(!n.test(k))throw new TypeError(`argument name is invalid: ${k}`);const V=B(D);if(!e.test(V))throw new TypeError(`argument val is invalid: ${D}`);let q=k+"="+V;if(!M)return q;if(M.maxAge!==void 0){if(!Number.isInteger(M.maxAge))throw new TypeError(`option maxAge is invalid: ${M.maxAge}`);q+="; Max-Age="+M.maxAge}if(M.domain){if(!t.test(M.domain))throw new TypeError(`option domain is invalid: ${M.domain}`);q+="; Domain="+M.domain}if(M.path){if(!i.test(M.path))throw new TypeError(`option path is invalid: ${M.path}`);q+="; Path="+M.path}if(M.expires){if(!I(M.expires)||!Number.isFinite(M.expires.valueOf()))throw new TypeError(`option expires is invalid: ${M.expires}`);q+="; Expires="+M.expires.toUTCString()}if(M.httpOnly&&(q+="; HttpOnly"),M.secure&&(q+="; Secure"),M.partitioned&&(q+="; Partitioned"),M.priority)switch(typeof M.priority=="string"?M.priority.toLowerCase():void 0){case"low":q+="; Priority=Low";break;case"medium":q+="; Priority=Medium";break;case"high":q+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${M.priority}`)}if(M.sameSite)switch(typeof M.sameSite=="string"?M.sameSite.toLowerCase():M.sameSite){case!0:case"strict":q+="; SameSite=Strict";break;case"lax":q+="; SameSite=Lax";break;case"none":q+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${M.sameSite}`)}return q}function w(k){if(k.indexOf("%")===-1)return k;try{return decodeURIComponent(k)}catch{return k}}function I(k){return o.call(k)==="[object Date]"}return Ka}$0();/**
 * react-router v7.2.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Ug="popstate";function W0(n={}){function e(o,l){let{pathname:h="/",search:d="",hash:p=""}=Ps(o.location.hash.substring(1));return!h.startsWith("/")&&!h.startsWith(".")&&(h="/"+h),Jd("",{pathname:h,search:d,hash:p},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function t(o,l){let h=o.document.querySelector("base"),d="";if(h&&h.getAttribute("href")){let p=o.location.href,y=p.indexOf("#");d=y===-1?p:p.slice(0,y)}return d+"#"+(typeof l=="string"?l:sl(l))}function i(o,l){Bn(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(l)})`)}return q0(e,t,i,n)}function et(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Bn(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function H0(){return Math.random().toString(36).substring(2,10)}function jg(n,e){return{usr:n.state,key:n.key,idx:e}}function Jd(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Ps(e):e,state:t,key:e&&e.key||i||H0()}}function sl({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Ps(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function q0(n,e,t,i={}){let{window:o=document.defaultView,v5Compat:l=!1}=i,h=o.history,d="POP",p=null,y=w();y==null&&(y=0,h.replaceState({...h.state,idx:y},""));function w(){return(h.state||{idx:null}).idx}function I(){d="POP";let V=w(),q=V==null?null:V-y;y=V,p&&p({action:d,location:B.location,delta:q})}function k(V,q){d="PUSH";let Q=Jd(B.location,V,q);t&&t(Q,V),y=w()+1;let K=jg(Q,y),ae=B.createHref(Q);try{h.pushState(K,"",ae)}catch(Se){if(Se instanceof DOMException&&Se.name==="DataCloneError")throw Se;o.location.assign(ae)}l&&p&&p({action:d,location:B.location,delta:1})}function D(V,q){d="REPLACE";let Q=Jd(B.location,V,q);t&&t(Q,V),y=w();let K=jg(Q,y),ae=B.createHref(Q);h.replaceState(K,"",ae),l&&p&&p({action:d,location:B.location,delta:0})}function M(V){let q=o.location.origin!=="null"?o.location.origin:o.location.href,Q=typeof V=="string"?V:sl(V);return Q=Q.replace(/ $/,"%20"),et(q,`No window.location.(origin|href) available to create URL for href: ${Q}`),new URL(Q,q)}let B={get action(){return d},get location(){return n(o,h)},listen(V){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(Ug,I),p=V,()=>{o.removeEventListener(Ug,I),p=null}},createHref(V){return e(o,V)},createURL:M,encodeLocation(V){let q=M(V);return{pathname:q.pathname,search:q.search,hash:q.hash}},push:k,replace:D,go(V){return h.go(V)}};return B}function Ov(n,e,t="/"){return K0(n,e,t,!1)}function K0(n,e,t,i){let o=typeof e=="string"?Ps(e):e,l=Ni(o.pathname||"/",t);if(l==null)return null;let h=bv(n);G0(h);let d=null;for(let p=0;d==null&&p<h.length;++p){let y=sT(l);d=rT(h[p],y,i)}return d}function bv(n,e=[],t=[],i=""){let o=(l,h,d)=>{let p={relativePath:d===void 0?l.path||"":d,caseSensitive:l.caseSensitive===!0,childrenIndex:h,route:l};p.relativePath.startsWith("/")&&(et(p.relativePath.startsWith(i),`Absolute route path "${p.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(i.length));let y=Mr([i,p.relativePath]),w=t.concat(p);l.children&&l.children.length>0&&(et(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),bv(l.children,e,w,y)),!(l.path==null&&!l.index)&&e.push({path:y,score:tT(y,l.index),routesMeta:w})};return n.forEach((l,h)=>{var d;if(l.path===""||!((d=l.path)!=null&&d.includes("?")))o(l,h);else for(let p of Vv(l.path))o(l,h,p)}),e}function Vv(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,o=t.endsWith("?"),l=t.replace(/\?$/,"");if(i.length===0)return o?[l,""]:[l];let h=Vv(i.join("/")),d=[];return d.push(...h.map(p=>p===""?l:[l,p].join("/"))),o&&d.push(...h),d.map(p=>n.startsWith("/")&&p===""?"/":p)}function G0(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:nT(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var Q0=/^:[\w-]+$/,Y0=3,X0=2,J0=1,Z0=10,eT=-2,zg=n=>n==="*";function tT(n,e){let t=n.split("/"),i=t.length;return t.some(zg)&&(i+=eT),e&&(i+=X0),t.filter(o=>!zg(o)).reduce((o,l)=>o+(Q0.test(l)?Y0:l===""?J0:Z0),i)}function nT(n,e){return n.length===e.length&&n.slice(0,-1).every((i,o)=>i===e[o])?n[n.length-1]-e[e.length-1]:0}function rT(n,e,t=!1){let{routesMeta:i}=n,o={},l="/",h=[];for(let d=0;d<i.length;++d){let p=i[d],y=d===i.length-1,w=l==="/"?e:e.slice(l.length)||"/",I=dc({path:p.relativePath,caseSensitive:p.caseSensitive,end:y},w),k=p.route;if(!I&&y&&t&&!i[i.length-1].route.index&&(I=dc({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},w)),!I)return null;Object.assign(o,I.params),h.push({params:o,pathname:Mr([l,I.pathname]),pathnameBase:uT(Mr([l,I.pathnameBase])),route:k}),I.pathnameBase!=="/"&&(l=Mr([l,I.pathnameBase]))}return h}function dc(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=iT(n.path,n.caseSensitive,n.end),o=e.match(t);if(!o)return null;let l=o[0],h=l.replace(/(.)\/+$/,"$1"),d=o.slice(1);return{params:i.reduce((y,{paramName:w,isOptional:I},k)=>{if(w==="*"){let M=d[k]||"";h=l.slice(0,l.length-M.length).replace(/(.)\/+$/,"$1")}const D=d[k];return I&&!D?y[w]=void 0:y[w]=(D||"").replace(/%2F/g,"/"),y},{}),pathname:l,pathnameBase:h,pattern:n}}function iT(n,e=!1,t=!0){Bn(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],o="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,d,p)=>(i.push({paramName:d,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),o+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":n!==""&&n!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),i]}function sT(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Bn(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Ni(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function oT(n,e="/"){let{pathname:t,search:i="",hash:o=""}=typeof n=="string"?Ps(n):n;return{pathname:t?t.startsWith("/")?t:aT(t,e):e,search:cT(i),hash:hT(o)}}function aT(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function Fd(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function lT(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Mv(n){let e=lT(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function Lv(n,e,t,i=!1){let o;typeof n=="string"?o=Ps(n):(o={...n},et(!o.pathname||!o.pathname.includes("?"),Fd("?","pathname","search",o)),et(!o.pathname||!o.pathname.includes("#"),Fd("#","pathname","hash",o)),et(!o.search||!o.search.includes("#"),Fd("#","search","hash",o)));let l=n===""||o.pathname==="",h=l?"/":o.pathname,d;if(h==null)d=t;else{let I=e.length-1;if(!i&&h.startsWith("..")){let k=h.split("/");for(;k[0]==="..";)k.shift(),I-=1;o.pathname=k.join("/")}d=I>=0?e[I]:"/"}let p=oT(o,d),y=h&&h!=="/"&&h.endsWith("/"),w=(l||h===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(y||w)&&(p.pathname+="/"),p}var Mr=n=>n.join("/").replace(/\/\/+/g,"/"),uT=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),cT=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,hT=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function dT(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var Fv=["POST","PUT","PATCH","DELETE"];new Set(Fv);var fT=["GET",...Fv];new Set(fT);var Wo=W.createContext(null);Wo.displayName="DataRouter";var Uc=W.createContext(null);Uc.displayName="DataRouterState";var Uv=W.createContext({isTransitioning:!1});Uv.displayName="ViewTransition";var pT=W.createContext(new Map);pT.displayName="Fetchers";var mT=W.createContext(null);mT.displayName="Await";var dr=W.createContext(null);dr.displayName="Navigation";var gl=W.createContext(null);gl.displayName="Location";var $r=W.createContext({outlet:null,matches:[],isDataRoute:!1});$r.displayName="Route";var kf=W.createContext(null);kf.displayName="RouteError";function gT(n,{relative:e}={}){et(yl(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=W.useContext(dr),{hash:o,pathname:l,search:h}=vl(n,{relative:e}),d=l;return t!=="/"&&(d=l==="/"?t:Mr([t,l])),i.createHref({pathname:d,search:h,hash:o})}function yl(){return W.useContext(gl)!=null}function ks(){return et(yl(),"useLocation() may be used only in the context of a <Router> component."),W.useContext(gl).location}var jv="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function zv(n){W.useContext(dr).static||W.useLayoutEffect(n)}function jc(){let{isDataRoute:n}=W.useContext($r);return n?AT():yT()}function yT(){et(yl(),"useNavigate() may be used only in the context of a <Router> component.");let n=W.useContext(Wo),{basename:e,navigator:t}=W.useContext(dr),{matches:i}=W.useContext($r),{pathname:o}=ks(),l=JSON.stringify(Mv(i)),h=W.useRef(!1);return zv(()=>{h.current=!0}),W.useCallback((p,y={})=>{if(Bn(h.current,jv),!h.current)return;if(typeof p=="number"){t.go(p);return}let w=Lv(p,JSON.parse(l),o,y.relative==="path");n==null&&e!=="/"&&(w.pathname=w.pathname==="/"?e:Mr([e,w.pathname])),(y.replace?t.replace:t.push)(w,y.state,y)},[e,t,l,o,n])}W.createContext(null);function vl(n,{relative:e}={}){let{matches:t}=W.useContext($r),{pathname:i}=ks(),o=JSON.stringify(Mv(t));return W.useMemo(()=>Lv(n,JSON.parse(o),i,e==="path"),[n,o,i,e])}function vT(n,e){return Bv(n,e)}function Bv(n,e,t,i){var Q;et(yl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:l}=W.useContext(dr),{matches:h}=W.useContext($r),d=h[h.length-1],p=d?d.params:{},y=d?d.pathname:"/",w=d?d.pathnameBase:"/",I=d&&d.route;{let K=I&&I.path||"";$v(y,!I||K.endsWith("*")||K.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${K}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${K}"> to <Route path="${K==="/"?"*":`${K}/*`}">.`)}let k=ks(),D;if(e){let K=typeof e=="string"?Ps(e):e;et(w==="/"||((Q=K.pathname)==null?void 0:Q.startsWith(w)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${w}" but pathname "${K.pathname}" was given in the \`location\` prop.`),D=K}else D=k;let M=D.pathname||"/",B=M;if(w!=="/"){let K=w.replace(/^\//,"").split("/");B="/"+M.replace(/^\//,"").split("/").slice(K.length).join("/")}let V=!l&&t&&t.matches&&t.matches.length>0?t.matches:Ov(n,{pathname:B});Bn(I||V!=null,`No routes matched location "${D.pathname}${D.search}${D.hash}" `),Bn(V==null||V[V.length-1].route.element!==void 0||V[V.length-1].route.Component!==void 0||V[V.length-1].route.lazy!==void 0,`Matched leaf route at location "${D.pathname}${D.search}${D.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let q=IT(V&&V.map(K=>Object.assign({},K,{params:Object.assign({},p,K.params),pathname:Mr([w,o.encodeLocation?o.encodeLocation(K.pathname).pathname:K.pathname]),pathnameBase:K.pathnameBase==="/"?w:Mr([w,o.encodeLocation?o.encodeLocation(K.pathnameBase).pathname:K.pathnameBase])})),h,t,i);return e&&q?W.createElement(gl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...D},navigationType:"POP"}},q):q}function _T(){let n=CT(),e=dT(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i},l={padding:"2px 4px",backgroundColor:i},h=null;return console.error("Error handled by React Router default ErrorBoundary:",n),h=W.createElement(W.Fragment,null,W.createElement("p",null,"💿 Hey developer 👋"),W.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",W.createElement("code",{style:l},"ErrorBoundary")," or"," ",W.createElement("code",{style:l},"errorElement")," prop on your route.")),W.createElement(W.Fragment,null,W.createElement("h2",null,"Unexpected Application Error!"),W.createElement("h3",{style:{fontStyle:"italic"}},e),t?W.createElement("pre",{style:o},t):null,h)}var wT=W.createElement(_T,null),ET=class extends W.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?W.createElement($r.Provider,{value:this.props.routeContext},W.createElement(kf.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function TT({routeContext:n,match:e,children:t}){let i=W.useContext(Wo);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),W.createElement($r.Provider,{value:n},t)}function IT(n,e=[],t=null,i=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let o=n,l=t==null?void 0:t.errors;if(l!=null){let p=o.findIndex(y=>y.route.id&&(l==null?void 0:l[y.route.id])!==void 0);et(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let h=!1,d=-1;if(t)for(let p=0;p<o.length;p++){let y=o[p];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(d=p),y.route.id){let{loaderData:w,errors:I}=t,k=y.route.loader&&!w.hasOwnProperty(y.route.id)&&(!I||I[y.route.id]===void 0);if(y.route.lazy||k){h=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((p,y,w)=>{let I,k=!1,D=null,M=null;t&&(I=l&&y.route.id?l[y.route.id]:void 0,D=y.route.errorElement||wT,h&&(d<0&&w===0?($v("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),k=!0,M=null):d===w&&(k=!0,M=y.route.hydrateFallbackElement||null)));let B=e.concat(o.slice(0,w+1)),V=()=>{let q;return I?q=D:k?q=M:y.route.Component?q=W.createElement(y.route.Component,null):y.route.element?q=y.route.element:q=p,W.createElement(TT,{match:y,routeContext:{outlet:p,matches:B,isDataRoute:t!=null},children:q})};return t&&(y.route.ErrorBoundary||y.route.errorElement||w===0)?W.createElement(ET,{location:t.location,revalidation:t.revalidation,component:D,error:I,children:V(),routeContext:{outlet:null,matches:B,isDataRoute:!0}}):V()},null)}function Rf(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ST(n){let e=W.useContext(Wo);return et(e,Rf(n)),e}function PT(n){let e=W.useContext(Uc);return et(e,Rf(n)),e}function kT(n){let e=W.useContext($r);return et(e,Rf(n)),e}function Cf(n){let e=kT(n),t=e.matches[e.matches.length-1];return et(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function RT(){return Cf("useRouteId")}function CT(){var i;let n=W.useContext(kf),e=PT("useRouteError"),t=Cf("useRouteError");return n!==void 0?n:(i=e.errors)==null?void 0:i[t]}function AT(){let{router:n}=ST("useNavigate"),e=Cf("useNavigate"),t=W.useRef(!1);return zv(()=>{t.current=!0}),W.useCallback(async(o,l={})=>{Bn(t.current,jv),t.current&&(typeof o=="number"?n.navigate(o):await n.navigate(o,{fromRouteId:e,...l}))},[n,e])}var Bg={};function $v(n,e,t){!e&&!Bg[n]&&(Bg[n]=!0,Bn(!1,t))}W.memo(xT);function xT({routes:n,future:e,state:t}){return Bv(n,void 0,t,e)}function ms(n){et(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function NT({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:o,static:l=!1}){et(!yl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=n.replace(/^\/*/,"/"),d=W.useMemo(()=>({basename:h,navigator:o,static:l,future:{}}),[h,o,l]);typeof t=="string"&&(t=Ps(t));let{pathname:p="/",search:y="",hash:w="",state:I=null,key:k="default"}=t,D=W.useMemo(()=>{let M=Ni(p,h);return M==null?null:{location:{pathname:M,search:y,hash:w,state:I,key:k},navigationType:i}},[h,p,y,w,I,k,i]);return Bn(D!=null,`<Router basename="${h}"> is not able to match the URL "${p}${y}${w}" because it does not start with the basename, so the <Router> won't render anything.`),D==null?null:W.createElement(dr.Provider,{value:d},W.createElement(gl.Provider,{children:e,value:D}))}function DT({children:n,location:e}){return vT(Zd(n),e)}function Zd(n,e=[]){let t=[];return W.Children.forEach(n,(i,o)=>{if(!W.isValidElement(i))return;let l=[...e,o];if(i.type===W.Fragment){t.push.apply(t,Zd(i.props.children,l));return}et(i.type===ms,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),et(!i.props.index||!i.props.children,"An index route cannot have child routes.");let h={id:i.props.id||l.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(h.children=Zd(i.props.children,l)),t.push(h)}),t}var ec="get",tc="application/x-www-form-urlencoded";function zc(n){return n!=null&&typeof n.tagName=="string"}function OT(n){return zc(n)&&n.tagName.toLowerCase()==="button"}function bT(n){return zc(n)&&n.tagName.toLowerCase()==="form"}function VT(n){return zc(n)&&n.tagName.toLowerCase()==="input"}function MT(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function LT(n,e){return n.button===0&&(!e||e==="_self")&&!MT(n)}var qu=null;function FT(){if(qu===null)try{new FormData(document.createElement("form"),0),qu=!1}catch{qu=!0}return qu}var UT=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ud(n){return n!=null&&!UT.has(n)?(Bn(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${tc}"`),null):n}function jT(n,e){let t,i,o,l,h;if(bT(n)){let d=n.getAttribute("action");i=d?Ni(d,e):null,t=n.getAttribute("method")||ec,o=Ud(n.getAttribute("enctype"))||tc,l=new FormData(n)}else if(OT(n)||VT(n)&&(n.type==="submit"||n.type==="image")){let d=n.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=n.getAttribute("formaction")||d.getAttribute("action");if(i=p?Ni(p,e):null,t=n.getAttribute("formmethod")||d.getAttribute("method")||ec,o=Ud(n.getAttribute("formenctype"))||Ud(d.getAttribute("enctype"))||tc,l=new FormData(d,n),!FT()){let{name:y,type:w,value:I}=n;if(w==="image"){let k=y?`${y}.`:"";l.append(`${k}x`,"0"),l.append(`${k}y`,"0")}else y&&l.append(y,I)}}else{if(zc(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=ec,i=null,o=tc,h=n}return l&&o==="text/plain"&&(h=l,l=void 0),{action:i,method:t.toLowerCase(),encType:o,formData:l,body:h}}function Af(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function zT(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function BT(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function $T(n,e,t){let i=await Promise.all(n.map(async o=>{let l=e.routes[o.route.id];if(l){let h=await zT(l,t);return h.links?h.links():[]}return[]}));return KT(i.flat(1).filter(BT).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function $g(n,e,t,i,o,l){let h=(p,y)=>t[y]?p.route.id!==t[y].route.id:!0,d=(p,y)=>{var w;return t[y].pathname!==p.pathname||((w=t[y].route.path)==null?void 0:w.endsWith("*"))&&t[y].params["*"]!==p.params["*"]};return l==="assets"?e.filter((p,y)=>h(p,y)||d(p,y)):l==="data"?e.filter((p,y)=>{var I;let w=i.routes[p.route.id];if(!w||!w.hasLoader)return!1;if(h(p,y)||d(p,y))return!0;if(p.route.shouldRevalidate){let k=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((I=t[0])==null?void 0:I.params)||{},nextUrl:new URL(n,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof k=="boolean")return k}return!0}):[]}function WT(n,e,{includeHydrateFallback:t}={}){return HT(n.map(i=>{let o=e.routes[i.route.id];if(!o)return[];let l=[o.module];return o.clientActionModule&&(l=l.concat(o.clientActionModule)),o.clientLoaderModule&&(l=l.concat(o.clientLoaderModule)),t&&o.hydrateFallbackModule&&(l=l.concat(o.hydrateFallbackModule)),o.imports&&(l=l.concat(o.imports)),l}).flat(1))}function HT(n){return[...new Set(n)]}function qT(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function KT(n,e){let t=new Set;return new Set(e),n.reduce((i,o)=>{let l=JSON.stringify(qT(o));return t.has(l)||(t.add(l),i.push({key:l,link:o})),i},[])}function GT(n){let e=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function QT(){let n=W.useContext(Wo);return Af(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function YT(){let n=W.useContext(Uc);return Af(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var xf=W.createContext(void 0);xf.displayName="FrameworkContext";function Wv(){let n=W.useContext(xf);return Af(n,"You must render this element inside a <HydratedRouter> element"),n}function XT(n,e){let t=W.useContext(xf),[i,o]=W.useState(!1),[l,h]=W.useState(!1),{onFocus:d,onBlur:p,onMouseEnter:y,onMouseLeave:w,onTouchStart:I}=e,k=W.useRef(null);W.useEffect(()=>{if(n==="render"&&h(!0),n==="viewport"){let B=q=>{q.forEach(Q=>{h(Q.isIntersecting)})},V=new IntersectionObserver(B,{threshold:.5});return k.current&&V.observe(k.current),()=>{V.disconnect()}}},[n]),W.useEffect(()=>{if(i){let B=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(B)}}},[i]);let D=()=>{o(!0)},M=()=>{o(!1),h(!1)};return t?n!=="intent"?[l,k,{}]:[l,k,{onFocus:Ga(d,D),onBlur:Ga(p,M),onMouseEnter:Ga(y,D),onMouseLeave:Ga(w,M),onTouchStart:Ga(I,D)}]:[!1,k,{}]}function Ga(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function JT({page:n,...e}){let{router:t}=QT(),i=W.useMemo(()=>Ov(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?W.createElement(eI,{page:n,matches:i,...e}):null}function ZT(n){let{manifest:e,routeModules:t}=Wv(),[i,o]=W.useState([]);return W.useEffect(()=>{let l=!1;return $T(n,e,t).then(h=>{l||o(h)}),()=>{l=!0}},[n,e,t]),i}function eI({page:n,matches:e,...t}){let i=ks(),{manifest:o,routeModules:l}=Wv(),{loaderData:h,matches:d}=YT(),p=W.useMemo(()=>$g(n,e,d,o,i,"data"),[n,e,d,o,i]),y=W.useMemo(()=>$g(n,e,d,o,i,"assets"),[n,e,d,o,i]),w=W.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let D=new Set,M=!1;if(e.forEach(V=>{var Q;let q=o.routes[V.route.id];!q||!q.hasLoader||(!p.some(K=>K.route.id===V.route.id)&&V.route.id in h&&((Q=l[V.route.id])!=null&&Q.shouldRevalidate)||q.hasClientLoader?M=!0:D.add(V.route.id))}),D.size===0)return[];let B=GT(n);return M&&D.size>0&&B.searchParams.set("_routes",e.filter(V=>D.has(V.route.id)).map(V=>V.route.id).join(",")),[B.pathname+B.search]},[h,i,o,p,e,n,l]),I=W.useMemo(()=>WT(y,o),[y,o]),k=ZT(y);return W.createElement(W.Fragment,null,w.map(D=>W.createElement("link",{key:D,rel:"prefetch",as:"fetch",href:D,...t})),I.map(D=>W.createElement("link",{key:D,rel:"modulepreload",href:D,...t})),k.map(({key:D,link:M})=>W.createElement("link",{key:D,...M})))}function tI(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var Hv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Hv&&(window.__reactRouterVersion="7.2.0")}catch{}function nI({basename:n,children:e,window:t}){let i=W.useRef();i.current==null&&(i.current=W0({window:t,v5Compat:!0}));let o=i.current,[l,h]=W.useState({action:o.action,location:o.location}),d=W.useCallback(p=>{W.startTransition(()=>h(p))},[h]);return W.useLayoutEffect(()=>o.listen(d),[o,d]),W.createElement(NT,{basename:n,children:e,location:l.location,navigationType:l.action,navigator:o})}var qv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Dr=W.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:o,reloadDocument:l,replace:h,state:d,target:p,to:y,preventScrollReset:w,viewTransition:I,...k},D){let{basename:M}=W.useContext(dr),B=typeof y=="string"&&qv.test(y),V,q=!1;if(typeof y=="string"&&B&&(V=y,Hv))try{let S=new URL(window.location.href),A=y.startsWith("//")?new URL(S.protocol+y):new URL(y),O=Ni(A.pathname,M);A.origin===S.origin&&O!=null?y=O+A.search+A.hash:q=!0}catch{Bn(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let Q=gT(y,{relative:o}),[K,ae,Se]=XT(i,k),Ee=oI(y,{replace:h,state:d,target:p,preventScrollReset:w,relative:o,viewTransition:I});function x(S){e&&e(S),S.defaultPrevented||Ee(S)}let T=W.createElement("a",{...k,...Se,href:V||Q,onClick:q||l?e:x,ref:tI(D,ae),target:p,"data-discover":!B&&t==="render"?"true":void 0});return K&&!B?W.createElement(W.Fragment,null,T,W.createElement(JT,{page:Q})):T});Dr.displayName="Link";var rI=W.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:o=!1,style:l,to:h,viewTransition:d,children:p,...y},w){let I=vl(h,{relative:y.relative}),k=ks(),D=W.useContext(Uc),{navigator:M,basename:B}=W.useContext(dr),V=D!=null&&hI(I)&&d===!0,q=M.encodeLocation?M.encodeLocation(I).pathname:I.pathname,Q=k.pathname,K=D&&D.navigation&&D.navigation.location?D.navigation.location.pathname:null;t||(Q=Q.toLowerCase(),K=K?K.toLowerCase():null,q=q.toLowerCase()),K&&B&&(K=Ni(K,B)||K);const ae=q!=="/"&&q.endsWith("/")?q.length-1:q.length;let Se=Q===q||!o&&Q.startsWith(q)&&Q.charAt(ae)==="/",Ee=K!=null&&(K===q||!o&&K.startsWith(q)&&K.charAt(q.length)==="/"),x={isActive:Se,isPending:Ee,isTransitioning:V},T=Se?e:void 0,S;typeof i=="function"?S=i(x):S=[i,Se?"active":null,Ee?"pending":null,V?"transitioning":null].filter(Boolean).join(" ");let A=typeof l=="function"?l(x):l;return W.createElement(Dr,{...y,"aria-current":T,className:S,ref:w,style:A,to:h,viewTransition:d},typeof p=="function"?p(x):p)});rI.displayName="NavLink";var iI=W.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:o,state:l,method:h=ec,action:d,onSubmit:p,relative:y,preventScrollReset:w,viewTransition:I,...k},D)=>{let M=uI(),B=cI(d,{relative:y}),V=h.toLowerCase()==="get"?"get":"post",q=typeof d=="string"&&qv.test(d),Q=K=>{if(p&&p(K),K.defaultPrevented)return;K.preventDefault();let ae=K.nativeEvent.submitter,Se=(ae==null?void 0:ae.getAttribute("formmethod"))||h;M(ae||K.currentTarget,{fetcherKey:e,method:Se,navigate:t,replace:o,state:l,relative:y,preventScrollReset:w,viewTransition:I})};return W.createElement("form",{ref:D,method:V,action:B,onSubmit:i?p:Q,...k,"data-discover":!q&&n==="render"?"true":void 0})});iI.displayName="Form";function sI(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Kv(n){let e=W.useContext(Wo);return et(e,sI(n)),e}function oI(n,{target:e,replace:t,state:i,preventScrollReset:o,relative:l,viewTransition:h}={}){let d=jc(),p=ks(),y=vl(n,{relative:l});return W.useCallback(w=>{if(LT(w,e)){w.preventDefault();let I=t!==void 0?t:sl(p)===sl(y);d(n,{replace:I,state:i,preventScrollReset:o,relative:l,viewTransition:h})}},[p,d,y,t,i,e,n,o,l,h])}var aI=0,lI=()=>`__${String(++aI)}__`;function uI(){let{router:n}=Kv("useSubmit"),{basename:e}=W.useContext(dr),t=RT();return W.useCallback(async(i,o={})=>{let{action:l,method:h,encType:d,formData:p,body:y}=jT(i,e);if(o.navigate===!1){let w=o.fetcherKey||lI();await n.fetch(w,t,o.action||l,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||h,formEncType:o.encType||d,flushSync:o.flushSync})}else await n.navigate(o.action||l,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||h,formEncType:o.encType||d,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[n,e,t])}function cI(n,{relative:e}={}){let{basename:t}=W.useContext(dr),i=W.useContext($r);et(i,"useFormAction must be used inside a RouteContext");let[o]=i.matches.slice(-1),l={...vl(n||".",{relative:e})},h=ks();if(n==null){l.search=h.search;let d=new URLSearchParams(l.search),p=d.getAll("index");if(p.some(w=>w==="")){d.delete("index"),p.filter(I=>I).forEach(I=>d.append("index",I));let w=d.toString();l.search=w?`?${w}`:""}}return(!n||n===".")&&o.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:Mr([t,l.pathname])),sl(l)}function hI(n,e={}){let t=W.useContext(Uv);et(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=Kv("useViewTransitionState"),o=vl(n,{relative:e.relative});if(!t.isTransitioning)return!1;let l=Ni(t.currentLocation.pathname,i)||t.currentLocation.pathname,h=Ni(t.nextLocation.pathname,i)||t.nextLocation.pathname;return dc(o.pathname,h)!=null||dc(o.pathname,l)!=null}new TextEncoder;var Wg={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gv=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let o=n.charCodeAt(i);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},dI=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const o=n[t++];if(o<128)e[i++]=String.fromCharCode(o);else if(o>191&&o<224){const l=n[t++];e[i++]=String.fromCharCode((o&31)<<6|l&63)}else if(o>239&&o<365){const l=n[t++],h=n[t++],d=n[t++],p=((o&7)<<18|(l&63)<<12|(h&63)<<6|d&63)-65536;e[i++]=String.fromCharCode(55296+(p>>10)),e[i++]=String.fromCharCode(56320+(p&1023))}else{const l=n[t++],h=n[t++];e[i++]=String.fromCharCode((o&15)<<12|(l&63)<<6|h&63)}}return e.join("")},Qv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<n.length;o+=3){const l=n[o],h=o+1<n.length,d=h?n[o+1]:0,p=o+2<n.length,y=p?n[o+2]:0,w=l>>2,I=(l&3)<<4|d>>4;let k=(d&15)<<2|y>>6,D=y&63;p||(D=64,h||(k=64)),i.push(t[w],t[I],t[k],t[D])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(Gv(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):dI(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<n.length;){const l=t[n.charAt(o++)],d=o<n.length?t[n.charAt(o)]:0;++o;const y=o<n.length?t[n.charAt(o)]:64;++o;const I=o<n.length?t[n.charAt(o)]:64;if(++o,l==null||d==null||y==null||I==null)throw new fI;const k=l<<2|d>>4;if(i.push(k),y!==64){const D=d<<4&240|y>>2;if(i.push(D),I!==64){const M=y<<6&192|I;i.push(M)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class fI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const pI=function(n){const e=Gv(n);return Qv.encodeByteArray(e,!0)},fc=function(n){return pI(n).replace(/\./g,"")},Yv=function(n){try{return Qv.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gI=()=>mI().__FIREBASE_DEFAULTS__,yI=()=>{if(typeof process>"u"||typeof Wg>"u")return;const n=Wg.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},vI=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&Yv(n[1]);return e&&JSON.parse(e)},Bc=()=>{try{return gI()||yI()||vI()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Xv=n=>{var e,t;return(t=(e=Bc())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},_I=n=>{const e=Xv(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},Jv=()=>{var n;return(n=Bc())===null||n===void 0?void 0:n.config},Zv=n=>{var e;return(e=Bc())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EI(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",o=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:o,exp:o+3600,auth_time:o,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},n);return[fc(JSON.stringify(t)),fc(JSON.stringify(h)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function TI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(zt())}function II(){var n;const e=(n=Bc())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function SI(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function PI(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function kI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function RI(){const n=zt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function CI(){return!II()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function AI(){try{return typeof indexedDB=="object"}catch{return!1}}function xI(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var l;e(((l=o.error)===null||l===void 0?void 0:l.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NI="FirebaseError";class Wr extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=NI,Object.setPrototypeOf(this,Wr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,_l.prototype.create)}}class _l{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},o=`${this.service}/${e}`,l=this.errors[e],h=l?DI(l,i):"Error",d=`${this.serviceName}: ${h} (${o}).`;return new Wr(o,d,i)}}function DI(n,e){return n.replace(OI,(t,i)=>{const o=e[i];return o!=null?String(o):`<${i}?>`})}const OI=/\{\$([^}]+)}/g;function bI(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function pc(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const o of t){if(!i.includes(o))return!1;const l=n[o],h=e[o];if(Hg(l)&&Hg(h)){if(!pc(l,h))return!1}else if(l!==h)return!1}for(const o of i)if(!t.includes(o))return!1;return!0}function Hg(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wl(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Qa(n){const e={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[o,l]=i.split("=");e[decodeURIComponent(o)]=decodeURIComponent(l)}}),e}function Ya(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function VI(n,e){const t=new MI(n,e);return t.subscribe.bind(t)}class MI{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let o;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");LI(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:i},o.next===void 0&&(o.next=jd),o.error===void 0&&(o.error=jd),o.complete===void 0&&(o.complete=jd);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function LI(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function jd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bt(n){return n&&n._delegate?n._delegate:n}class ws{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FI{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new wI;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(o)return null;throw l}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(jI(e))try{this.getOrInitializeService({instanceIdentifier:gs})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:o});i.resolve(l)}catch{}}}}clearInstance(e=gs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=gs){return this.instances.has(e)}getOptions(e=gs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[l,h]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);i===d&&h.resolve(o)}return o}onInit(e,t){var i;const o=this.normalizeInstanceIdentifier(t),l=(i=this.onInitCallbacks.get(o))!==null&&i!==void 0?i:new Set;l.add(e),this.onInitCallbacks.set(o,l);const h=this.instances.get(o);return h&&e(h,o),()=>{l.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const o of i)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:UI(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=gs){return this.component?this.component.multipleInstances?e:gs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function UI(n){return n===gs?void 0:n}function jI(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zI{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new FI(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ce;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Ce||(Ce={}));const BI={debug:Ce.DEBUG,verbose:Ce.VERBOSE,info:Ce.INFO,warn:Ce.WARN,error:Ce.ERROR,silent:Ce.SILENT},$I=Ce.INFO,WI={[Ce.DEBUG]:"log",[Ce.VERBOSE]:"log",[Ce.INFO]:"info",[Ce.WARN]:"warn",[Ce.ERROR]:"error"},HI=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),o=WI[e];if(o)console[o](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Nf{constructor(e){this.name=e,this._logLevel=$I,this._logHandler=HI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ce))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?BI[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ce.DEBUG,...e),this._logHandler(this,Ce.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ce.VERBOSE,...e),this._logHandler(this,Ce.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ce.INFO,...e),this._logHandler(this,Ce.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ce.WARN,...e),this._logHandler(this,Ce.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ce.ERROR,...e),this._logHandler(this,Ce.ERROR,...e)}}const qI=(n,e)=>e.some(t=>n instanceof t);let qg,Kg;function KI(){return qg||(qg=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function GI(){return Kg||(Kg=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const e_=new WeakMap,ef=new WeakMap,t_=new WeakMap,zd=new WeakMap,Df=new WeakMap;function QI(n){const e=new Promise((t,i)=>{const o=()=>{n.removeEventListener("success",l),n.removeEventListener("error",h)},l=()=>{t(Pi(n.result)),o()},h=()=>{i(n.error),o()};n.addEventListener("success",l),n.addEventListener("error",h)});return e.then(t=>{t instanceof IDBCursor&&e_.set(t,n)}).catch(()=>{}),Df.set(e,n),e}function YI(n){if(ef.has(n))return;const e=new Promise((t,i)=>{const o=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",h),n.removeEventListener("abort",h)},l=()=>{t(),o()},h=()=>{i(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",l),n.addEventListener("error",h),n.addEventListener("abort",h)});ef.set(n,e)}let tf={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return ef.get(n);if(e==="objectStoreNames")return n.objectStoreNames||t_.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Pi(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function XI(n){tf=n(tf)}function JI(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(Bd(this),e,...t);return t_.set(i,e.sort?e.sort():[e]),Pi(i)}:GI().includes(n)?function(...e){return n.apply(Bd(this),e),Pi(e_.get(this))}:function(...e){return Pi(n.apply(Bd(this),e))}}function ZI(n){return typeof n=="function"?JI(n):(n instanceof IDBTransaction&&YI(n),qI(n,KI())?new Proxy(n,tf):n)}function Pi(n){if(n instanceof IDBRequest)return QI(n);if(zd.has(n))return zd.get(n);const e=ZI(n);return e!==n&&(zd.set(n,e),Df.set(e,n)),e}const Bd=n=>Df.get(n);function eS(n,e,{blocked:t,upgrade:i,blocking:o,terminated:l}={}){const h=indexedDB.open(n,e),d=Pi(h);return i&&h.addEventListener("upgradeneeded",p=>{i(Pi(h.result),p.oldVersion,p.newVersion,Pi(h.transaction),p)}),t&&h.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),d.then(p=>{l&&p.addEventListener("close",()=>l()),o&&p.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),d}const tS=["get","getKey","getAll","getAllKeys","count"],nS=["put","add","delete","clear"],$d=new Map;function Gg(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if($d.get(e))return $d.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,o=nS.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(o||tS.includes(t)))return;const l=async function(h,...d){const p=this.transaction(h,o?"readwrite":"readonly");let y=p.store;return i&&(y=y.index(d.shift())),(await Promise.all([y[t](...d),o&&p.done]))[0]};return $d.set(e,l),l}XI(n=>({...n,get:(e,t,i)=>Gg(e,t)||n.get(e,t,i),has:(e,t)=>!!Gg(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(iS(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function iS(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const nf="@firebase/app",Qg="0.11.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ur=new Nf("@firebase/app"),sS="@firebase/app-compat",oS="@firebase/analytics-compat",aS="@firebase/analytics",lS="@firebase/app-check-compat",uS="@firebase/app-check",cS="@firebase/auth",hS="@firebase/auth-compat",dS="@firebase/database",fS="@firebase/data-connect",pS="@firebase/database-compat",mS="@firebase/functions",gS="@firebase/functions-compat",yS="@firebase/installations",vS="@firebase/installations-compat",_S="@firebase/messaging",wS="@firebase/messaging-compat",ES="@firebase/performance",TS="@firebase/performance-compat",IS="@firebase/remote-config",SS="@firebase/remote-config-compat",PS="@firebase/storage",kS="@firebase/storage-compat",RS="@firebase/firestore",CS="@firebase/vertexai",AS="@firebase/firestore-compat",xS="firebase",NS="11.3.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rf="[DEFAULT]",DS={[nf]:"fire-core",[sS]:"fire-core-compat",[aS]:"fire-analytics",[oS]:"fire-analytics-compat",[uS]:"fire-app-check",[lS]:"fire-app-check-compat",[cS]:"fire-auth",[hS]:"fire-auth-compat",[dS]:"fire-rtdb",[fS]:"fire-data-connect",[pS]:"fire-rtdb-compat",[mS]:"fire-fn",[gS]:"fire-fn-compat",[yS]:"fire-iid",[vS]:"fire-iid-compat",[_S]:"fire-fcm",[wS]:"fire-fcm-compat",[ES]:"fire-perf",[TS]:"fire-perf-compat",[IS]:"fire-rc",[SS]:"fire-rc-compat",[PS]:"fire-gcs",[kS]:"fire-gcs-compat",[RS]:"fire-fst",[AS]:"fire-fst-compat",[CS]:"fire-vertex","fire-js":"fire-js",[xS]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mc=new Map,OS=new Map,sf=new Map;function Yg(n,e){try{n.container.addComponent(e)}catch(t){Ur.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Vo(n){const e=n.name;if(sf.has(e))return Ur.debug(`There were multiple attempts to register component ${e}.`),!1;sf.set(e,n);for(const t of mc.values())Yg(t,n);for(const t of OS.values())Yg(t,n);return!0}function Of(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Tn(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ki=new _l("app","Firebase",bS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VS{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new ws("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ki.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ho=NS;function n_(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i=Object.assign({name:rf,automaticDataCollectionEnabled:!1},e),o=i.name;if(typeof o!="string"||!o)throw ki.create("bad-app-name",{appName:String(o)});if(t||(t=Jv()),!t)throw ki.create("no-options");const l=mc.get(o);if(l){if(pc(t,l.options)&&pc(i,l.config))return l;throw ki.create("duplicate-app",{appName:o})}const h=new zI(o);for(const p of sf.values())h.addComponent(p);const d=new VS(t,i,h);return mc.set(o,d),d}function r_(n=rf){const e=mc.get(n);if(!e&&n===rf&&Jv())return n_();if(!e)throw ki.create("no-app",{appName:n});return e}function Ri(n,e,t){var i;let o=(i=DS[n])!==null&&i!==void 0?i:n;t&&(o+=`-${t}`);const l=o.match(/\s|\//),h=e.match(/\s|\//);if(l||h){const d=[`Unable to register library "${o}" with version "${e}":`];l&&d.push(`library name "${o}" contains illegal characters (whitespace or "/")`),l&&h&&d.push("and"),h&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ur.warn(d.join(" "));return}Vo(new ws(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MS="firebase-heartbeat-database",LS=1,ol="firebase-heartbeat-store";let Wd=null;function i_(){return Wd||(Wd=eS(MS,LS,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(ol)}catch(t){console.warn(t)}}}}).catch(n=>{throw ki.create("idb-open",{originalErrorMessage:n.message})})),Wd}async function FS(n){try{const t=(await i_()).transaction(ol),i=await t.objectStore(ol).get(s_(n));return await t.done,i}catch(e){if(e instanceof Wr)Ur.warn(e.message);else{const t=ki.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ur.warn(t.message)}}}async function Xg(n,e){try{const i=(await i_()).transaction(ol,"readwrite");await i.objectStore(ol).put(e,s_(n)),await i.done}catch(t){if(t instanceof Wr)Ur.warn(t.message);else{const i=ki.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Ur.warn(i.message)}}}function s_(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const US=1024,jS=30;class zS{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new $S(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=Jg();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(h=>h.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:o}),this._heartbeatsCache.heartbeats.length>jS){const h=WS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(h,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){Ur.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Jg(),{heartbeatsToSend:i,unsentEntries:o}=BS(this._heartbeatsCache.heartbeats),l=fc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return Ur.warn(t),""}}}function Jg(){return new Date().toISOString().substring(0,10)}function BS(n,e=US){const t=[];let i=n.slice();for(const o of n){const l=t.find(h=>h.agent===o.agent);if(l){if(l.dates.push(o.date),Zg(t)>e){l.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),Zg(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class $S{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return AI()?xI().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await FS(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return Xg(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return Xg(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function Zg(n){return fc(JSON.stringify({version:2,heartbeats:n})).length}function WS(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let i=1;i<n.length;i++)n[i].date<t&&(t=n[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HS(n){Vo(new ws("platform-logger",e=>new rS(e),"PRIVATE")),Vo(new ws("heartbeat",e=>new zS(e),"PRIVATE")),Ri(nf,Qg,n),Ri(nf,Qg,"esm2017"),Ri("fire-js","")}HS("");function bf(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(t[i[o]]=n[i[o]]);return t}function o_(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const qS=o_,a_=new _l("auth","Firebase",o_());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gc=new Nf("@firebase/auth");function KS(n,...e){gc.logLevel<=Ce.WARN&&gc.warn(`Auth (${Ho}): ${n}`,...e)}function nc(n,...e){gc.logLevel<=Ce.ERROR&&gc.error(`Auth (${Ho}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $n(n,...e){throw Vf(n,...e)}function or(n,...e){return Vf(n,...e)}function l_(n,e,t){const i=Object.assign(Object.assign({},qS()),{[e]:t});return new _l("auth","Firebase",i).create(e,{appName:n.name})}function Lr(n){return l_(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Vf(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return a_.create(n,...e)}function ve(n,e,...t){if(!n)throw Vf(e,...t)}function Or(n){const e="INTERNAL ASSERTION FAILED: "+n;throw nc(e),new Error(e)}function jr(n,e){n||Or(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function of(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function GS(){return ey()==="http:"||ey()==="https:"}function ey(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QS(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(GS()||PI()||"connection"in navigator)?navigator.onLine:!0}function YS(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class El{constructor(e,t){this.shortDelay=e,this.longDelay=t,jr(t>e,"Short delay should be less than long delay!"),this.isMobile=TI()||kI()}get(){return QS()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mf(n,e){jr(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u_{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Or("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Or("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Or("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XS={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JS=new El(3e4,6e4);function Hr(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function fr(n,e,t,i,o={}){return c_(n,o,async()=>{let l={},h={};i&&(e==="GET"?h=i:l={body:JSON.stringify(i)});const d=wl(Object.assign({key:n.config.apiKey},h)).slice(1),p=await n._getAdditionalHeaders();p["Content-Type"]="application/json",n.languageCode&&(p["X-Firebase-Locale"]=n.languageCode);const y=Object.assign({method:e,headers:p},l);return SI()||(y.referrerPolicy="no-referrer"),u_.fetch()(h_(n,n.config.apiHost,t,d),y)})}async function c_(n,e,t){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},XS),e);try{const o=new eP(n),l=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const h=await l.json();if("needConfirmation"in h)throw Ku(n,"account-exists-with-different-credential",h);if(l.ok&&!("errorMessage"in h))return h;{const d=l.ok?h.errorMessage:h.error.message,[p,y]=d.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ku(n,"credential-already-in-use",h);if(p==="EMAIL_EXISTS")throw Ku(n,"email-already-in-use",h);if(p==="USER_DISABLED")throw Ku(n,"user-disabled",h);const w=i[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw l_(n,w,y);$n(n,w)}}catch(o){if(o instanceof Wr)throw o;$n(n,"network-request-failed",{message:String(o)})}}async function Tl(n,e,t,i,o={}){const l=await fr(n,e,t,i,o);return"mfaPendingCredential"in l&&$n(n,"multi-factor-auth-required",{_serverResponse:l}),l}function h_(n,e,t,i){const o=`${e}${t}?${i}`;return n.config.emulator?Mf(n.config,o):`${n.config.apiScheme}://${o}`}function ZS(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class eP{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(or(this.auth,"network-request-failed")),JS.get())})}}function Ku(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const o=or(n,e,i);return o.customData._tokenResponse=t,o}function ty(n){return n!==void 0&&n.enterprise!==void 0}class tP{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return ZS(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function nP(n,e){return fr(n,"GET","/v2/recaptchaConfig",Hr(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rP(n,e){return fr(n,"POST","/v1/accounts:delete",e)}async function d_(n,e){return fr(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function el(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function iP(n,e=!1){const t=Bt(n),i=await t.getIdToken(e),o=Lf(i);ve(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const l=typeof o.firebase=="object"?o.firebase:void 0,h=l==null?void 0:l.sign_in_provider;return{claims:o,token:i,authTime:el(Hd(o.auth_time)),issuedAtTime:el(Hd(o.iat)),expirationTime:el(Hd(o.exp)),signInProvider:h||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function Hd(n){return Number(n)*1e3}function Lf(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return nc("JWT malformed, contained fewer than 3 sections"),null;try{const o=Yv(t);return o?JSON.parse(o):(nc("Failed to decode base64 JWT payload"),null)}catch(o){return nc("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function ny(n){const e=Lf(n);return ve(e,"internal-error"),ve(typeof e.exp<"u","internal-error"),ve(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mo(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof Wr&&sP(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function sP({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oP{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class af{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=el(this.lastLoginAt),this.creationTime=el(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yc(n){var e;const t=n.auth,i=await n.getIdToken(),o=await Mo(n,d_(t,{idToken:i}));ve(o==null?void 0:o.users.length,t,"internal-error");const l=o.users[0];n._notifyReloadListener(l);const h=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?f_(l.providerUserInfo):[],d=lP(n.providerData,h),p=n.isAnonymous,y=!(n.email&&l.passwordHash)&&!(d!=null&&d.length),w=p?y:!1,I={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new af(l.createdAt,l.lastLoginAt),isAnonymous:w};Object.assign(n,I)}async function aP(n){const e=Bt(n);await yc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function lP(n,e){return[...n.filter(i=>!e.some(o=>o.providerId===i.providerId)),...e]}function f_(n){return n.map(e=>{var{providerId:t}=e,i=bf(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uP(n,e){const t=await c_(n,{},async()=>{const i=wl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:l}=n.config,h=h_(n,o,"/v1/token",`key=${l}`),d=await n._getAdditionalHeaders();return d["Content-Type"]="application/x-www-form-urlencoded",u_.fetch()(h,{method:"POST",headers:d,body:i})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function cP(n,e){return fr(n,"POST","/v2/accounts:revokeToken",Hr(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ve(e.idToken,"internal-error"),ve(typeof e.idToken<"u","internal-error"),ve(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):ny(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){ve(e.length!==0,"internal-error");const t=ny(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(ve(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:o,expiresIn:l}=await uP(e,t);this.updateTokensAndExpiration(i,o,Number(l))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:o,expirationTime:l}=t,h=new xo;return i&&(ve(typeof i=="string","internal-error",{appName:e}),h.refreshToken=i),o&&(ve(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),l&&(ve(typeof l=="number","internal-error",{appName:e}),h.expirationTime=l),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new xo,this.toJSON())}_performRefresh(){return Or("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yi(n,e){ve(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class br{constructor(e){var{uid:t,auth:i,stsTokenManager:o}=e,l=bf(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new oP(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new af(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const t=await Mo(this,this.stsTokenManager.getToken(this.auth,e));return ve(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return iP(this,e)}reload(){return aP(this)}_assign(e){this!==e&&(ve(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new br(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await yc(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Tn(this.auth.app))return Promise.reject(Lr(this.auth));const e=await this.getIdToken();return await Mo(this,rP(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,o,l,h,d,p,y,w;const I=(i=t.displayName)!==null&&i!==void 0?i:void 0,k=(o=t.email)!==null&&o!==void 0?o:void 0,D=(l=t.phoneNumber)!==null&&l!==void 0?l:void 0,M=(h=t.photoURL)!==null&&h!==void 0?h:void 0,B=(d=t.tenantId)!==null&&d!==void 0?d:void 0,V=(p=t._redirectEventId)!==null&&p!==void 0?p:void 0,q=(y=t.createdAt)!==null&&y!==void 0?y:void 0,Q=(w=t.lastLoginAt)!==null&&w!==void 0?w:void 0,{uid:K,emailVerified:ae,isAnonymous:Se,providerData:Ee,stsTokenManager:x}=t;ve(K&&x,e,"internal-error");const T=xo.fromJSON(this.name,x);ve(typeof K=="string",e,"internal-error"),yi(I,e.name),yi(k,e.name),ve(typeof ae=="boolean",e,"internal-error"),ve(typeof Se=="boolean",e,"internal-error"),yi(D,e.name),yi(M,e.name),yi(B,e.name),yi(V,e.name),yi(q,e.name),yi(Q,e.name);const S=new br({uid:K,auth:e,email:k,emailVerified:ae,displayName:I,isAnonymous:Se,photoURL:M,phoneNumber:D,tenantId:B,stsTokenManager:T,createdAt:q,lastLoginAt:Q});return Ee&&Array.isArray(Ee)&&(S.providerData=Ee.map(A=>Object.assign({},A))),V&&(S._redirectEventId=V),S}static async _fromIdTokenResponse(e,t,i=!1){const o=new xo;o.updateFromServerResponse(t);const l=new br({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:i});return await yc(l),l}static async _fromGetAccountInfoResponse(e,t,i){const o=t.users[0];ve(o.localId!==void 0,"internal-error");const l=o.providerUserInfo!==void 0?f_(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!(l!=null&&l.length),d=new xo;d.updateFromIdToken(i);const p=new br({uid:o.localId,auth:e,stsTokenManager:d,isAnonymous:h}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:l,metadata:new af(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(l!=null&&l.length)};return Object.assign(p,y),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ry=new Map;function Vr(n){jr(n instanceof Function,"Expected a class definition");let e=ry.get(n);return e?(jr(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,ry.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p_{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}p_.type="NONE";const iy=p_;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rc(n,e,t){return`firebase:${n}:${e}:${t}`}class No{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:o,name:l}=this.auth;this.fullUserKey=rc(this.userKey,o.apiKey,l),this.fullPersistenceKey=rc("persistence",o.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?br._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new No(Vr(iy),e,i);const o=(await Promise.all(t.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let l=o[0]||Vr(iy);const h=rc(i,e.config.apiKey,e.name);let d=null;for(const y of t)try{const w=await y._get(h);if(w){const I=br._fromJSON(e,w);y!==l&&(d=I),l=y;break}}catch{}const p=o.filter(y=>y._shouldAllowMigration);return!l._shouldAllowMigration||!p.length?new No(l,e,i):(l=p[0],d&&await l._set(h,d.toJSON()),await Promise.all(t.map(async y=>{if(y!==l)try{await y._remove(h)}catch{}})),new No(l,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sy(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(v_(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(m_(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(w_(e))return"Blackberry";if(E_(e))return"Webos";if(g_(e))return"Safari";if((e.includes("chrome/")||y_(e))&&!e.includes("edge/"))return"Chrome";if(__(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function m_(n=zt()){return/firefox\//i.test(n)}function g_(n=zt()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function y_(n=zt()){return/crios\//i.test(n)}function v_(n=zt()){return/iemobile/i.test(n)}function __(n=zt()){return/android/i.test(n)}function w_(n=zt()){return/blackberry/i.test(n)}function E_(n=zt()){return/webos/i.test(n)}function Ff(n=zt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function hP(n=zt()){var e;return Ff(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function dP(){return RI()&&document.documentMode===10}function T_(n=zt()){return Ff(n)||__(n)||E_(n)||w_(n)||/windows phone/i.test(n)||v_(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I_(n,e=[]){let t;switch(n){case"Browser":t=sy(zt());break;case"Worker":t=`${sy(zt())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Ho}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fP{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=l=>new Promise((h,d)=>{try{const p=e(l);h(p)}catch(p){d(p)}});i.onAbort=t,this.queue.push(i);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pP(n,e={}){return fr(n,"GET","/v2/passwordPolicy",Hr(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mP=6;class gP{constructor(e){var t,i,o,l;const h=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=h.minPasswordLength)!==null&&t!==void 0?t:mP,h.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=h.maxPasswordLength),h.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=h.containsLowercaseCharacter),h.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=h.containsUppercaseCharacter),h.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=h.containsNumericCharacter),h.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=h.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,o,l,h,d;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(t=p.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),p.isValid&&(p.isValid=(i=p.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(l=p.containsUppercaseLetter)!==null&&l!==void 0?l:!0),p.isValid&&(p.isValid=(h=p.containsNumericCharacter)!==null&&h!==void 0?h:!0),p.isValid&&(p.isValid=(d=p.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),p}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let o=0;o<e.length;o++)i=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,o,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yP{constructor(e,t,i,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new oy(this),this.idTokenSubscription=new oy(this),this.beforeStateQueue=new fP(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=a_,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Vr(t)),this._initializationPromise=this.queue(async()=>{var i,o;if(!this._deleted&&(this.persistenceManager=await No.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await d_(this,{idToken:e}),i=await br._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Tn(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let o=i,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,d=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(e);(!h||h===d)&&(p!=null&&p.user)&&(o=p.user,l=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(o)}catch(h){o=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return ve(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await yc(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=YS()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Tn(this.app))return Promise.reject(Lr(this));const t=e?Bt(e):null;return t&&ve(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&ve(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Tn(this.app)?Promise.reject(Lr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Tn(this.app)?Promise.reject(Lr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Vr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await pP(this),t=new gP(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new _l("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await cP(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Vr(e)||this._popupRedirectResolver;ve(t,this,"argument-error"),this.redirectPersistenceManager=await No.create(this,[Vr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,o){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let h=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(ve(d,this,"internal-error"),d.then(()=>{h||l(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,i,o);return()=>{h=!0,p()}}else{const p=e.addObserver(t);return()=>{h=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=I_(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(t["X-Firebase-Client"]=i);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;if(Tn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&KS(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Fi(n){return Bt(n)}class oy{constructor(e){this.auth=e,this.observer=null,this.addObserver=VI(t=>this.observer=t)}get next(){return ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $c={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function vP(n){$c=n}function S_(n){return $c.loadJS(n)}function _P(){return $c.recaptchaEnterpriseScript}function wP(){return $c.gapiScript}function EP(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class TP{constructor(){this.enterprise=new IP}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class IP{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const SP="recaptcha-enterprise",P_="NO_RECAPTCHA";class PP{constructor(e){this.type=SP,this.auth=Fi(e)}async verify(e="verify",t=!1){async function i(l){if(!t){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(h,d)=>{nP(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const y=new tP(p);return l.tenantId==null?l._agentRecaptchaConfig=y:l._tenantRecaptchaConfigs[l.tenantId]=y,h(y.siteKey)}}).catch(p=>{d(p)})})}function o(l,h,d){const p=window.grecaptcha;ty(p)?p.enterprise.ready(()=>{p.enterprise.execute(l,{action:e}).then(y=>{h(y)}).catch(()=>{h(P_)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new TP().execute("siteKey",{action:"verify"}):new Promise((l,h)=>{i(this.auth).then(d=>{if(!t&&ty(window.grecaptcha))o(d,l,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let p=_P();p.length!==0&&(p+=d),S_(p).then(()=>{o(d,l,h)}).catch(y=>{h(y)})}}).catch(d=>{h(d)})})}}async function ay(n,e,t,i=!1,o=!1){const l=new PP(n);let h;if(o)h=P_;else try{h=await l.verify(t)}catch{h=await l.verify(t,!0)}const d=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const p=d.phoneEnrollmentInfo.phoneNumber,y=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:y,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const p=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return i?Object.assign(d,{captchaResp:h}):Object.assign(d,{captchaResponse:h}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function vc(n,e,t,i,o){var l;if(!((l=n._getRecaptchaConfig())===null||l===void 0)&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const h=await ay(n,e,t,t==="getOobCode");return i(n,h)}else return i(n,e).catch(async h=>{if(h.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await ay(n,e,t,t==="getOobCode");return i(n,d)}else return Promise.reject(h)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kP(n,e){const t=Of(n,"auth");if(t.isInitialized()){const o=t.getImmediate(),l=t.getOptions();if(pc(l,e??{}))return o;$n(o,"already-initialized")}return t.initialize({options:e})}function RP(n,e){const t=(e==null?void 0:e.persistence)||[],i=(Array.isArray(t)?t:[t]).map(Vr);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function CP(n,e,t){const i=Fi(n);ve(i._canInitEmulator,i,"emulator-config-failed"),ve(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const o=!1,l=k_(e),{host:h,port:d}=AP(e),p=d===null?"":`:${d}`;i.config.emulator={url:`${l}//${h}${p}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:h,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:o})}),xP()}function k_(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function AP(n){const e=k_(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(i);if(o){const l=o[1];return{host:l,port:ly(i.substr(l.length+1))}}else{const[l,h]=i.split(":");return{host:l,port:ly(h)}}}function ly(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function xP(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uf{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Or("not implemented")}_getIdTokenResponse(e){return Or("not implemented")}_linkToIdToken(e,t){return Or("not implemented")}_getReauthenticationResolver(e){return Or("not implemented")}}async function NP(n,e){return fr(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DP(n,e){return Tl(n,"POST","/v1/accounts:signInWithPassword",Hr(n,e))}async function OP(n,e){return fr(n,"POST","/v1/accounts:sendOobCode",Hr(n,e))}async function bP(n,e){return OP(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VP(n,e){return Tl(n,"POST","/v1/accounts:signInWithEmailLink",Hr(n,e))}async function MP(n,e){return Tl(n,"POST","/v1/accounts:signInWithEmailLink",Hr(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class al extends Uf{constructor(e,t,i,o=null){super("password",i),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new al(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new al(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return vc(e,t,"signInWithPassword",DP);case"emailLink":return VP(e,{email:this._email,oobCode:this._password});default:$n(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return vc(e,i,"signUpPassword",NP);case"emailLink":return MP(e,{idToken:t,email:this._email,oobCode:this._password});default:$n(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Do(n,e){return Tl(n,"POST","/v1/accounts:signInWithIdp",Hr(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LP="http://localhost";class Es extends Uf{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Es(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):$n("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:o}=t,l=bf(t,["providerId","signInMethod"]);if(!i||!o)return null;const h=new Es(i,o);return h.idToken=l.idToken||void 0,h.accessToken=l.accessToken||void 0,h.secret=l.secret,h.nonce=l.nonce,h.pendingToken=l.pendingToken||null,h}_getIdTokenResponse(e){const t=this.buildRequest();return Do(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,Do(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Do(e,t)}buildRequest(){const e={requestUri:LP,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=wl(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FP(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function UP(n){const e=Qa(Ya(n)).link,t=e?Qa(Ya(e)).deep_link_id:null,i=Qa(Ya(n)).deep_link_id;return(i?Qa(Ya(i)).link:null)||i||t||e||n}class jf{constructor(e){var t,i,o,l,h,d;const p=Qa(Ya(e)),y=(t=p.apiKey)!==null&&t!==void 0?t:null,w=(i=p.oobCode)!==null&&i!==void 0?i:null,I=FP((o=p.mode)!==null&&o!==void 0?o:null);ve(y&&w&&I,"argument-error"),this.apiKey=y,this.operation=I,this.code=w,this.continueUrl=(l=p.continueUrl)!==null&&l!==void 0?l:null,this.languageCode=(h=p.languageCode)!==null&&h!==void 0?h:null,this.tenantId=(d=p.tenantId)!==null&&d!==void 0?d:null}static parseLink(e){const t=UP(e);try{return new jf(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo{constructor(){this.providerId=qo.PROVIDER_ID}static credential(e,t){return al._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const i=jf.parseLink(t);return ve(i,"argument-error"),al._fromEmailAndCode(e,i.code,i.tenantId)}}qo.PROVIDER_ID="password";qo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";qo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R_{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Il extends R_{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i extends Il{constructor(){super("facebook.com")}static credential(e){return Es._fromParams({providerId:_i.PROVIDER_ID,signInMethod:_i.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return _i.credentialFromTaggedObject(e)}static credentialFromError(e){return _i.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return _i.credential(e.oauthAccessToken)}catch{return null}}}_i.FACEBOOK_SIGN_IN_METHOD="facebook.com";_i.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wi extends Il{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Es._fromParams({providerId:wi.PROVIDER_ID,signInMethod:wi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return wi.credentialFromTaggedObject(e)}static credentialFromError(e){return wi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return wi.credential(t,i)}catch{return null}}}wi.GOOGLE_SIGN_IN_METHOD="google.com";wi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ei extends Il{constructor(){super("github.com")}static credential(e){return Es._fromParams({providerId:Ei.PROVIDER_ID,signInMethod:Ei.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ei.credentialFromTaggedObject(e)}static credentialFromError(e){return Ei.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ei.credential(e.oauthAccessToken)}catch{return null}}}Ei.GITHUB_SIGN_IN_METHOD="github.com";Ei.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti extends Il{constructor(){super("twitter.com")}static credential(e,t){return Es._fromParams({providerId:Ti.PROVIDER_ID,signInMethod:Ti.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Ti.credentialFromTaggedObject(e)}static credentialFromError(e){return Ti.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return Ti.credential(t,i)}catch{return null}}}Ti.TWITTER_SIGN_IN_METHOD="twitter.com";Ti.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jP(n,e){return Tl(n,"POST","/v1/accounts:signUp",Hr(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,o=!1){const l=await br._fromIdTokenResponse(e,i,o),h=uy(i);return new Ts({user:l,providerId:h,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const o=uy(i);return new Ts({user:e,providerId:o,_tokenResponse:i,operationType:t})}}function uy(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c extends Wr{constructor(e,t,i,o){var l;super(t.code,t.message),this.operationType=i,this.user=o,Object.setPrototypeOf(this,_c.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,o){return new _c(e,t,i,o)}}function C_(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?_c._fromErrorAndOperation(n,l,e,i):l})}async function zP(n,e,t=!1){const i=await Mo(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Ts._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BP(n,e,t=!1){const{auth:i}=n;if(Tn(i.app))return Promise.reject(Lr(i));const o="reauthenticate";try{const l=await Mo(n,C_(i,o,e,n),t);ve(l.idToken,i,"internal-error");const h=Lf(l.idToken);ve(h,i,"internal-error");const{sub:d}=h;return ve(n.uid===d,i,"user-mismatch"),Ts._forOperation(n,o,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&$n(i,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function A_(n,e,t=!1){if(Tn(n.app))return Promise.reject(Lr(n));const i="signIn",o=await C_(n,i,e),l=await Ts._fromIdTokenResponse(n,i,o);return t||await n._updateCurrentUser(l.user),l}async function $P(n,e){return A_(Fi(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x_(n){const e=Fi(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function WP(n,e,t){const i=Fi(n);await vc(i,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",bP)}async function HP(n,e,t){if(Tn(n.app))return Promise.reject(Lr(n));const i=Fi(n),h=await vc(i,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",jP).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&x_(n),p}),d=await Ts._fromIdTokenResponse(i,"signIn",h);return await i._updateCurrentUser(d.user),d}function qP(n,e,t){return Tn(n.app)?Promise.reject(Lr(n)):$P(Bt(n),qo.credential(e,t)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&x_(n),i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KP(n,e){return fr(n,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GP(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const i=Bt(n),l={idToken:await i.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},h=await Mo(i,KP(i.auth,l));i.displayName=h.displayName||null,i.photoURL=h.photoUrl||null;const d=i.providerData.find(({providerId:p})=>p==="password");d&&(d.displayName=i.displayName,d.photoURL=i.photoURL),await i._updateTokensIfNecessary(h)}function QP(n,e,t,i){return Bt(n).onIdTokenChanged(e,t,i)}function YP(n,e,t){return Bt(n).beforeAuthStateChanged(e,t)}function XP(n,e,t,i){return Bt(n).onAuthStateChanged(e,t,i)}function JP(n){return Bt(n).signOut()}const wc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N_{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(wc,"1"),this.storage.removeItem(wc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZP=1e3,ek=10;class D_ extends N_{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=T_(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),o=this.localCache[t];i!==o&&e(t,o,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((h,d,p)=>{this.notifyListeners(h,p)});return}const i=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(i);!t&&this.localCache[i]===h||this.notifyListeners(i,h)},l=this.storage.getItem(i);dP()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,ek):o()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},ZP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}D_.type="LOCAL";const tk=D_;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O_ extends N_{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}O_.type="SESSION";const b_=O_;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nk(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wc{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const i=new Wc(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:o,data:l}=t.data,h=this.handlersMap[o];if(!(h!=null&&h.size))return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:o});const d=Array.from(h).map(async y=>y(t.origin,l)),p=await nk(d);t.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Wc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zf(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rk{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let l,h;return new Promise((d,p)=>{const y=zf("",20);o.port1.start();const w=setTimeout(()=>{p(new Error("unsupported_event"))},i);h={messageChannel:o,onMessage(I){const k=I;if(k.data.eventId===y)switch(k.data.status){case"ack":clearTimeout(w),l=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(k.data.response);break;default:clearTimeout(w),clearTimeout(l),p(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:y,data:t},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ar(){return window}function ik(n){ar().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V_(){return typeof ar().WorkerGlobalScope<"u"&&typeof ar().importScripts=="function"}async function sk(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function ok(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function ak(){return V_()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M_="firebaseLocalStorageDb",lk=1,Ec="firebaseLocalStorage",L_="fbase_key";class Sl{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Hc(n,e){return n.transaction([Ec],e?"readwrite":"readonly").objectStore(Ec)}function uk(){const n=indexedDB.deleteDatabase(M_);return new Sl(n).toPromise()}function lf(){const n=indexedDB.open(M_,lk);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(Ec,{keyPath:L_})}catch(o){t(o)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(Ec)?e(i):(i.close(),await uk(),e(await lf()))})})}async function cy(n,e,t){const i=Hc(n,!0).put({[L_]:e,value:t});return new Sl(i).toPromise()}async function ck(n,e){const t=Hc(n,!1).get(e),i=await new Sl(t).toPromise();return i===void 0?null:i.value}function hy(n,e){const t=Hc(n,!0).delete(e);return new Sl(t).toPromise()}const hk=800,dk=3;class F_{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await lf(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>dk)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return V_()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Wc._getInstance(ak()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await sk(),!this.activeServiceWorker)return;this.sender=new rk(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((t=i[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||ok()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await lf();return await cy(e,wc,"1"),await hy(e,wc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>cy(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>ck(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>hy(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const l=Hc(o,!1).getAll();return new Sl(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:o,value:l}of e)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(l)&&(this.notifyListeners(o,l),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),hk)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}F_.type="LOCAL";const fk=F_;new El(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pk(n,e){return e?Vr(e):(ve(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bf extends Uf{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Do(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Do(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Do(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function mk(n){return A_(n.auth,new Bf(n),n.bypassAuthState)}function gk(n){const{auth:e,user:t}=n;return ve(t,e,"internal-error"),BP(t,new Bf(n),n.bypassAuthState)}async function yk(n){const{auth:e,user:t}=n;return ve(t,e,"internal-error"),zP(t,new Bf(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U_{constructor(e,t,i,o,l=!1){this.auth=e,this.resolver=i,this.user=o,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:o,tenantId:l,error:h,type:d}=e;if(h){this.reject(h);return}const p={auth:this.auth,requestUri:t,sessionId:i,tenantId:l||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(p))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return mk;case"linkViaPopup":case"linkViaRedirect":return yk;case"reauthViaPopup":case"reauthViaRedirect":return gk;default:$n(this.auth,"internal-error")}}resolve(e){jr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){jr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vk=new El(2e3,1e4);class Ao extends U_{constructor(e,t,i,o,l){super(e,t,o,l),this.provider=i,this.authWindow=null,this.pollId=null,Ao.currentPopupAction&&Ao.currentPopupAction.cancel(),Ao.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ve(e,this.auth,"internal-error"),e}async onExecution(){jr(this.filter.length===1,"Popup operations only handle one event");const e=zf();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(or(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(or(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ao.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if(!((i=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(or(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,vk.get())};e()}}Ao.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _k="pendingRedirect",ic=new Map;class wk extends U_{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=ic.get(this.auth._key());if(!e){try{const i=await Ek(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}ic.set(this.auth._key(),e)}return this.bypassAuthState||ic.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Ek(n,e){const t=Sk(e),i=Ik(n);if(!await i._isAvailable())return!1;const o=await i._get(t)==="true";return await i._remove(t),o}function Tk(n,e){ic.set(n._key(),e)}function Ik(n){return Vr(n._redirectPersistence)}function Sk(n){return rc(_k,n.config.apiKey,n.name)}async function Pk(n,e,t=!1){if(Tn(n.app))return Promise.reject(Lr(n));const i=Fi(n),o=pk(i,e),h=await new wk(i,o,t).execute();return h&&!t&&(delete h.user._redirectEventId,await i._persistUserIfCurrent(h.user),await i._setRedirectUser(null,e)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kk=10*60*1e3;class Rk{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Ck(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!j_(e)){const o=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError(or(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=kk&&this.cachedEventUids.clear(),this.cachedEventUids.has(dy(e))}saveEventToCache(e){this.cachedEventUids.add(dy(e)),this.lastProcessedEventTime=Date.now()}}function dy(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function j_({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Ck(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return j_(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ak(n,e={}){return fr(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xk=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Nk=/^https?/;async function Dk(n){if(n.config.emulator)return;const{authorizedDomains:e}=await Ak(n);for(const t of e)try{if(Ok(t))return}catch{}$n(n,"unauthorized-domain")}function Ok(n){const e=of(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const h=new URL(n);return h.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&h.hostname===i}if(!Nk.test(t))return!1;if(xk.test(n))return i===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bk=new El(3e4,6e4);function fy(){const n=ar().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function Vk(n){return new Promise((e,t)=>{var i,o,l;function h(){fy(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{fy(),t(or(n,"network-request-failed"))},timeout:bk.get()})}if(!((o=(i=ar().gapi)===null||i===void 0?void 0:i.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((l=ar().gapi)===null||l===void 0)&&l.load)h();else{const d=EP("iframefcb");return ar()[d]=()=>{gapi.load?h():t(or(n,"network-request-failed"))},S_(`${wP()}?onload=${d}`).catch(p=>t(p))}}).catch(e=>{throw sc=null,e})}let sc=null;function Mk(n){return sc=sc||Vk(n),sc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lk=new El(5e3,15e3),Fk="__/auth/iframe",Uk="emulator/auth/iframe",jk={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},zk=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Bk(n){const e=n.config;ve(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Mf(e,Uk):`https://${n.config.authDomain}/${Fk}`,i={apiKey:e.apiKey,appName:n.name,v:Ho},o=zk.get(n.config.apiHost);o&&(i.eid=o);const l=n._getFrameworks();return l.length&&(i.fw=l.join(",")),`${t}?${wl(i).slice(1)}`}async function $k(n){const e=await Mk(n),t=ar().gapi;return ve(t,n,"internal-error"),e.open({where:document.body,url:Bk(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:jk,dontclear:!0},i=>new Promise(async(o,l)=>{await i.restyle({setHideOnLeave:!1});const h=or(n,"network-request-failed"),d=ar().setTimeout(()=>{l(h)},Lk.get());function p(){ar().clearTimeout(d),o(i)}i.ping(p).then(p,()=>{l(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wk={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Hk=500,qk=600,Kk="_blank",Gk="http://localhost";class py{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Qk(n,e,t,i=Hk,o=qk){const l=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-i)/2,0).toString();let d="";const p=Object.assign(Object.assign({},Wk),{width:i.toString(),height:o.toString(),top:l,left:h}),y=zt().toLowerCase();t&&(d=y_(y)?Kk:t),m_(y)&&(e=e||Gk,p.scrollbars="yes");const w=Object.entries(p).reduce((k,[D,M])=>`${k}${D}=${M},`,"");if(hP(y)&&d!=="_self")return Yk(e||"",d),new py(null);const I=window.open(e||"",d,w);ve(I,n,"popup-blocked");try{I.focus()}catch{}return new py(I)}function Yk(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xk="__/auth/handler",Jk="emulator/auth/handler",Zk=encodeURIComponent("fac");async function my(n,e,t,i,o,l){ve(n.config.authDomain,n,"auth-domain-config-required"),ve(n.config.apiKey,n,"invalid-api-key");const h={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:Ho,eventId:o};if(e instanceof R_){e.setDefaultLanguage(n.languageCode),h.providerId=e.providerId||"",bI(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[w,I]of Object.entries({}))h[w]=I}if(e instanceof Il){const w=e.getScopes().filter(I=>I!=="");w.length>0&&(h.scopes=w.join(","))}n.tenantId&&(h.tid=n.tenantId);const d=h;for(const w of Object.keys(d))d[w]===void 0&&delete d[w];const p=await n._getAppCheckToken(),y=p?`#${Zk}=${encodeURIComponent(p)}`:"";return`${eR(n)}?${wl(d).slice(1)}${y}`}function eR({config:n}){return n.emulator?Mf(n,Jk):`https://${n.authDomain}/${Xk}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qd="webStorageSupport";class tR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=b_,this._completeRedirectFn=Pk,this._overrideRedirectResult=Tk}async _openPopup(e,t,i,o){var l;jr((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const h=await my(e,t,i,of(),o);return Qk(e,h,zf())}async _openRedirect(e,t,i,o){await this._originValidation(e);const l=await my(e,t,i,of(),o);return ik(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:l}=this.eventManagers[t];return o?Promise.resolve(o):(jr(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await $k(e),i=new Rk(e);return t.register("authEvent",o=>(ve(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:i.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(qd,{type:qd},o=>{var l;const h=(l=o==null?void 0:o[0])===null||l===void 0?void 0:l[qd];h!==void 0&&t(!!h),$n(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Dk(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return T_()||g_()||Ff()}}const nR=tR;var gy="@firebase/auth",yy="1.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rR{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iR(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function sR(n){Vo(new ws("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:h,authDomain:d}=i.options;ve(h&&!h.includes(":"),"invalid-api-key",{appName:i.name});const p={apiKey:h,authDomain:d,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:I_(n)},y=new yP(i,o,l,p);return RP(y,t),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),Vo(new ws("auth-internal",e=>{const t=Fi(e.getProvider("auth").getImmediate());return(i=>new rR(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ri(gy,yy,iR(n)),Ri(gy,yy,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oR=5*60,aR=Zv("authIdTokenMaxAge")||oR;let vy=null;const lR=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>aR)return;const o=t==null?void 0:t.token;vy!==o&&(vy=o,await fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function ll(n=r_()){const e=Of(n,"auth");if(e.isInitialized())return e.getImmediate();const t=kP(n,{popupRedirectResolver:nR,persistence:[fk,tk,b_]}),i=Zv("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const h=lR(l.toString());YP(t,h,()=>h(t.currentUser)),QP(t,d=>h(d))}}const o=Xv("auth");return o&&CP(t,`http://${o}`),t}function uR(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}vP({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=o=>{const l=or("internal-error");l.customData=o,t(l)},i.type="text/javascript",i.charset="UTF-8",uR().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});sR("Browser");function cR(){const[n,e]=W.useState(""),[t,i]=W.useState(""),[o,l]=W.useState(""),[h,d]=W.useState(!1),[p,y]=W.useState(""),[w,I]=W.useState(""),[k,D]=W.useState(""),M=jc(),B=async Q=>{if(Q.preventDefault(),n&&t){const K=ll();try{await qP(K,n,t),M("/web")}catch{l("Invalid email or password. Please try again.")}}else l("Please fill in both fields.")},V=()=>{d(!0)},q=async Q=>{Q.preventDefault();const K=ll();try{await WP(K,p),D("Password reset email sent! Please check your inbox."),I("")}catch{I("Error sending password reset email. Please try again."),D("")}};return H.jsxs("div",{className:"container",children:[H.jsxs("div",{className:"header",children:[H.jsx("h2",{children:"Login"}),H.jsx("div",{className:"underline"})]}),H.jsxs("form",{onSubmit:B,children:[H.jsxs("div",{className:"inputs",children:[H.jsx("div",{className:"input",children:H.jsx("input",{type:"text",placeholder:"Email",required:!0,value:n,onChange:Q=>e(Q.target.value)})}),H.jsx("div",{className:"input",children:H.jsx("input",{type:"password",placeholder:"Password",required:!0,value:t,onChange:Q=>i(Q.target.value)})})]}),o&&H.jsx("p",{className:"error-message",children:o}),H.jsxs("div",{className:"submit-container",children:[H.jsx("button",{type:"submit",className:"login-button",children:"Login"}),H.jsxs("div",{className:"register-link",children:["Don't have an account? ",H.jsx(Dr,{to:"/register",children:"Create Account"})]}),H.jsx("div",{className:"forgot-password",onClick:V,children:"Forgot Password?"})]})]}),h&&H.jsx("div",{className:"forgot-password-modal",children:H.jsxs("div",{className:"modal-content",children:[H.jsx("h3",{children:"Reset Your Password"}),H.jsxs("form",{onSubmit:q,children:[H.jsx("input",{type:"email",placeholder:"Enter your email",value:p,onChange:Q=>y(Q.target.value),required:!0}),H.jsx("button",{type:"submit",className:"reset-button",children:"Send Reset Email"})]}),w&&H.jsx("p",{className:"error-message",children:w}),k&&H.jsx("p",{className:"success-message",children:k}),H.jsx("button",{className:"close-modal",onClick:()=>d(!1),children:"Close"})]})})]})}var hR="firebase",dR="11.3.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ri(hR,dR,"app");var _y=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ci,z_;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(x,T){function S(){}S.prototype=T.prototype,x.D=T.prototype,x.prototype=new S,x.prototype.constructor=x,x.C=function(A,O,L){for(var R=Array(arguments.length-2),it=2;it<arguments.length;it++)R[it-2]=arguments[it];return T.prototype[O].apply(A,R)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(x,T,S){S||(S=0);var A=Array(16);if(typeof T=="string")for(var O=0;16>O;++O)A[O]=T.charCodeAt(S++)|T.charCodeAt(S++)<<8|T.charCodeAt(S++)<<16|T.charCodeAt(S++)<<24;else for(O=0;16>O;++O)A[O]=T[S++]|T[S++]<<8|T[S++]<<16|T[S++]<<24;T=x.g[0],S=x.g[1],O=x.g[2];var L=x.g[3],R=T+(L^S&(O^L))+A[0]+3614090360&4294967295;T=S+(R<<7&4294967295|R>>>25),R=L+(O^T&(S^O))+A[1]+3905402710&4294967295,L=T+(R<<12&4294967295|R>>>20),R=O+(S^L&(T^S))+A[2]+606105819&4294967295,O=L+(R<<17&4294967295|R>>>15),R=S+(T^O&(L^T))+A[3]+3250441966&4294967295,S=O+(R<<22&4294967295|R>>>10),R=T+(L^S&(O^L))+A[4]+4118548399&4294967295,T=S+(R<<7&4294967295|R>>>25),R=L+(O^T&(S^O))+A[5]+1200080426&4294967295,L=T+(R<<12&4294967295|R>>>20),R=O+(S^L&(T^S))+A[6]+2821735955&4294967295,O=L+(R<<17&4294967295|R>>>15),R=S+(T^O&(L^T))+A[7]+4249261313&4294967295,S=O+(R<<22&4294967295|R>>>10),R=T+(L^S&(O^L))+A[8]+1770035416&4294967295,T=S+(R<<7&4294967295|R>>>25),R=L+(O^T&(S^O))+A[9]+2336552879&4294967295,L=T+(R<<12&4294967295|R>>>20),R=O+(S^L&(T^S))+A[10]+4294925233&4294967295,O=L+(R<<17&4294967295|R>>>15),R=S+(T^O&(L^T))+A[11]+2304563134&4294967295,S=O+(R<<22&4294967295|R>>>10),R=T+(L^S&(O^L))+A[12]+1804603682&4294967295,T=S+(R<<7&4294967295|R>>>25),R=L+(O^T&(S^O))+A[13]+4254626195&4294967295,L=T+(R<<12&4294967295|R>>>20),R=O+(S^L&(T^S))+A[14]+2792965006&4294967295,O=L+(R<<17&4294967295|R>>>15),R=S+(T^O&(L^T))+A[15]+1236535329&4294967295,S=O+(R<<22&4294967295|R>>>10),R=T+(O^L&(S^O))+A[1]+4129170786&4294967295,T=S+(R<<5&4294967295|R>>>27),R=L+(S^O&(T^S))+A[6]+3225465664&4294967295,L=T+(R<<9&4294967295|R>>>23),R=O+(T^S&(L^T))+A[11]+643717713&4294967295,O=L+(R<<14&4294967295|R>>>18),R=S+(L^T&(O^L))+A[0]+3921069994&4294967295,S=O+(R<<20&4294967295|R>>>12),R=T+(O^L&(S^O))+A[5]+3593408605&4294967295,T=S+(R<<5&4294967295|R>>>27),R=L+(S^O&(T^S))+A[10]+38016083&4294967295,L=T+(R<<9&4294967295|R>>>23),R=O+(T^S&(L^T))+A[15]+3634488961&4294967295,O=L+(R<<14&4294967295|R>>>18),R=S+(L^T&(O^L))+A[4]+3889429448&4294967295,S=O+(R<<20&4294967295|R>>>12),R=T+(O^L&(S^O))+A[9]+568446438&4294967295,T=S+(R<<5&4294967295|R>>>27),R=L+(S^O&(T^S))+A[14]+3275163606&4294967295,L=T+(R<<9&4294967295|R>>>23),R=O+(T^S&(L^T))+A[3]+4107603335&4294967295,O=L+(R<<14&4294967295|R>>>18),R=S+(L^T&(O^L))+A[8]+1163531501&4294967295,S=O+(R<<20&4294967295|R>>>12),R=T+(O^L&(S^O))+A[13]+2850285829&4294967295,T=S+(R<<5&4294967295|R>>>27),R=L+(S^O&(T^S))+A[2]+4243563512&4294967295,L=T+(R<<9&4294967295|R>>>23),R=O+(T^S&(L^T))+A[7]+1735328473&4294967295,O=L+(R<<14&4294967295|R>>>18),R=S+(L^T&(O^L))+A[12]+2368359562&4294967295,S=O+(R<<20&4294967295|R>>>12),R=T+(S^O^L)+A[5]+4294588738&4294967295,T=S+(R<<4&4294967295|R>>>28),R=L+(T^S^O)+A[8]+2272392833&4294967295,L=T+(R<<11&4294967295|R>>>21),R=O+(L^T^S)+A[11]+1839030562&4294967295,O=L+(R<<16&4294967295|R>>>16),R=S+(O^L^T)+A[14]+4259657740&4294967295,S=O+(R<<23&4294967295|R>>>9),R=T+(S^O^L)+A[1]+2763975236&4294967295,T=S+(R<<4&4294967295|R>>>28),R=L+(T^S^O)+A[4]+1272893353&4294967295,L=T+(R<<11&4294967295|R>>>21),R=O+(L^T^S)+A[7]+4139469664&4294967295,O=L+(R<<16&4294967295|R>>>16),R=S+(O^L^T)+A[10]+3200236656&4294967295,S=O+(R<<23&4294967295|R>>>9),R=T+(S^O^L)+A[13]+681279174&4294967295,T=S+(R<<4&4294967295|R>>>28),R=L+(T^S^O)+A[0]+3936430074&4294967295,L=T+(R<<11&4294967295|R>>>21),R=O+(L^T^S)+A[3]+3572445317&4294967295,O=L+(R<<16&4294967295|R>>>16),R=S+(O^L^T)+A[6]+76029189&4294967295,S=O+(R<<23&4294967295|R>>>9),R=T+(S^O^L)+A[9]+3654602809&4294967295,T=S+(R<<4&4294967295|R>>>28),R=L+(T^S^O)+A[12]+3873151461&4294967295,L=T+(R<<11&4294967295|R>>>21),R=O+(L^T^S)+A[15]+530742520&4294967295,O=L+(R<<16&4294967295|R>>>16),R=S+(O^L^T)+A[2]+3299628645&4294967295,S=O+(R<<23&4294967295|R>>>9),R=T+(O^(S|~L))+A[0]+4096336452&4294967295,T=S+(R<<6&4294967295|R>>>26),R=L+(S^(T|~O))+A[7]+1126891415&4294967295,L=T+(R<<10&4294967295|R>>>22),R=O+(T^(L|~S))+A[14]+2878612391&4294967295,O=L+(R<<15&4294967295|R>>>17),R=S+(L^(O|~T))+A[5]+4237533241&4294967295,S=O+(R<<21&4294967295|R>>>11),R=T+(O^(S|~L))+A[12]+1700485571&4294967295,T=S+(R<<6&4294967295|R>>>26),R=L+(S^(T|~O))+A[3]+2399980690&4294967295,L=T+(R<<10&4294967295|R>>>22),R=O+(T^(L|~S))+A[10]+4293915773&4294967295,O=L+(R<<15&4294967295|R>>>17),R=S+(L^(O|~T))+A[1]+2240044497&4294967295,S=O+(R<<21&4294967295|R>>>11),R=T+(O^(S|~L))+A[8]+1873313359&4294967295,T=S+(R<<6&4294967295|R>>>26),R=L+(S^(T|~O))+A[15]+4264355552&4294967295,L=T+(R<<10&4294967295|R>>>22),R=O+(T^(L|~S))+A[6]+2734768916&4294967295,O=L+(R<<15&4294967295|R>>>17),R=S+(L^(O|~T))+A[13]+1309151649&4294967295,S=O+(R<<21&4294967295|R>>>11),R=T+(O^(S|~L))+A[4]+4149444226&4294967295,T=S+(R<<6&4294967295|R>>>26),R=L+(S^(T|~O))+A[11]+3174756917&4294967295,L=T+(R<<10&4294967295|R>>>22),R=O+(T^(L|~S))+A[2]+718787259&4294967295,O=L+(R<<15&4294967295|R>>>17),R=S+(L^(O|~T))+A[9]+3951481745&4294967295,x.g[0]=x.g[0]+T&4294967295,x.g[1]=x.g[1]+(O+(R<<21&4294967295|R>>>11))&4294967295,x.g[2]=x.g[2]+O&4294967295,x.g[3]=x.g[3]+L&4294967295}i.prototype.u=function(x,T){T===void 0&&(T=x.length);for(var S=T-this.blockSize,A=this.B,O=this.h,L=0;L<T;){if(O==0)for(;L<=S;)o(this,x,L),L+=this.blockSize;if(typeof x=="string"){for(;L<T;)if(A[O++]=x.charCodeAt(L++),O==this.blockSize){o(this,A),O=0;break}}else for(;L<T;)if(A[O++]=x[L++],O==this.blockSize){o(this,A),O=0;break}}this.h=O,this.o+=T},i.prototype.v=function(){var x=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);x[0]=128;for(var T=1;T<x.length-8;++T)x[T]=0;var S=8*this.o;for(T=x.length-8;T<x.length;++T)x[T]=S&255,S/=256;for(this.u(x),x=Array(16),T=S=0;4>T;++T)for(var A=0;32>A;A+=8)x[S++]=this.g[T]>>>A&255;return x};function l(x,T){var S=d;return Object.prototype.hasOwnProperty.call(S,x)?S[x]:S[x]=T(x)}function h(x,T){this.h=T;for(var S=[],A=!0,O=x.length-1;0<=O;O--){var L=x[O]|0;A&&L==T||(S[O]=L,A=!1)}this.g=S}var d={};function p(x){return-128<=x&&128>x?l(x,function(T){return new h([T|0],0>T?-1:0)}):new h([x|0],0>x?-1:0)}function y(x){if(isNaN(x)||!isFinite(x))return I;if(0>x)return V(y(-x));for(var T=[],S=1,A=0;x>=S;A++)T[A]=x/S|0,S*=4294967296;return new h(T,0)}function w(x,T){if(x.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(x.charAt(0)=="-")return V(w(x.substring(1),T));if(0<=x.indexOf("-"))throw Error('number format error: interior "-" character');for(var S=y(Math.pow(T,8)),A=I,O=0;O<x.length;O+=8){var L=Math.min(8,x.length-O),R=parseInt(x.substring(O,O+L),T);8>L?(L=y(Math.pow(T,L)),A=A.j(L).add(y(R))):(A=A.j(S),A=A.add(y(R)))}return A}var I=p(0),k=p(1),D=p(16777216);n=h.prototype,n.m=function(){if(B(this))return-V(this).m();for(var x=0,T=1,S=0;S<this.g.length;S++){var A=this.i(S);x+=(0<=A?A:4294967296+A)*T,T*=4294967296}return x},n.toString=function(x){if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(M(this))return"0";if(B(this))return"-"+V(this).toString(x);for(var T=y(Math.pow(x,6)),S=this,A="";;){var O=ae(S,T).g;S=q(S,O.j(T));var L=((0<S.g.length?S.g[0]:S.h)>>>0).toString(x);if(S=O,M(S))return L+A;for(;6>L.length;)L="0"+L;A=L+A}},n.i=function(x){return 0>x?0:x<this.g.length?this.g[x]:this.h};function M(x){if(x.h!=0)return!1;for(var T=0;T<x.g.length;T++)if(x.g[T]!=0)return!1;return!0}function B(x){return x.h==-1}n.l=function(x){return x=q(this,x),B(x)?-1:M(x)?0:1};function V(x){for(var T=x.g.length,S=[],A=0;A<T;A++)S[A]=~x.g[A];return new h(S,~x.h).add(k)}n.abs=function(){return B(this)?V(this):this},n.add=function(x){for(var T=Math.max(this.g.length,x.g.length),S=[],A=0,O=0;O<=T;O++){var L=A+(this.i(O)&65535)+(x.i(O)&65535),R=(L>>>16)+(this.i(O)>>>16)+(x.i(O)>>>16);A=R>>>16,L&=65535,R&=65535,S[O]=R<<16|L}return new h(S,S[S.length-1]&-2147483648?-1:0)};function q(x,T){return x.add(V(T))}n.j=function(x){if(M(this)||M(x))return I;if(B(this))return B(x)?V(this).j(V(x)):V(V(this).j(x));if(B(x))return V(this.j(V(x)));if(0>this.l(D)&&0>x.l(D))return y(this.m()*x.m());for(var T=this.g.length+x.g.length,S=[],A=0;A<2*T;A++)S[A]=0;for(A=0;A<this.g.length;A++)for(var O=0;O<x.g.length;O++){var L=this.i(A)>>>16,R=this.i(A)&65535,it=x.i(O)>>>16,Dt=x.i(O)&65535;S[2*A+2*O]+=R*Dt,Q(S,2*A+2*O),S[2*A+2*O+1]+=L*Dt,Q(S,2*A+2*O+1),S[2*A+2*O+1]+=R*it,Q(S,2*A+2*O+1),S[2*A+2*O+2]+=L*it,Q(S,2*A+2*O+2)}for(A=0;A<T;A++)S[A]=S[2*A+1]<<16|S[2*A];for(A=T;A<2*T;A++)S[A]=0;return new h(S,0)};function Q(x,T){for(;(x[T]&65535)!=x[T];)x[T+1]+=x[T]>>>16,x[T]&=65535,T++}function K(x,T){this.g=x,this.h=T}function ae(x,T){if(M(T))throw Error("division by zero");if(M(x))return new K(I,I);if(B(x))return T=ae(V(x),T),new K(V(T.g),V(T.h));if(B(T))return T=ae(x,V(T)),new K(V(T.g),T.h);if(30<x.g.length){if(B(x)||B(T))throw Error("slowDivide_ only works with positive integers.");for(var S=k,A=T;0>=A.l(x);)S=Se(S),A=Se(A);var O=Ee(S,1),L=Ee(A,1);for(A=Ee(A,2),S=Ee(S,2);!M(A);){var R=L.add(A);0>=R.l(x)&&(O=O.add(S),L=R),A=Ee(A,1),S=Ee(S,1)}return T=q(x,O.j(T)),new K(O,T)}for(O=I;0<=x.l(T);){for(S=Math.max(1,Math.floor(x.m()/T.m())),A=Math.ceil(Math.log(S)/Math.LN2),A=48>=A?1:Math.pow(2,A-48),L=y(S),R=L.j(T);B(R)||0<R.l(x);)S-=A,L=y(S),R=L.j(T);M(L)&&(L=k),O=O.add(L),x=q(x,R)}return new K(O,x)}n.A=function(x){return ae(this,x).h},n.and=function(x){for(var T=Math.max(this.g.length,x.g.length),S=[],A=0;A<T;A++)S[A]=this.i(A)&x.i(A);return new h(S,this.h&x.h)},n.or=function(x){for(var T=Math.max(this.g.length,x.g.length),S=[],A=0;A<T;A++)S[A]=this.i(A)|x.i(A);return new h(S,this.h|x.h)},n.xor=function(x){for(var T=Math.max(this.g.length,x.g.length),S=[],A=0;A<T;A++)S[A]=this.i(A)^x.i(A);return new h(S,this.h^x.h)};function Se(x){for(var T=x.g.length+1,S=[],A=0;A<T;A++)S[A]=x.i(A)<<1|x.i(A-1)>>>31;return new h(S,x.h)}function Ee(x,T){var S=T>>5;T%=32;for(var A=x.g.length-S,O=[],L=0;L<A;L++)O[L]=0<T?x.i(L+S)>>>T|x.i(L+S+1)<<32-T:x.i(L+S);return new h(O,x.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,z_=i,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=y,h.fromString=w,Ci=h}).apply(typeof _y<"u"?_y:typeof self<"u"?self:typeof window<"u"?window:{});var Gu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var B_,Xa,$_,oc,uf,W_,H_,q_;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,v){return u==Array.prototype||u==Object.prototype||(u[m]=v.value),u};function t(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Gu=="object"&&Gu];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var i=t(this);function o(u,m){if(m)e:{var v=i;u=u.split(".");for(var E=0;E<u.length-1;E++){var F=u[E];if(!(F in v))break e;v=v[F]}u=u[u.length-1],E=v[u],m=m(E),m!=E&&m!=null&&e(v,u,{configurable:!0,writable:!0,value:m})}}function l(u,m){u instanceof String&&(u+="");var v=0,E=!1,F={next:function(){if(!E&&v<u.length){var $=v++;return{value:m($,u[$]),done:!1}}return E=!0,{done:!0,value:void 0}}};return F[Symbol.iterator]=function(){return F},F}o("Array.prototype.values",function(u){return u||function(){return l(this,function(m,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},d=this||self;function p(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function y(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function w(u,m,v){return u.call.apply(u.bind,arguments)}function I(u,m,v){if(!u)throw Error();if(2<arguments.length){var E=Array.prototype.slice.call(arguments,2);return function(){var F=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(F,E),u.apply(m,F)}}return function(){return u.apply(m,arguments)}}function k(u,m,v){return k=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?w:I,k.apply(null,arguments)}function D(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var E=v.slice();return E.push.apply(E,arguments),u.apply(this,E)}}function M(u,m){function v(){}v.prototype=m.prototype,u.aa=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Qb=function(E,F,$){for(var ne=Array(arguments.length-2),je=2;je<arguments.length;je++)ne[je-2]=arguments[je];return m.prototype[F].apply(E,ne)}}function B(u){const m=u.length;if(0<m){const v=Array(m);for(let E=0;E<m;E++)v[E]=u[E];return v}return[]}function V(u,m){for(let v=1;v<arguments.length;v++){const E=arguments[v];if(p(E)){const F=u.length||0,$=E.length||0;u.length=F+$;for(let ne=0;ne<$;ne++)u[F+ne]=E[ne]}else u.push(E)}}class q{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function Q(u){return/^[\s\xa0]*$/.test(u)}function K(){var u=d.navigator;return u&&(u=u.userAgent)?u:""}function ae(u){return ae[" "](u),u}ae[" "]=function(){};var Se=K().indexOf("Gecko")!=-1&&!(K().toLowerCase().indexOf("webkit")!=-1&&K().indexOf("Edge")==-1)&&!(K().indexOf("Trident")!=-1||K().indexOf("MSIE")!=-1)&&K().indexOf("Edge")==-1;function Ee(u,m,v){for(const E in u)m.call(v,u[E],E,u)}function x(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function T(u){const m={};for(const v in u)m[v]=u[v];return m}const S="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function A(u,m){let v,E;for(let F=1;F<arguments.length;F++){E=arguments[F];for(v in E)u[v]=E[v];for(let $=0;$<S.length;$++)v=S[$],Object.prototype.hasOwnProperty.call(E,v)&&(u[v]=E[v])}}function O(u){var m=1;u=u.split(":");const v=[];for(;0<m&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function L(u){d.setTimeout(()=>{throw u},0)}function R(){var u=me;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class it{constructor(){this.h=this.g=null}add(m,v){const E=Dt.get();E.set(m,v),this.h?this.h.next=E:this.g=E,this.h=E}}var Dt=new q(()=>new Ot,u=>u.reset());class Ot{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Be,re=!1,me=new it,se=()=>{const u=d.Promise.resolve(void 0);Be=()=>{u.then(b)}};var b=()=>{for(var u;u=R();){try{u.h.call(u.g)}catch(v){L(v)}var m=Dt;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}re=!1};function Y(){this.s=this.s,this.C=this.C}Y.prototype.s=!1,Y.prototype.ma=function(){this.s||(this.s=!0,this.N())},Y.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function fe(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}fe.prototype.h=function(){this.defaultPrevented=!0};var Pe=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u}();function ke(u,m){if(fe.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var v=this.type=u.type,E=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(Se){e:{try{ae(m.nodeName);var F=!0;break e}catch{}F=!1}F||(m=null)}}else v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement);this.relatedTarget=m,E?(this.clientX=E.clientX!==void 0?E.clientX:E.pageX,this.clientY=E.clientY!==void 0?E.clientY:E.pageY,this.screenX=E.screenX||0,this.screenY=E.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:De[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&ke.aa.h.call(this)}}M(ke,fe);var De={2:"touch",3:"pen",4:"mouse"};ke.prototype.h=function(){ke.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Le="closure_listenable_"+(1e6*Math.random()|0),Fe=0;function We(u,m,v,E,F){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!E,this.ha=F,this.key=++Fe,this.da=this.fa=!1}function vt(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function pr(u){this.src=u,this.g={},this.h=0}pr.prototype.add=function(u,m,v,E,F){var $=u.toString();u=this.g[$],u||(u=this.g[$]=[],this.h++);var ne=qr(u,m,E,F);return-1<ne?(m=u[ne],v||(m.fa=!1)):(m=new We(m,this.src,$,!!E,F),m.fa=v,u.push(m)),m};function Ns(u,m){var v=m.type;if(v in u.g){var E=u.g[v],F=Array.prototype.indexOf.call(E,m,void 0),$;($=0<=F)&&Array.prototype.splice.call(E,F,1),$&&(vt(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function qr(u,m,v,E){for(var F=0;F<u.length;++F){var $=u[F];if(!$.da&&$.listener==m&&$.capture==!!v&&$.ha==E)return F}return-1}var Ui="closure_lm_"+(1e6*Math.random()|0),Ds={};function Jo(u,m,v,E,F){if(Array.isArray(m)){for(var $=0;$<m.length;$++)Jo(u,m[$],v,E,F);return null}return v=ta(v),u&&u[Le]?u.K(m,v,y(E)?!!E.capture:!1,F):Zo(u,m,v,!1,E,F)}function Zo(u,m,v,E,F,$){if(!m)throw Error("Invalid event type");var ne=y(F)?!!F.capture:!!F,je=bs(u);if(je||(u[Ui]=je=new pr(u)),v=je.add(m,v,E,ne,$),v.proxy)return v;if(E=xl(),v.proxy=E,E.src=u,E.listener=v,u.addEventListener)Pe||(F=ne),F===void 0&&(F=!1),u.addEventListener(m.toString(),E,F);else if(u.attachEvent)u.attachEvent(gr(m.toString()),E);else if(u.addListener&&u.removeListener)u.addListener(E);else throw Error("addEventListener and attachEvent are unavailable.");return v}function xl(){function u(v){return m.call(u.src,u.listener,v)}const m=ea;return u}function Os(u,m,v,E,F){if(Array.isArray(m))for(var $=0;$<m.length;$++)Os(u,m[$],v,E,F);else E=y(E)?!!E.capture:!!E,v=ta(v),u&&u[Le]?(u=u.i,m=String(m).toString(),m in u.g&&($=u.g[m],v=qr($,v,E,F),-1<v&&(vt($[v]),Array.prototype.splice.call($,v,1),$.length==0&&(delete u.g[m],u.h--)))):u&&(u=bs(u))&&(m=u.g[m.toString()],u=-1,m&&(u=qr(m,v,E,F)),(v=-1<u?m[u]:null)&&mr(v))}function mr(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Le])Ns(m.i,u);else{var v=u.type,E=u.proxy;m.removeEventListener?m.removeEventListener(v,E,u.capture):m.detachEvent?m.detachEvent(gr(v),E):m.addListener&&m.removeListener&&m.removeListener(E),(v=bs(m))?(Ns(v,u),v.h==0&&(v.src=null,m[Ui]=null)):vt(u)}}}function gr(u){return u in Ds?Ds[u]:Ds[u]="on"+u}function ea(u,m){if(u.da)u=!0;else{m=new ke(m,this);var v=u.listener,E=u.ha||u.src;u.fa&&mr(u),u=v.call(E,m)}return u}function bs(u){return u=u[Ui],u instanceof pr?u:null}var Vs="__closure_events_fn_"+(1e9*Math.random()>>>0);function ta(u){return typeof u=="function"?u:(u[Vs]||(u[Vs]=function(m){return u.handleEvent(m)}),u[Vs])}function dt(){Y.call(this),this.i=new pr(this),this.M=this,this.F=null}M(dt,Y),dt.prototype[Le]=!0,dt.prototype.removeEventListener=function(u,m,v,E){Os(this,u,m,v,E)};function ft(u,m){var v,E=u.F;if(E)for(v=[];E;E=E.F)v.push(E);if(u=u.M,E=m.type||m,typeof m=="string")m=new fe(m,u);else if(m instanceof fe)m.target=m.target||u;else{var F=m;m=new fe(E,u),A(m,F)}if(F=!0,v)for(var $=v.length-1;0<=$;$--){var ne=m.g=v[$];F=yr(ne,E,!0,m)&&F}if(ne=m.g=u,F=yr(ne,E,!0,m)&&F,F=yr(ne,E,!1,m)&&F,v)for($=0;$<v.length;$++)ne=m.g=v[$],F=yr(ne,E,!1,m)&&F}dt.prototype.N=function(){if(dt.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var v=u.g[m],E=0;E<v.length;E++)vt(v[E]);delete u.g[m],u.h--}}this.F=null},dt.prototype.K=function(u,m,v,E){return this.i.add(String(u),m,!1,v,E)},dt.prototype.L=function(u,m,v,E){return this.i.add(String(u),m,!0,v,E)};function yr(u,m,v,E){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var F=!0,$=0;$<m.length;++$){var ne=m[$];if(ne&&!ne.da&&ne.capture==v){var je=ne.listener,pt=ne.ha||ne.src;ne.fa&&Ns(u.i,ne),F=je.call(pt,E)!==!1&&F}}return F&&!E.defaultPrevented}function na(u,m,v){if(typeof u=="function")v&&(u=k(u,v));else if(u&&typeof u.handleEvent=="function")u=k(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:d.setTimeout(u,m||0)}function Kr(u){u.g=na(()=>{u.g=null,u.i&&(u.i=!1,Kr(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class ji extends Y{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Kr(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function zi(u){Y.call(this),this.h=u,this.g={}}M(zi,Y);var ra=[];function ia(u){Ee(u.g,function(m,v){this.g.hasOwnProperty(v)&&mr(m)},u),u.g={}}zi.prototype.N=function(){zi.aa.N.call(this),ia(this)},zi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var sa=d.JSON.stringify,oa=d.JSON.parse,aa=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Bi(){}Bi.prototype.h=null;function Ms(u){return u.h||(u.h=u.i())}function Ls(){}var dn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Hn(){fe.call(this,"d")}M(Hn,fe);function Fs(){fe.call(this,"c")}M(Fs,fe);var qn={},la=null;function $i(){return la=la||new dt}qn.La="serverreachability";function ua(u){fe.call(this,qn.La,u)}M(ua,fe);function vr(u){const m=$i();ft(m,new ua(m))}qn.STAT_EVENT="statevent";function ca(u,m){fe.call(this,qn.STAT_EVENT,u),this.stat=m}M(ca,fe);function st(u){const m=$i();ft(m,new ca(m,u))}qn.Ma="timingevent";function Us(u,m){fe.call(this,qn.Ma,u),this.size=m}M(Us,fe);function kn(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Wi(){this.g=!0}Wi.prototype.xa=function(){this.g=!1};function Hi(u,m,v,E,F,$){u.info(function(){if(u.g)if($)for(var ne="",je=$.split("&"),pt=0;pt<je.length;pt++){var Oe=je[pt].split("=");if(1<Oe.length){var _t=Oe[0];Oe=Oe[1];var lt=_t.split("_");ne=2<=lt.length&&lt[1]=="type"?ne+(_t+"="+Oe+"&"):ne+(_t+"=redacted&")}}else ne=null;else ne=$;return"XMLHTTP REQ ("+E+") [attempt "+F+"]: "+m+`
`+v+`
`+ne})}function js(u,m,v,E,F,$,ne){u.info(function(){return"XMLHTTP RESP ("+E+") [ attempt "+F+"]: "+m+`
`+v+`
`+$+" "+ne})}function Rn(u,m,v,E){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+ah(u,v)+(E?" "+E:"")})}function ha(u,m){u.info(function(){return"TIMEOUT: "+m})}Wi.prototype.info=function(){};function ah(u,m){if(!u.g)return m;if(!m)return null;try{var v=JSON.parse(m);if(v){for(u=0;u<v.length;u++)if(Array.isArray(v[u])){var E=v[u];if(!(2>E.length)){var F=E[1];if(Array.isArray(F)&&!(1>F.length)){var $=F[0];if($!="noop"&&$!="stop"&&$!="close")for(var ne=1;ne<F.length;ne++)F[ne]=""}}}}return sa(v)}catch{return m}}var zs={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Nl={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Cn;function qi(){}M(qi,Bi),qi.prototype.g=function(){return new XMLHttpRequest},qi.prototype.i=function(){return{}},Cn=new qi;function An(u,m,v,E){this.j=u,this.i=m,this.l=v,this.R=E||1,this.U=new zi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Dl}function Dl(){this.i=null,this.g="",this.h=!1}var da={},Bs={};function $s(u,m,v){u.L=1,u.v=Jr(on(m)),u.m=v,u.P=!0,fa(u,null)}function fa(u,m){u.F=Date.now(),He(u),u.A=on(u.v);var v=u.A,E=u.R;Array.isArray(E)||(E=[String(E)]),ei(v.i,"t",E),u.C=0,v=u.j.J,u.h=new Dl,u.g=Yl(u.j,v?m:null,!u.m),0<u.O&&(u.M=new ji(k(u.Y,u,u.g),u.O)),m=u.U,v=u.g,E=u.ca;var F="readystatechange";Array.isArray(F)||(F&&(ra[0]=F.toString()),F=ra);for(var $=0;$<F.length;$++){var ne=Jo(v,F[$],E||m.handleEvent,!1,m.h||m);if(!ne)break;m.g[ne.key]=ne}m=u.H?T(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),vr(),Hi(u.i,u.u,u.A,u.l,u.R,u.m)}An.prototype.ca=function(u){u=u.target;const m=this.M;m&&Qt(u)==3?m.j():this.Y(u)},An.prototype.Y=function(u){try{if(u==this.g)e:{const lt=Qt(this.g);var m=this.g.Ba();const mn=this.g.Z();if(!(3>lt)&&(lt!=3||this.g&&(this.h.h||this.g.oa()||_a(this.g)))){this.J||lt!=4||m==7||(m==8||0>=mn?vr(3):vr(2)),Ki(this);var v=this.g.Z();this.X=v;t:if(Ol(this)){var E=_a(this.g);u="";var F=E.length,$=Qt(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){fn(this),Gr(this);var ne="";break t}this.h.i=new d.TextDecoder}for(m=0;m<F;m++)this.h.h=!0,u+=this.h.i.decode(E[m],{stream:!($&&m==F-1)});E.length=0,this.h.g+=u,this.C=0,ne=this.h.g}else ne=this.g.oa();if(this.o=v==200,js(this.i,this.u,this.A,this.l,this.R,lt,v),this.o){if(this.T&&!this.K){t:{if(this.g){var je,pt=this.g;if((je=pt.g?pt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Q(je)){var Oe=je;break t}}Oe=null}if(v=Oe)Rn(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,pa(this,v);else{this.o=!1,this.s=3,st(12),fn(this),Gr(this);break e}}if(this.P){v=!0;let ln;for(;!this.J&&this.C<ne.length;)if(ln=lh(this,ne),ln==Bs){lt==4&&(this.s=4,st(14),v=!1),Rn(this.i,this.l,null,"[Incomplete Response]");break}else if(ln==da){this.s=4,st(15),Rn(this.i,this.l,ne,"[Invalid Chunk]"),v=!1;break}else Rn(this.i,this.l,ln,null),pa(this,ln);if(Ol(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),lt!=4||ne.length!=0||this.h.h||(this.s=1,st(16),v=!1),this.o=this.o&&v,!v)Rn(this.i,this.l,ne,"[Invalid Chunked Response]"),fn(this),Gr(this);else if(0<ne.length&&!this.W){this.W=!0;var _t=this.j;_t.g==this&&_t.ba&&!_t.M&&(_t.j.info("Great, no buffering proxy detected. Bytes received: "+ne.length),Ea(_t),_t.M=!0,st(11))}}else Rn(this.i,this.l,ne,null),pa(this,ne);lt==4&&fn(this),this.o&&!this.J&&(lt==4?eo(this.j,this):(this.o=!1,He(this)))}else Qs(this.g),v==400&&0<ne.indexOf("Unknown SID")?(this.s=3,st(12)):(this.s=0,st(13)),fn(this),Gr(this)}}}catch{}finally{}};function Ol(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function lh(u,m){var v=u.C,E=m.indexOf(`
`,v);return E==-1?Bs:(v=Number(m.substring(v,E)),isNaN(v)?da:(E+=1,E+v>m.length?Bs:(m=m.slice(E,E+v),u.C=E+v,m)))}An.prototype.cancel=function(){this.J=!0,fn(this)};function He(u){u.S=Date.now()+u.I,bl(u,u.I)}function bl(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=kn(k(u.ba,u),m)}function Ki(u){u.B&&(d.clearTimeout(u.B),u.B=null)}An.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(ha(this.i,this.A),this.L!=2&&(vr(),st(17)),fn(this),this.s=2,Gr(this)):bl(this,this.S-u)};function Gr(u){u.j.G==0||u.J||eo(u.j,u)}function fn(u){Ki(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,ia(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function pa(u,m){try{var v=u.j;if(v.G!=0&&(v.g==u||$t(v.h,u))){if(!u.K&&$t(v.h,u)&&v.G==3){try{var E=v.Da.g.parse(m)}catch{E=null}if(Array.isArray(E)&&E.length==3){var F=E;if(F[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<u.F)Zs(v),bn(v);else break e;Js(v),st(18)}}else v.za=F[1],0<v.za-v.T&&37500>F[2]&&v.F&&v.v==0&&!v.C&&(v.C=kn(k(v.Za,v),6e3));if(1>=Ml(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else Ir(v,11)}else if((u.K||v.g==u)&&Zs(v),!Q(m))for(F=v.Da.g.parse(m),m=0;m<F.length;m++){let Oe=F[m];if(v.T=Oe[0],Oe=Oe[1],v.G==2)if(Oe[0]=="c"){v.K=Oe[1],v.ia=Oe[2];const _t=Oe[3];_t!=null&&(v.la=_t,v.j.info("VER="+v.la));const lt=Oe[4];lt!=null&&(v.Aa=lt,v.j.info("SVER="+v.Aa));const mn=Oe[5];mn!=null&&typeof mn=="number"&&0<mn&&(E=1.5*mn,v.L=E,v.j.info("backChannelRequestTimeoutMs_="+E)),E=v;const ln=u.g;if(ln){const es=ln.g?ln.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(es){var $=E.h;$.g||es.indexOf("spdy")==-1&&es.indexOf("quic")==-1&&es.indexOf("h2")==-1||($.j=$.l,$.g=new Set,$.h&&(ma($,$.h),$.h=null))}if(E.D){const no=ln.g?ln.g.getResponseHeader("X-HTTP-Session-Id"):null;no&&(E.ya=no,$e(E.I,E.D,no))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-u.F,v.j.info("Handshake RTT: "+v.R+"ms")),E=v;var ne=u;if(E.qa=Ql(E,E.J?E.ia:null,E.W),ne.K){Ll(E.h,ne);var je=ne,pt=E.L;pt&&(je.I=pt),je.B&&(Ki(je),He(je)),E.g=ne}else Zi(E);0<v.i.length&&Yn(v)}else Oe[0]!="stop"&&Oe[0]!="close"||Ir(v,7);else v.G==3&&(Oe[0]=="stop"||Oe[0]=="close"?Oe[0]=="stop"?Ir(v,7):kt(v):Oe[0]!="noop"&&v.l&&v.l.ta(Oe),v.v=0)}}vr(4)}catch{}}var Vl=class{constructor(u,m){this.g=u,this.map=m}};function Gi(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function sn(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Ml(u){return u.h?1:u.g?u.g.size:0}function $t(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function ma(u,m){u.g?u.g.add(m):u.h=m}function Ll(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Gi.prototype.cancel=function(){if(this.i=Fl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Fl(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.D);return m}return B(u.i)}function Ws(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(p(u)){for(var m=[],v=u.length,E=0;E<v;E++)m.push(u[E]);return m}m=[],v=0;for(E in u)m[v++]=u[E];return m}function Hs(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(p(u)||typeof u=="string"){var m=[];u=u.length;for(var v=0;v<u;v++)m.push(v);return m}m=[],v=0;for(const E in u)m[v++]=E;return m}}}function Qr(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(p(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var v=Hs(u),E=Ws(u),F=E.length,$=0;$<F;$++)m.call(void 0,E[$],v&&v[$],u)}var Qi=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function uh(u,m){if(u){u=u.split("&");for(var v=0;v<u.length;v++){var E=u[v].indexOf("="),F=null;if(0<=E){var $=u[v].substring(0,E);F=u[v].substring(E+1)}else $=u[v];m($,F?decodeURIComponent(F.replace(/\+/g," ")):"")}}}function _r(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof _r){this.h=u.h,Yi(this,u.j),this.o=u.o,this.g=u.g,Yr(this,u.s),this.l=u.l;var m=u.i,v=new Kn;v.i=m.i,m.g&&(v.g=new Map(m.g),v.h=m.h),Xr(this,v),this.m=u.m}else u&&(m=String(u).match(Qi))?(this.h=!1,Yi(this,m[1]||"",!0),this.o=xe(m[2]||""),this.g=xe(m[3]||"",!0),Yr(this,m[4]),this.l=xe(m[5]||"",!0),Xr(this,m[6]||"",!0),this.m=xe(m[7]||"")):(this.h=!1,this.i=new Kn(null,this.h))}_r.prototype.toString=function(){var u=[],m=this.j;m&&u.push(Zr(m,qs,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Zr(m,qs,!0),"@"),u.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&u.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(Zr(v,v.charAt(0)=="/"?zl:jl,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",Zr(v,ga)),u.join("")};function on(u){return new _r(u)}function Yi(u,m,v){u.j=v?xe(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Yr(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function Xr(u,m,v){m instanceof Kn?(u.i=m,Gn(u.i,u.h)):(v||(m=Zr(m,Bl)),u.i=new Kn(m,u.h))}function $e(u,m,v){u.i.set(m,v)}function Jr(u){return $e(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function xe(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Zr(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,Ul),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Ul(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var qs=/[#\/\?@]/g,jl=/[#\?:]/g,zl=/[#\?]/g,Bl=/[#\?@]/g,ga=/#/g;function Kn(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function Pt(u){u.g||(u.g=new Map,u.h=0,u.i&&uh(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}n=Kn.prototype,n.add=function(u,m){Pt(this),this.i=null,u=pn(this,u);var v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function xn(u,m){Pt(u),m=pn(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Nn(u,m){return Pt(u),m=pn(u,m),u.g.has(m)}n.forEach=function(u,m){Pt(this),this.g.forEach(function(v,E){v.forEach(function(F){u.call(m,F,E,this)},this)},this)},n.na=function(){Pt(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),v=[];for(let E=0;E<m.length;E++){const F=u[E];for(let $=0;$<F.length;$++)v.push(m[E])}return v},n.V=function(u){Pt(this);let m=[];if(typeof u=="string")Nn(this,u)&&(m=m.concat(this.g.get(pn(this,u))));else{u=Array.from(this.g.values());for(let v=0;v<u.length;v++)m=m.concat(u[v])}return m},n.set=function(u,m){return Pt(this),this.i=null,u=pn(this,u),Nn(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},n.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function ei(u,m,v){xn(u,m),0<v.length&&(u.i=null,u.g.set(pn(u,m),B(v)),u.h+=v.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var v=0;v<m.length;v++){var E=m[v];const $=encodeURIComponent(String(E)),ne=this.V(E);for(E=0;E<ne.length;E++){var F=$;ne[E]!==""&&(F+="="+encodeURIComponent(String(ne[E]))),u.push(F)}}return this.i=u.join("&")};function pn(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Gn(u,m){m&&!u.j&&(Pt(u),u.i=null,u.g.forEach(function(v,E){var F=E.toLowerCase();E!=F&&(xn(this,E),ei(this,F,v))},u)),u.j=m}function ch(u,m){const v=new Wi;if(d.Image){const E=new Image;E.onload=D(Gt,v,"TestLoadImage: loaded",!0,m,E),E.onerror=D(Gt,v,"TestLoadImage: error",!1,m,E),E.onabort=D(Gt,v,"TestLoadImage: abort",!1,m,E),E.ontimeout=D(Gt,v,"TestLoadImage: timeout",!1,m,E),d.setTimeout(function(){E.ontimeout&&E.ontimeout()},1e4),E.src=u}else m(!1)}function $l(u,m){const v=new Wi,E=new AbortController,F=setTimeout(()=>{E.abort(),Gt(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:E.signal}).then($=>{clearTimeout(F),$.ok?Gt(v,"TestPingServer: ok",!0,m):Gt(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(F),Gt(v,"TestPingServer: error",!1,m)})}function Gt(u,m,v,E,F){try{F&&(F.onload=null,F.onerror=null,F.onabort=null,F.ontimeout=null),E(v)}catch{}}function hh(){this.g=new aa}function Wl(u,m,v){const E=v||"";try{Qr(u,function(F,$){let ne=F;y(F)&&(ne=sa(F)),m.push(E+$+"="+encodeURIComponent(ne))})}catch(F){throw m.push(E+"type="+encodeURIComponent("_badmap")),F}}function wr(u){this.l=u.Ub||null,this.j=u.eb||!1}M(wr,Bi),wr.prototype.g=function(){return new Xi(this.l,this.j)},wr.prototype.i=function(u){return function(){return u}}({});function Xi(u,m){dt.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}M(Xi,dt),n=Xi.prototype,n.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,On(this)},n.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||d).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Dn(this)),this.readyState=0},n.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,On(this)),this.g&&(this.readyState=3,On(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Hl(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Hl(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}n.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Dn(this):On(this),this.readyState==3&&Hl(this)}},n.Ra=function(u){this.g&&(this.response=this.responseText=u,Dn(this))},n.Qa=function(u){this.g&&(this.response=u,Dn(this))},n.ga=function(){this.g&&Dn(this)};function Dn(u){u.readyState=4,u.l=null,u.j=null,u.v=null,On(u)}n.setRequestHeader=function(u,m){this.u.append(u,m)},n.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function On(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Xi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Er(u){let m="";return Ee(u,function(v,E){m+=E,m+=":",m+=v,m+=`\r
`}),m}function ti(u,m,v){e:{for(E in v){var E=!1;break e}E=!0}E||(v=Er(v),typeof u=="string"?v!=null&&encodeURIComponent(String(v)):$e(u,m,v))}function Ye(u){dt.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}M(Ye,dt);var dh=/^https?$/i,ya=["POST","PUT"];n=Ye.prototype,n.Ha=function(u){this.J=u},n.ea=function(u,m,v,E){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Cn.g(),this.v=this.o?Ms(this.o):Ms(Cn),this.g.onreadystatechange=k(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch($){Ji(this,$);return}if(u=v||"",v=new Map(this.headers),E)if(Object.getPrototypeOf(E)===Object.prototype)for(var F in E)v.set(F,E[F]);else if(typeof E.keys=="function"&&typeof E.get=="function")for(const $ of E.keys())v.set($,E.get($));else throw Error("Unknown input type for opt_headers: "+String(E));E=Array.from(v.keys()).find($=>$.toLowerCase()=="content-type"),F=d.FormData&&u instanceof d.FormData,!(0<=Array.prototype.indexOf.call(ya,m,void 0))||E||F||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[$,ne]of v)this.g.setRequestHeader($,ne);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Gs(this),this.u=!0,this.g.send(u),this.u=!1}catch($){Ji(this,$)}};function Ji(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,Ks(u),an(u)}function Ks(u){u.A||(u.A=!0,ft(u,"complete"),ft(u,"error"))}n.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,ft(this,"complete"),ft(this,"abort"),an(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),an(this,!0)),Ye.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?va(this):this.bb())},n.bb=function(){va(this)};function va(u){if(u.h&&typeof h<"u"&&(!u.v[1]||Qt(u)!=4||u.Z()!=2)){if(u.u&&Qt(u)==4)na(u.Ea,0,u);else if(ft(u,"readystatechange"),Qt(u)==4){u.h=!1;try{const ne=u.Z();e:switch(ne){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var v;if(!(v=m)){var E;if(E=ne===0){var F=String(u.D).match(Qi)[1]||null;!F&&d.self&&d.self.location&&(F=d.self.location.protocol.slice(0,-1)),E=!dh.test(F?F.toLowerCase():"")}v=E}if(v)ft(u,"complete"),ft(u,"success");else{u.m=6;try{var $=2<Qt(u)?u.g.statusText:""}catch{$=""}u.l=$+" ["+u.Z()+"]",Ks(u)}}finally{an(u)}}}}function an(u,m){if(u.g){Gs(u);const v=u.g,E=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||ft(u,"ready");try{v.onreadystatechange=E}catch{}}}function Gs(u){u.I&&(d.clearTimeout(u.I),u.I=null)}n.isActive=function(){return!!this.g};function Qt(u){return u.g?u.g.readyState:0}n.Z=function(){try{return 2<Qt(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),oa(m)}};function _a(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Qs(u){const m={};u=(u.g&&2<=Qt(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let E=0;E<u.length;E++){if(Q(u[E]))continue;var v=O(u[E]);const F=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const $=m[F]||[];m[F]=$,$.push(v)}x(m,function(E){return E.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Qn(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function wa(u){this.Aa=0,this.i=[],this.j=new Wi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Qn("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Qn("baseRetryDelayMs",5e3,u),this.cb=Qn("retryDelaySeedMs",1e4,u),this.Wa=Qn("forwardChannelMaxRetries",2,u),this.wa=Qn("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Gi(u&&u.concurrentRequestLimit),this.Da=new hh,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=wa.prototype,n.la=8,n.G=1,n.connect=function(u,m,v,E){st(0),this.W=u,this.H=m||{},v&&E!==void 0&&(this.H.OSID=v,this.H.OAID=E),this.F=this.X,this.I=Ql(this,null,this.W),Yn(this)};function kt(u){if(Ys(u),u.G==3){var m=u.U++,v=on(u.I);if($e(v,"SID",u.K),$e(v,"RID",m),$e(v,"TYPE","terminate"),Tr(u,v),m=new An(u,u.j,m),m.L=2,m.v=Jr(on(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.v.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.v,v=!0),v||(m.g=Yl(m.j,null),m.g.ea(m.v)),m.F=Date.now(),He(m)}Gl(u)}function bn(u){u.g&&(Ea(u),u.g.cancel(),u.g=null)}function Ys(u){bn(u),u.u&&(d.clearTimeout(u.u),u.u=null),Zs(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&d.clearTimeout(u.s),u.s=null)}function Yn(u){if(!sn(u.h)&&!u.s){u.s=!0;var m=u.Ga;Be||se(),re||(Be(),re=!0),me.add(m,u),u.B=0}}function fh(u,m){return Ml(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=kn(k(u.Ga,u,m),Kl(u,u.B)),u.B++,!0)}n.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const F=new An(this,this.j,u);let $=this.o;if(this.S&&($?($=T($),A($,this.S)):$=this.S),this.m!==null||this.O||(F.H=$,$=null),this.P)e:{for(var m=0,v=0;v<this.i.length;v++){t:{var E=this.i[v];if("__data__"in E.map&&(E=E.map.__data__,typeof E=="string")){E=E.length;break t}E=void 0}if(E===void 0)break;if(m+=E,4096<m){m=v;break e}if(m===4096||v===this.i.length-1){m=v+1;break e}}m=1e3}else m=1e3;m=ni(this,F,m),v=on(this.I),$e(v,"RID",u),$e(v,"CVER",22),this.D&&$e(v,"X-HTTP-Session-Id",this.D),Tr(this,v),$&&(this.O?m="headers="+encodeURIComponent(String(Er($)))+"&"+m:this.m&&ti(v,this.m,$)),ma(this.h,F),this.Ua&&$e(v,"TYPE","init"),this.P?($e(v,"$req",m),$e(v,"SID","null"),F.T=!0,$s(F,v,null)):$s(F,v,m),this.G=2}}else this.G==3&&(u?Xs(this,u):this.i.length==0||sn(this.h)||Xs(this))};function Xs(u,m){var v;m?v=m.l:v=u.U++;const E=on(u.I);$e(E,"SID",u.K),$e(E,"RID",v),$e(E,"AID",u.T),Tr(u,E),u.m&&u.o&&ti(E,u.m,u.o),v=new An(u,u.j,v,u.B+1),u.m===null&&(v.H=u.o),m&&(u.i=m.D.concat(u.i)),m=ni(u,v,1e3),v.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),ma(u.h,v),$s(v,E,m)}function Tr(u,m){u.H&&Ee(u.H,function(v,E){$e(m,E,v)}),u.l&&Qr({},function(v,E){$e(m,E,v)})}function ni(u,m,v){v=Math.min(u.i.length,v);var E=u.l?k(u.l.Na,u.l,u):null;e:{var F=u.i;let $=-1;for(;;){const ne=["count="+v];$==-1?0<v?($=F[0].g,ne.push("ofs="+$)):$=0:ne.push("ofs="+$);let je=!0;for(let pt=0;pt<v;pt++){let Oe=F[pt].g;const _t=F[pt].map;if(Oe-=$,0>Oe)$=Math.max(0,F[pt].g-100),je=!1;else try{Wl(_t,ne,"req"+Oe+"_")}catch{E&&E(_t)}}if(je){E=ne.join("&");break e}}}return u=u.i.splice(0,v),m.D=u,E}function Zi(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;Be||se(),re||(Be(),re=!0),me.add(m,u),u.v=0}}function Js(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=kn(k(u.Fa,u),Kl(u,u.v)),u.v++,!0)}n.Fa=function(){if(this.u=null,ql(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=kn(k(this.ab,this),u)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,st(10),bn(this),ql(this))};function Ea(u){u.A!=null&&(d.clearTimeout(u.A),u.A=null)}function ql(u){u.g=new An(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=on(u.qa);$e(m,"RID","rpc"),$e(m,"SID",u.K),$e(m,"AID",u.T),$e(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&$e(m,"TO",u.ja),$e(m,"TYPE","xmlhttp"),Tr(u,m),u.m&&u.o&&ti(m,u.m,u.o),u.L&&(u.g.I=u.L);var v=u.g;u=u.ia,v.L=1,v.v=Jr(on(m)),v.m=null,v.P=!0,fa(v,u)}n.Za=function(){this.C!=null&&(this.C=null,bn(this),Js(this),st(19))};function Zs(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function eo(u,m){var v=null;if(u.g==m){Zs(u),Ea(u),u.g=null;var E=2}else if($t(u.h,m))v=m.D,Ll(u.h,m),E=1;else return;if(u.G!=0){if(m.o)if(E==1){v=m.m?m.m.length:0,m=Date.now()-m.F;var F=u.B;E=$i(),ft(E,new Us(E,v)),Yn(u)}else Zi(u);else if(F=m.s,F==3||F==0&&0<m.X||!(E==1&&fh(u,m)||E==2&&Js(u)))switch(v&&0<v.length&&(m=u.h,m.i=m.i.concat(v)),F){case 1:Ir(u,5);break;case 4:Ir(u,10);break;case 3:Ir(u,6);break;default:Ir(u,2)}}}function Kl(u,m){let v=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(v*=2),v*m}function Ir(u,m){if(u.j.info("Error code "+m),m==2){var v=k(u.fb,u),E=u.Xa;const F=!E;E=new _r(E||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Yi(E,"https"),Jr(E),F?ch(E.toString(),v):$l(E.toString(),v)}else st(2);u.G=0,u.l&&u.l.sa(m),Gl(u),Ys(u)}n.fb=function(u){u?(this.j.info("Successfully pinged google.com"),st(2)):(this.j.info("Failed to ping google.com"),st(1))};function Gl(u){if(u.G=0,u.ka=[],u.l){const m=Fl(u.h);(m.length!=0||u.i.length!=0)&&(V(u.ka,m),V(u.ka,u.i),u.h.i.length=0,B(u.i),u.i.length=0),u.l.ra()}}function Ql(u,m,v){var E=v instanceof _r?on(v):new _r(v);if(E.g!="")m&&(E.g=m+"."+E.g),Yr(E,E.s);else{var F=d.location;E=F.protocol,m=m?m+"."+F.hostname:F.hostname,F=+F.port;var $=new _r(null);E&&Yi($,E),m&&($.g=m),F&&Yr($,F),v&&($.l=v),E=$}return v=u.D,m=u.ya,v&&m&&$e(E,v,m),$e(E,"VER",u.la),Tr(u,E),E}function Yl(u,m,v){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new Ye(new wr({eb:v})):new Ye(u.pa),m.Ha(u.J),m}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ta(){}n=Ta.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function to(){}to.prototype.g=function(u,m){return new Wt(u,m)};function Wt(u,m){dt.call(this),this.g=new wa(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!Q(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!Q(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Xn(this)}M(Wt,dt),Wt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Wt.prototype.close=function(){kt(this.g)},Wt.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.u&&(v={},v.__data__=sa(u),u=v);m.i.push(new Vl(m.Ya++,u)),m.G==3&&Yn(m)},Wt.prototype.N=function(){this.g.l=null,delete this.j,kt(this.g),delete this.g,Wt.aa.N.call(this)};function Xl(u){Hn.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const v in m){u=v;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}M(Xl,Hn);function Jl(){Fs.call(this),this.status=1}M(Jl,Fs);function Xn(u){this.g=u}M(Xn,Ta),Xn.prototype.ua=function(){ft(this.g,"a")},Xn.prototype.ta=function(u){ft(this.g,new Xl(u))},Xn.prototype.sa=function(u){ft(this.g,new Jl)},Xn.prototype.ra=function(){ft(this.g,"b")},to.prototype.createWebChannel=to.prototype.g,Wt.prototype.send=Wt.prototype.o,Wt.prototype.open=Wt.prototype.m,Wt.prototype.close=Wt.prototype.close,q_=function(){return new to},H_=function(){return $i()},W_=qn,uf={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},zs.NO_ERROR=0,zs.TIMEOUT=8,zs.HTTP_ERROR=6,oc=zs,Nl.COMPLETE="complete",$_=Nl,Ls.EventType=dn,dn.OPEN="a",dn.CLOSE="b",dn.ERROR="c",dn.MESSAGE="d",dt.prototype.listen=dt.prototype.K,Xa=Ls,Ye.prototype.listenOnce=Ye.prototype.L,Ye.prototype.getLastError=Ye.prototype.Ka,Ye.prototype.getLastErrorCode=Ye.prototype.Ba,Ye.prototype.getStatus=Ye.prototype.Z,Ye.prototype.getResponseJson=Ye.prototype.Oa,Ye.prototype.getResponseText=Ye.prototype.oa,Ye.prototype.send=Ye.prototype.ea,Ye.prototype.setWithCredentials=Ye.prototype.Ha,B_=Ye}).apply(typeof Gu<"u"?Gu:typeof self<"u"?self:typeof window<"u"?window:{});const wy="@firebase/firestore",Ey="4.7.8";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ut.UNAUTHENTICATED=new Ut(null),Ut.GOOGLE_CREDENTIALS=new Ut("google-credentials-uid"),Ut.FIRST_PARTY=new Ut("first-party-uid"),Ut.MOCK_USER=new Ut("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ko="11.3.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Is=new Nf("@firebase/firestore");function Po(){return Is.logLevel}function oe(n,...e){if(Is.logLevel<=Ce.DEBUG){const t=e.map($f);Is.debug(`Firestore (${Ko}): ${n}`,...t)}}function zr(n,...e){if(Is.logLevel<=Ce.ERROR){const t=e.map($f);Is.error(`Firestore (${Ko}): ${n}`,...t)}}function Lo(n,...e){if(Is.logLevel<=Ce.WARN){const t=e.map($f);Is.warn(`Firestore (${Ko}): ${n}`,...t)}}function $f(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _e(n="Unexpected state"){const e=`FIRESTORE (${Ko}) INTERNAL ASSERTION FAILED: `+n;throw zr(e),new Error(e)}function Ue(n,e){n||_e()}function Ie(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ce extends Wr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ai{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K_{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class fR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Ut.UNAUTHENTICATED))}shutdown(){}}class pR{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class mR{constructor(e){this.t=e,this.currentUser=Ut.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ue(this.o===void 0);let i=this.i;const o=p=>this.i!==i?(i=this.i,t(p)):Promise.resolve();let l=new Ai;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Ai,e.enqueueRetryable(()=>o(this.currentUser))};const h=()=>{const p=l;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},d=p=>{oe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(p=>d(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?d(p):(oe("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Ai)}},0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(oe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Ue(typeof i.accessToken=="string"),new K_(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ue(e===null||typeof e=="string"),new Ut(e)}}class gR{constructor(e,t,i){this.l=e,this.h=t,this.P=i,this.type="FirstParty",this.user=Ut.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class yR{constructor(e,t,i){this.l=e,this.h=t,this.P=i}getToken(){return Promise.resolve(new gR(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Ut.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Ty{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class vR{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Tn(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){Ue(this.o===void 0);const i=l=>{l.error!=null&&oe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const h=l.token!==this.R;return this.R=l.token,oe("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>i(l))};const o=l=>{oe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(l=>o(l)),setTimeout(()=>{if(!this.appCheck){const l=this.A.getImmediate({optional:!0});l?o(l):oe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new Ty(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ue(typeof t.token=="string"),this.R=t.token,new Ty(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _R(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G_{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const o=_R(40);for(let l=0;l<o.length;++l)i.length<20&&o[l]<t&&(i+=e.charAt(o[l]%62))}return i}}function Ne(n,e){return n<e?-1:n>e?1:0}function Fo(n,e,t){return n.length===e.length&&n.every((i,o)=>t(i,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iy=-62135596800,Sy=1e6;class rt{static now(){return rt.fromMillis(Date.now())}static fromDate(e){return rt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*Sy);return new rt(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ce(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ce(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Iy)throw new ce(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ce(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Sy}_compareTo(e){return this.seconds===e.seconds?Ne(this.nanoseconds,e.nanoseconds):Ne(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-Iy;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Te{static fromTimestamp(e){return new Te(e)}static min(){return new Te(new rt(0,0))}static max(){return new Te(new rt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Py="__name__";class rr{constructor(e,t,i){t===void 0?t=0:t>e.length&&_e(),i===void 0?i=e.length-t:i>e.length-t&&_e(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return rr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof rr?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let o=0;o<i;o++){const l=rr.compareSegments(e.get(o),t.get(o));if(l!==0)return l}return Math.sign(e.length-t.length)}static compareSegments(e,t){const i=rr.isNumericId(e),o=rr.isNumericId(t);return i&&!o?-1:!i&&o?1:i&&o?rr.extractNumericId(e).compare(rr.extractNumericId(t)):e<t?-1:e>t?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ci.fromString(e.substring(4,e.length-2))}}class Qe extends rr{construct(e,t,i){return new Qe(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new ce(X.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(o=>o.length>0))}return new Qe(t)}static emptyPath(){return new Qe([])}}const wR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class xt extends rr{construct(e,t,i){return new xt(e,t,i)}static isValidIdentifier(e){return wR.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),xt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Py}static keyField(){return new xt([Py])}static fromServerFormat(e){const t=[];let i="",o=0;const l=()=>{if(i.length===0)throw new ce(X.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let h=!1;for(;o<e.length;){const d=e[o];if(d==="\\"){if(o+1===e.length)throw new ce(X.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ce(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=p,o+=2}else d==="`"?(h=!h,o++):d!=="."||h?(i+=d,o++):(l(),o++)}if(l(),h)throw new ce(X.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new xt(t)}static emptyPath(){return new xt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pe{constructor(e){this.path=e}static fromPath(e){return new pe(Qe.fromString(e))}static fromName(e){return new pe(Qe.fromString(e).popFirst(5))}static empty(){return new pe(Qe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Qe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Qe.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new pe(new Qe(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ul=-1;function ER(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,o=Te.fromTimestamp(i===1e9?new rt(t+1,0):new rt(t,i));return new Di(o,pe.empty(),e)}function TR(n){return new Di(n.readTime,n.key,ul)}class Di{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new Di(Te.min(),pe.empty(),ul)}static max(){return new Di(Te.max(),pe.empty(),ul)}}function IR(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=pe.comparator(n.documentKey,e.documentKey),t!==0?t:Ne(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class PR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Go(n){if(n.code!==X.FAILED_PRECONDITION||n.message!==SR)throw n;oe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&_e(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new G((i,o)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,o)},this.catchCallback=l=>{this.wrapFailure(t,l).next(i,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof G?t:G.resolve(t)}catch(t){return G.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):G.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):G.reject(t)}static resolve(e){return new G((t,i)=>{t(e)})}static reject(e){return new G((t,i)=>{i(e)})}static waitFor(e){return new G((t,i)=>{let o=0,l=0,h=!1;e.forEach(d=>{++o,d.next(()=>{++l,h&&l===o&&t()},p=>i(p))}),h=!0,l===o&&t()})}static or(e){let t=G.resolve(!1);for(const i of e)t=t.next(o=>o?G.resolve(o):i());return t}static forEach(e,t){const i=[];return e.forEach((o,l)=>{i.push(t.call(this,o,l))}),this.waitFor(i)}static mapArray(e,t){return new G((i,o)=>{const l=e.length,h=new Array(l);let d=0;for(let p=0;p<l;p++){const y=p;t(e[y]).next(w=>{h[y]=w,++d,d===l&&i(h)},w=>o(w))}})}static doWhile(e,t){return new G((i,o)=>{const l=()=>{e()===!0?t().next(()=>{l()},o):i()};l()})}}function kR(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Qo(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qc{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.oe(i),this._e=i=>t.writeSequenceNumber(i))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}qc.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wf=-1;function Kc(n){return n==null}function Tc(n){return n===0&&1/n==-1/0}function RR(n){return typeof n=="number"&&Number.isInteger(n)&&!Tc(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q_="";function CR(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=ky(e)),e=AR(n.get(t),e);return ky(e)}function AR(n,e){let t=e;const i=n.length;for(let o=0;o<i;o++){const l=n.charAt(o);switch(l){case"\0":t+="";break;case Q_:t+="";break;default:t+=l}}return t}function ky(n){return n+Q_+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ry(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Rs(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Y_(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tt{constructor(e,t){this.comparator=e,this.root=t||At.EMPTY}insert(e,t){return new tt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,At.BLACK,null,null))}remove(e){return new tt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,At.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const o=this.comparator(e,i.key);if(o===0)return t+i.left.size;o<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Qu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Qu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Qu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Qu(this.root,e,this.comparator,!0)}}class Qu{constructor(e,t,i,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?i(e.key,t):1,t&&o&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class At{constructor(e,t,i,o,l){this.key=e,this.value=t,this.color=i??At.RED,this.left=o??At.EMPTY,this.right=l??At.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,o,l){return new At(e??this.key,t??this.value,i??this.color,o??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let o=this;const l=i(e,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(e,t,i),null):l===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,i)),o.fixUp()}removeMin(){if(this.left.isEmpty())return At.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return At.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,At.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,At.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw _e();const e=this.left.check();if(e!==this.right.check())throw _e();return e+(this.isRed()?0:1)}}At.EMPTY=null,At.RED=!0,At.BLACK=!1;At.EMPTY=new class{constructor(){this.size=0}get key(){throw _e()}get value(){throw _e()}get color(){throw _e()}get left(){throw _e()}get right(){throw _e()}copy(e,t,i,o,l){return this}insert(e,t,i){return new At(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(e){this.comparator=e,this.data=new tt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const o=i.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Cy(this.data.getIterator())}getIteratorFrom(e){return new Cy(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof yt)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=i.getNext().key;if(this.comparator(o,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new yt(this.comparator);return t.data=e,t}}class Cy{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(e){this.fields=e,e.sort(xt.comparator)}static empty(){return new zn([])}unionWith(e){let t=new yt(xt.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new zn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Fo(this.fields,e.fields,(t,i)=>t.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new X_("Invalid base64 string: "+l):l}}(e);return new Nt(t)}static fromUint8Array(e){const t=function(o){let l="";for(let h=0;h<o.length;++h)l+=String.fromCharCode(o[h]);return l}(e);return new Nt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let o=0;o<t.length;o++)i[o]=t.charCodeAt(o);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ne(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Nt.EMPTY_BYTE_STRING=new Nt("");const xR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Oi(n){if(Ue(!!n),typeof n=="string"){let e=0;const t=xR.exec(n);if(Ue(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:at(n.seconds),nanos:at(n.nanos)}}function at(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function bi(n){return typeof n=="string"?Nt.fromBase64String(n):Nt.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J_="server_timestamp",Z_="__type__",ew="__previous_value__",tw="__local_write_time__";function Hf(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[Z_])===null||t===void 0?void 0:t.stringValue)===J_}function Gc(n){const e=n.mapValue.fields[ew];return Hf(e)?Gc(e):e}function cl(n){const e=Oi(n.mapValue.fields[tw].timestampValue);return new rt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NR{constructor(e,t,i,o,l,h,d,p,y){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=o,this.ssl=l,this.forceLongPolling=h,this.autoDetectLongPolling=d,this.longPollingOptions=p,this.useFetchStreams=y}}const Ic="(default)";class hl{constructor(e,t){this.projectId=e,this.database=t||Ic}static empty(){return new hl("","")}get isDefaultDatabase(){return this.database===Ic}isEqual(e){return e instanceof hl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nw="__type__",DR="__max__",Yu={mapValue:{}},rw="__vector__",Sc="value";function Vi(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Hf(n)?4:bR(n)?9007199254740991:OR(n)?10:11:_e()}function cr(n,e){if(n===e)return!0;const t=Vi(n);if(t!==Vi(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return cl(n).isEqual(cl(e));case 3:return function(o,l){if(typeof o.timestampValue=="string"&&typeof l.timestampValue=="string"&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const h=Oi(o.timestampValue),d=Oi(l.timestampValue);return h.seconds===d.seconds&&h.nanos===d.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(o,l){return bi(o.bytesValue).isEqual(bi(l.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(o,l){return at(o.geoPointValue.latitude)===at(l.geoPointValue.latitude)&&at(o.geoPointValue.longitude)===at(l.geoPointValue.longitude)}(n,e);case 2:return function(o,l){if("integerValue"in o&&"integerValue"in l)return at(o.integerValue)===at(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const h=at(o.doubleValue),d=at(l.doubleValue);return h===d?Tc(h)===Tc(d):isNaN(h)&&isNaN(d)}return!1}(n,e);case 9:return Fo(n.arrayValue.values||[],e.arrayValue.values||[],cr);case 10:case 11:return function(o,l){const h=o.mapValue.fields||{},d=l.mapValue.fields||{};if(Ry(h)!==Ry(d))return!1;for(const p in h)if(h.hasOwnProperty(p)&&(d[p]===void 0||!cr(h[p],d[p])))return!1;return!0}(n,e);default:return _e()}}function dl(n,e){return(n.values||[]).find(t=>cr(t,e))!==void 0}function Uo(n,e){if(n===e)return 0;const t=Vi(n),i=Vi(e);if(t!==i)return Ne(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ne(n.booleanValue,e.booleanValue);case 2:return function(l,h){const d=at(l.integerValue||l.doubleValue),p=at(h.integerValue||h.doubleValue);return d<p?-1:d>p?1:d===p?0:isNaN(d)?isNaN(p)?0:-1:1}(n,e);case 3:return Ay(n.timestampValue,e.timestampValue);case 4:return Ay(cl(n),cl(e));case 5:return Ne(n.stringValue,e.stringValue);case 6:return function(l,h){const d=bi(l),p=bi(h);return d.compareTo(p)}(n.bytesValue,e.bytesValue);case 7:return function(l,h){const d=l.split("/"),p=h.split("/");for(let y=0;y<d.length&&y<p.length;y++){const w=Ne(d[y],p[y]);if(w!==0)return w}return Ne(d.length,p.length)}(n.referenceValue,e.referenceValue);case 8:return function(l,h){const d=Ne(at(l.latitude),at(h.latitude));return d!==0?d:Ne(at(l.longitude),at(h.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return xy(n.arrayValue,e.arrayValue);case 10:return function(l,h){var d,p,y,w;const I=l.fields||{},k=h.fields||{},D=(d=I[Sc])===null||d===void 0?void 0:d.arrayValue,M=(p=k[Sc])===null||p===void 0?void 0:p.arrayValue,B=Ne(((y=D==null?void 0:D.values)===null||y===void 0?void 0:y.length)||0,((w=M==null?void 0:M.values)===null||w===void 0?void 0:w.length)||0);return B!==0?B:xy(D,M)}(n.mapValue,e.mapValue);case 11:return function(l,h){if(l===Yu.mapValue&&h===Yu.mapValue)return 0;if(l===Yu.mapValue)return 1;if(h===Yu.mapValue)return-1;const d=l.fields||{},p=Object.keys(d),y=h.fields||{},w=Object.keys(y);p.sort(),w.sort();for(let I=0;I<p.length&&I<w.length;++I){const k=Ne(p[I],w[I]);if(k!==0)return k;const D=Uo(d[p[I]],y[w[I]]);if(D!==0)return D}return Ne(p.length,w.length)}(n.mapValue,e.mapValue);default:throw _e()}}function Ay(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Ne(n,e);const t=Oi(n),i=Oi(e),o=Ne(t.seconds,i.seconds);return o!==0?o:Ne(t.nanos,i.nanos)}function xy(n,e){const t=n.values||[],i=e.values||[];for(let o=0;o<t.length&&o<i.length;++o){const l=Uo(t[o],i[o]);if(l)return l}return Ne(t.length,i.length)}function jo(n){return cf(n)}function cf(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const i=Oi(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return bi(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return pe.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",o=!0;for(const l of t.values||[])o?o=!1:i+=",",i+=cf(l);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){const i=Object.keys(t.fields||{}).sort();let o="{",l=!0;for(const h of i)l?l=!1:o+=",",o+=`${h}:${cf(t.fields[h])}`;return o+"}"}(n.mapValue):_e()}function ac(n){switch(Vi(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Gc(n);return e?16+ac(e):16;case 5:return 2*n.stringValue.length;case 6:return bi(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((o,l)=>o+ac(l),0)}(n.arrayValue);case 10:case 11:return function(i){let o=0;return Rs(i.fields,(l,h)=>{o+=l.length+ac(h)}),o}(n.mapValue);default:throw _e()}}function Ny(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function hf(n){return!!n&&"integerValue"in n}function qf(n){return!!n&&"arrayValue"in n}function Dy(n){return!!n&&"nullValue"in n}function Oy(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function lc(n){return!!n&&"mapValue"in n}function OR(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[nw])===null||t===void 0?void 0:t.stringValue)===rw}function tl(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Rs(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=tl(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=tl(n.arrayValue.values[t]);return e}return Object.assign({},n)}function bR(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===DR}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(e){this.value=e}static empty(){return new In({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!lc(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=tl(t)}setAll(e){let t=xt.emptyPath(),i={},o=[];e.forEach((h,d)=>{if(!t.isImmediateParentOf(d)){const p=this.getFieldsMap(t);this.applyChanges(p,i,o),i={},o=[],t=d.popLast()}h?i[d.lastSegment()]=tl(h):o.push(d.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,i,o)}delete(e){const t=this.field(e.popLast());lc(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return cr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let o=t.mapValue.fields[e.get(i)];lc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,i){Rs(t,(o,l)=>e[o]=l);for(const o of i)delete e[o]}clone(){return new In(tl(this.value))}}function iw(n){const e=[];return Rs(n.fields,(t,i)=>{const o=new xt([t]);if(lc(i)){const l=iw(i.mapValue).fields;if(l.length===0)e.push(o);else for(const h of l)e.push(o.child(h))}else e.push(o)}),new zn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(e,t,i,o,l,h,d){this.key=e,this.documentType=t,this.version=i,this.readTime=o,this.createTime=l,this.data=h,this.documentState=d}static newInvalidDocument(e){return new jt(e,0,Te.min(),Te.min(),Te.min(),In.empty(),0)}static newFoundDocument(e,t,i,o){return new jt(e,1,t,Te.min(),i,o,0)}static newNoDocument(e,t){return new jt(e,2,t,Te.min(),Te.min(),In.empty(),0)}static newUnknownDocument(e,t){return new jt(e,3,t,Te.min(),Te.min(),In.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Te.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=In.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=In.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Te.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof jt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new jt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pc{constructor(e,t){this.position=e,this.inclusive=t}}function by(n,e,t){let i=0;for(let o=0;o<n.position.length;o++){const l=e[o],h=n.position[o];if(l.field.isKeyField()?i=pe.comparator(pe.fromName(h.referenceValue),t.key):i=Uo(h,t.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function Vy(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!cr(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kc{constructor(e,t="asc"){this.field=e,this.dir=t}}function VR(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sw{}class ht extends sw{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new LR(e,t,i):t==="array-contains"?new jR(e,i):t==="in"?new zR(e,i):t==="not-in"?new BR(e,i):t==="array-contains-any"?new $R(e,i):new ht(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new FR(e,i):new UR(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Uo(t,this.value)):t!==null&&Vi(this.value)===Vi(t)&&this.matchesComparison(Uo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return _e()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Wn extends sw{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new Wn(e,t)}matches(e){return ow(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function ow(n){return n.op==="and"}function aw(n){return MR(n)&&ow(n)}function MR(n){for(const e of n.filters)if(e instanceof Wn)return!1;return!0}function df(n){if(n instanceof ht)return n.field.canonicalString()+n.op.toString()+jo(n.value);if(aw(n))return n.filters.map(e=>df(e)).join(",");{const e=n.filters.map(t=>df(t)).join(",");return`${n.op}(${e})`}}function lw(n,e){return n instanceof ht?function(i,o){return o instanceof ht&&i.op===o.op&&i.field.isEqual(o.field)&&cr(i.value,o.value)}(n,e):n instanceof Wn?function(i,o){return o instanceof Wn&&i.op===o.op&&i.filters.length===o.filters.length?i.filters.reduce((l,h,d)=>l&&lw(h,o.filters[d]),!0):!1}(n,e):void _e()}function uw(n){return n instanceof ht?function(t){return`${t.field.canonicalString()} ${t.op} ${jo(t.value)}`}(n):n instanceof Wn?function(t){return t.op.toString()+" {"+t.getFilters().map(uw).join(" ,")+"}"}(n):"Filter"}class LR extends ht{constructor(e,t,i){super(e,t,i),this.key=pe.fromName(i.referenceValue)}matches(e){const t=pe.comparator(e.key,this.key);return this.matchesComparison(t)}}class FR extends ht{constructor(e,t){super(e,"in",t),this.keys=cw("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class UR extends ht{constructor(e,t){super(e,"not-in",t),this.keys=cw("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function cw(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(i=>pe.fromName(i.referenceValue))}class jR extends ht{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return qf(t)&&dl(t.arrayValue,this.value)}}class zR extends ht{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&dl(this.value.arrayValue,t)}}class BR extends ht{constructor(e,t){super(e,"not-in",t)}matches(e){if(dl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!dl(this.value.arrayValue,t)}}class $R extends ht{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!qf(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>dl(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WR{constructor(e,t=null,i=[],o=[],l=null,h=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=o,this.limit=l,this.startAt=h,this.endAt=d,this.le=null}}function My(n,e=null,t=[],i=[],o=null,l=null,h=null){return new WR(n,e,t,i,o,l,h)}function Kf(n){const e=Ie(n);if(e.le===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>df(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(l){return l.field.canonicalString()+l.dir}(i)).join(","),Kc(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>jo(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>jo(i)).join(",")),e.le=t}return e.le}function Gf(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!VR(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!lw(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Vy(n.startAt,e.startAt)&&Vy(n.endAt,e.endAt)}function ff(n){return pe.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pl{constructor(e,t=null,i=[],o=[],l=null,h="F",d=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=o,this.limit=l,this.limitType=h,this.startAt=d,this.endAt=p,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function HR(n,e,t,i,o,l,h,d){return new Pl(n,e,t,i,o,l,h,d)}function hw(n){return new Pl(n)}function Ly(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function dw(n){return n.collectionGroup!==null}function nl(n){const e=Ie(n);if(e.he===null){e.he=[];const t=new Set;for(const l of e.explicitOrderBy)e.he.push(l),t.add(l.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let d=new yt(xt.comparator);return h.filters.forEach(p=>{p.getFlattenedFilters().forEach(y=>{y.isInequality()&&(d=d.add(y.field))})}),d})(e).forEach(l=>{t.has(l.canonicalString())||l.isKeyField()||e.he.push(new kc(l,i))}),t.has(xt.keyField().canonicalString())||e.he.push(new kc(xt.keyField(),i))}return e.he}function lr(n){const e=Ie(n);return e.Pe||(e.Pe=qR(e,nl(n))),e.Pe}function qR(n,e){if(n.limitType==="F")return My(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(o=>{const l=o.dir==="desc"?"asc":"desc";return new kc(o.field,l)});const t=n.endAt?new Pc(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new Pc(n.startAt.position,n.startAt.inclusive):null;return My(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function pf(n,e){const t=n.filters.concat([e]);return new Pl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function mf(n,e,t){return new Pl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Qc(n,e){return Gf(lr(n),lr(e))&&n.limitType===e.limitType}function fw(n){return`${Kf(lr(n))}|lt:${n.limitType}`}function ko(n){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(o=>uw(o)).join(", ")}]`),Kc(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(o=>function(h){return`${h.field.canonicalString()} (${h.dir})`}(o)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(o=>jo(o)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(o=>jo(o)).join(",")),`Target(${i})`}(lr(n))}; limitType=${n.limitType})`}function Yc(n,e){return e.isFoundDocument()&&function(i,o){const l=o.key.path;return i.collectionGroup!==null?o.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):pe.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)}(n,e)&&function(i,o){for(const l of nl(i))if(!l.field.isKeyField()&&o.data.field(l.field)===null)return!1;return!0}(n,e)&&function(i,o){for(const l of i.filters)if(!l.matches(o))return!1;return!0}(n,e)&&function(i,o){return!(i.startAt&&!function(h,d,p){const y=by(h,d,p);return h.inclusive?y<=0:y<0}(i.startAt,nl(i),o)||i.endAt&&!function(h,d,p){const y=by(h,d,p);return h.inclusive?y>=0:y>0}(i.endAt,nl(i),o))}(n,e)}function KR(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function pw(n){return(e,t)=>{let i=!1;for(const o of nl(n)){const l=GR(o,e,t);if(l!==0)return l;i=i||o.field.isKeyField()}return 0}}function GR(n,e,t){const i=n.field.isKeyField()?pe.comparator(e.key,t.key):function(l,h,d){const p=h.data.field(l),y=d.data.field(l);return p!==null&&y!==null?Uo(p,y):_e()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return _e()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[o,l]of i)if(this.equalsFn(o,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),o=this.inner[i];if(o===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return void(o[l]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return i.length===1?delete this.inner[t]:i.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Rs(this.inner,(t,i)=>{for(const[o,l]of i)e(o,l)})}isEmpty(){return Y_(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QR=new tt(pe.comparator);function Br(){return QR}const mw=new tt(pe.comparator);function Ja(...n){let e=mw;for(const t of n)e=e.insert(t.key,t);return e}function gw(n){let e=mw;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function vs(){return rl()}function yw(){return rl()}function rl(){return new Cs(n=>n.toString(),(n,e)=>n.isEqual(e))}const YR=new tt(pe.comparator),XR=new yt(pe.comparator);function Ae(...n){let e=XR;for(const t of n)e=e.add(t);return e}const JR=new yt(Ne);function ZR(){return JR}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qf(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Tc(e)?"-0":e}}function vw(n){return{integerValue:""+n}}function eC(n,e){return RR(e)?vw(e):Qf(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc{constructor(){this._=void 0}}function tC(n,e,t){return n instanceof Rc?function(o,l){const h={fields:{[Z_]:{stringValue:J_},[tw]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&Hf(l)&&(l=Gc(l)),l&&(h.fields[ew]=l),{mapValue:h}}(t,e):n instanceof fl?ww(n,e):n instanceof pl?Ew(n,e):function(o,l){const h=_w(o,l),d=Fy(h)+Fy(o.Ie);return hf(h)&&hf(o.Ie)?vw(d):Qf(o.serializer,d)}(n,e)}function nC(n,e,t){return n instanceof fl?ww(n,e):n instanceof pl?Ew(n,e):t}function _w(n,e){return n instanceof Cc?function(i){return hf(i)||function(l){return!!l&&"doubleValue"in l}(i)}(e)?e:{integerValue:0}:null}class Rc extends Xc{}class fl extends Xc{constructor(e){super(),this.elements=e}}function ww(n,e){const t=Tw(e);for(const i of n.elements)t.some(o=>cr(o,i))||t.push(i);return{arrayValue:{values:t}}}class pl extends Xc{constructor(e){super(),this.elements=e}}function Ew(n,e){let t=Tw(e);for(const i of n.elements)t=t.filter(o=>!cr(o,i));return{arrayValue:{values:t}}}class Cc extends Xc{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function Fy(n){return at(n.integerValue||n.doubleValue)}function Tw(n){return qf(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function rC(n,e){return n.field.isEqual(e.field)&&function(i,o){return i instanceof fl&&o instanceof fl||i instanceof pl&&o instanceof pl?Fo(i.elements,o.elements,cr):i instanceof Cc&&o instanceof Cc?cr(i.Ie,o.Ie):i instanceof Rc&&o instanceof Rc}(n.transform,e.transform)}class iC{constructor(e,t){this.version=e,this.transformResults=t}}class Fr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Fr}static exists(e){return new Fr(void 0,e)}static updateTime(e){return new Fr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function uc(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Jc{}function Iw(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Pw(n.key,Fr.none()):new kl(n.key,n.data,Fr.none());{const t=n.data,i=In.empty();let o=new yt(xt.comparator);for(let l of e.fields)if(!o.has(l)){let h=t.field(l);h===null&&l.length>1&&(l=l.popLast(),h=t.field(l)),h===null?i.delete(l):i.set(l,h),o=o.add(l)}return new As(n.key,i,new zn(o.toArray()),Fr.none())}}function sC(n,e,t){n instanceof kl?function(o,l,h){const d=o.value.clone(),p=jy(o.fieldTransforms,l,h.transformResults);d.setAll(p),l.convertToFoundDocument(h.version,d).setHasCommittedMutations()}(n,e,t):n instanceof As?function(o,l,h){if(!uc(o.precondition,l))return void l.convertToUnknownDocument(h.version);const d=jy(o.fieldTransforms,l,h.transformResults),p=l.data;p.setAll(Sw(o)),p.setAll(d),l.convertToFoundDocument(h.version,p).setHasCommittedMutations()}(n,e,t):function(o,l,h){l.convertToNoDocument(h.version).setHasCommittedMutations()}(0,e,t)}function il(n,e,t,i){return n instanceof kl?function(l,h,d,p){if(!uc(l.precondition,h))return d;const y=l.value.clone(),w=zy(l.fieldTransforms,p,h);return y.setAll(w),h.convertToFoundDocument(h.version,y).setHasLocalMutations(),null}(n,e,t,i):n instanceof As?function(l,h,d,p){if(!uc(l.precondition,h))return d;const y=zy(l.fieldTransforms,p,h),w=h.data;return w.setAll(Sw(l)),w.setAll(y),h.convertToFoundDocument(h.version,w).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(I=>I.field))}(n,e,t,i):function(l,h,d){return uc(l.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):d}(n,e,t)}function oC(n,e){let t=null;for(const i of n.fieldTransforms){const o=e.data.field(i.field),l=_w(i.transform,o||null);l!=null&&(t===null&&(t=In.empty()),t.set(i.field,l))}return t||null}function Uy(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(i,o){return i===void 0&&o===void 0||!(!i||!o)&&Fo(i,o,(l,h)=>rC(l,h))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class kl extends Jc{constructor(e,t,i,o=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class As extends Jc{constructor(e,t,i,o,l=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=o,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function Sw(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function jy(n,e,t){const i=new Map;Ue(n.length===t.length);for(let o=0;o<t.length;o++){const l=n[o],h=l.transform,d=e.data.field(l.field);i.set(l.field,nC(h,d,t[o]))}return i}function zy(n,e,t){const i=new Map;for(const o of n){const l=o.transform,h=t.data.field(o.field);i.set(o.field,tC(l,h,e))}return i}class Pw extends Jc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class aC extends Jc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lC{constructor(e,t,i,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=o}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(e.key)&&sC(l,e,i[o])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=il(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=il(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=yw();return this.mutations.forEach(o=>{const l=e.get(o.key),h=l.overlayedDocument;let d=this.applyToLocalView(h,l.mutatedFields);d=t.has(o.key)?null:d;const p=Iw(h,d);p!==null&&i.set(o.key,p),h.isValidDocument()||h.convertToNoDocument(Te.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ae())}isEqual(e){return this.batchId===e.batchId&&Fo(this.mutations,e.mutations,(t,i)=>Uy(t,i))&&Fo(this.baseMutations,e.baseMutations,(t,i)=>Uy(t,i))}}class Yf{constructor(e,t,i,o){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=o}static from(e,t,i){Ue(e.mutations.length===i.length);let o=function(){return YR}();const l=e.mutations;for(let h=0;h<l.length;h++)o=o.insert(l[h].key,i[h].version);return new Yf(e,t,i,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uC{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cC{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ct,be;function hC(n){switch(n){case X.OK:return _e();case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0;default:return _e()}}function kw(n){if(n===void 0)return zr("GRPC error has no .code"),X.UNKNOWN;switch(n){case ct.OK:return X.OK;case ct.CANCELLED:return X.CANCELLED;case ct.UNKNOWN:return X.UNKNOWN;case ct.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case ct.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case ct.INTERNAL:return X.INTERNAL;case ct.UNAVAILABLE:return X.UNAVAILABLE;case ct.UNAUTHENTICATED:return X.UNAUTHENTICATED;case ct.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case ct.NOT_FOUND:return X.NOT_FOUND;case ct.ALREADY_EXISTS:return X.ALREADY_EXISTS;case ct.PERMISSION_DENIED:return X.PERMISSION_DENIED;case ct.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case ct.ABORTED:return X.ABORTED;case ct.OUT_OF_RANGE:return X.OUT_OF_RANGE;case ct.UNIMPLEMENTED:return X.UNIMPLEMENTED;case ct.DATA_LOSS:return X.DATA_LOSS;default:return _e()}}(be=ct||(ct={}))[be.OK=0]="OK",be[be.CANCELLED=1]="CANCELLED",be[be.UNKNOWN=2]="UNKNOWN",be[be.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",be[be.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",be[be.NOT_FOUND=5]="NOT_FOUND",be[be.ALREADY_EXISTS=6]="ALREADY_EXISTS",be[be.PERMISSION_DENIED=7]="PERMISSION_DENIED",be[be.UNAUTHENTICATED=16]="UNAUTHENTICATED",be[be.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",be[be.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",be[be.ABORTED=10]="ABORTED",be[be.OUT_OF_RANGE=11]="OUT_OF_RANGE",be[be.UNIMPLEMENTED=12]="UNIMPLEMENTED",be[be.INTERNAL=13]="INTERNAL",be[be.UNAVAILABLE=14]="UNAVAILABLE",be[be.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dC(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fC=new Ci([4294967295,4294967295],0);function By(n){const e=dC().encode(n),t=new z_;return t.update(e),new Uint8Array(t.digest())}function $y(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),o=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Ci([t,i],0),new Ci([o,l],0)]}class Xf{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new Za(`Invalid padding: ${t}`);if(i<0)throw new Za(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Za(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new Za(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=Ci.fromNumber(this.Ee)}Ae(e,t,i){let o=e.add(t.multiply(Ci.fromNumber(i)));return o.compare(fC)===1&&(o=new Ci([o.getBits(0),o.getBits(1)],0)),o.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const t=By(e),[i,o]=$y(t);for(let l=0;l<this.hashCount;l++){const h=this.Ae(i,o,l);if(!this.Re(h))return!1}return!0}static create(e,t,i){const o=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),h=new Xf(l,o,t);return i.forEach(d=>h.insert(d)),h}insert(e){if(this.Ee===0)return;const t=By(e),[i,o]=$y(t);for(let l=0;l<this.hashCount;l++){const h=this.Ae(i,o,l);this.Ve(h)}}Ve(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class Za extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zc{constructor(e,t,i,o,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const o=new Map;return o.set(e,Rl.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new Zc(Te.min(),o,new tt(Ne),Br(),Ae())}}class Rl{constructor(e,t,i,o,l){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new Rl(i,t,Ae(),Ae(),Ae())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cc{constructor(e,t,i,o){this.me=e,this.removedTargetIds=t,this.key=i,this.fe=o}}class Rw{constructor(e,t){this.targetId=e,this.ge=t}}class Cw{constructor(e,t,i=Nt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=o}}class Wy{constructor(){this.pe=0,this.ye=Hy(),this.we=Nt.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=Ae(),t=Ae(),i=Ae();return this.ye.forEach((o,l)=>{switch(l){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:i=i.add(o);break;default:_e()}}),new Rl(this.we,this.Se,e,t,i)}Me(){this.be=!1,this.ye=Hy()}xe(e,t){this.be=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Ue(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class pC{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Br(),this.$e=Xu(),this.Ke=Xu(),this.Ue=new tt(Ne)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,t=>{const i=this.He(t);switch(e.state){case 0:this.Je(t)&&i.Ce(e.resumeToken);break;case 1:i.Be(),i.De||i.Me(),i.Ce(e.resumeToken);break;case 2:i.Be(),i.De||this.removeTarget(t);break;case 3:this.Je(t)&&(i.Le(),i.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),i.Ce(e.resumeToken));break;default:_e()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((i,o)=>{this.Je(o)&&t(o)})}Ze(e){const t=e.targetId,i=e.ge.count,o=this.Xe(t);if(o){const l=o.target;if(ff(l))if(i===0){const h=new pe(l.path);this.ze(t,h,jt.newNoDocument(h,Te.min()))}else Ue(i===1);else{const h=this.et(t);if(h!==i){const d=this.tt(e),p=d?this.nt(d,e,h):1;if(p!==0){this.Ye(t);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(t,y)}}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:o=0},hashCount:l=0}=t;let h,d;try{h=bi(i).toUint8Array()}catch(p){if(p instanceof X_)return Lo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{d=new Xf(h,o,l)}catch(p){return Lo(p instanceof Za?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return d.Ee===0?null:d}nt(e,t,i){return t.ge.count===i-this.st(e,t.targetId)?0:2}st(e,t){const i=this.ke.getRemoteKeysForTarget(t);let o=0;return i.forEach(l=>{const h=this.ke.it(),d=`projects/${h.projectId}/databases/${h.database}/documents/${l.path.canonicalString()}`;e.mightContain(d)||(this.ze(t,l,null),o++)}),o}ot(e){const t=new Map;this.qe.forEach((l,h)=>{const d=this.Xe(h);if(d){if(l.current&&ff(d.target)){const p=new pe(d.target.path);this._t(p).has(h)||this.ut(h,p)||this.ze(h,p,jt.newNoDocument(p,e))}l.ve&&(t.set(h,l.Fe()),l.Me())}});let i=Ae();this.Ke.forEach((l,h)=>{let d=!0;h.forEachWhile(p=>{const y=this.Xe(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(i=i.add(l))}),this.Qe.forEach((l,h)=>h.setReadTime(e));const o=new Zc(e,t,this.Ue,this.Qe,i);return this.Qe=Br(),this.$e=Xu(),this.Ke=Xu(),this.Ue=new tt(Ne),o}Ge(e,t){if(!this.Je(e))return;const i=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,i),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ke=this.Ke.insert(t.key,this.ct(t.key).add(e))}ze(e,t,i){if(!this.Je(e))return;const o=this.He(e);this.ut(e,t)?o.xe(t,1):o.Oe(t),this.Ke=this.Ke.insert(t,this.ct(t).delete(e)),this.Ke=this.Ke.insert(t,this.ct(t).add(e)),i&&(this.Qe=this.Qe.insert(t,i))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new Wy,this.qe.set(e,t)),t}ct(e){let t=this.Ke.get(e);return t||(t=new yt(Ne),this.Ke=this.Ke.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new yt(Ne),this.$e=this.$e.insert(e,t)),t}Je(e){const t=this.Xe(e)!==null;return t||oe("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new Wy),this.ke.getRemoteKeysForTarget(e).forEach(t=>{this.ze(e,t,null)})}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function Xu(){return new tt(pe.comparator)}function Hy(){return new tt(pe.comparator)}const mC={asc:"ASCENDING",desc:"DESCENDING"},gC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},yC={and:"AND",or:"OR"};class vC{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function gf(n,e){return n.useProto3Json||Kc(e)?e:{value:e}}function Ac(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Aw(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function _C(n,e){return Ac(n,e.toTimestamp())}function ur(n){return Ue(!!n),Te.fromTimestamp(function(t){const i=Oi(t);return new rt(i.seconds,i.nanos)}(n))}function Jf(n,e){return yf(n,e).canonicalString()}function yf(n,e){const t=function(o){return new Qe(["projects",o.projectId,"databases",o.database])}(n).child("documents");return e===void 0?t:t.child(e)}function xw(n){const e=Qe.fromString(n);return Ue(Vw(e)),e}function vf(n,e){return Jf(n.databaseId,e.path)}function Kd(n,e){const t=xw(e);if(t.get(1)!==n.databaseId.projectId)throw new ce(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ce(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new pe(Dw(t))}function Nw(n,e){return Jf(n.databaseId,e)}function wC(n){const e=xw(n);return e.length===4?Qe.emptyPath():Dw(e)}function _f(n){return new Qe(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Dw(n){return Ue(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function qy(n,e,t){return{name:vf(n,e),fields:t.value.mapValue.fields}}function EC(n,e){let t;if("targetChange"in e){e.targetChange;const i=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:_e()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],l=function(y,w){return y.useProto3Json?(Ue(w===void 0||typeof w=="string"),Nt.fromBase64String(w||"")):(Ue(w===void 0||w instanceof Buffer||w instanceof Uint8Array),Nt.fromUint8Array(w||new Uint8Array))}(n,e.targetChange.resumeToken),h=e.targetChange.cause,d=h&&function(y){const w=y.code===void 0?X.UNKNOWN:kw(y.code);return new ce(w,y.message||"")}(h);t=new Cw(i,o,l,d||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const o=Kd(n,i.document.name),l=ur(i.document.updateTime),h=i.document.createTime?ur(i.document.createTime):Te.min(),d=new In({mapValue:{fields:i.document.fields}}),p=jt.newFoundDocument(o,l,h,d),y=i.targetIds||[],w=i.removedTargetIds||[];t=new cc(y,w,p.key,p)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const o=Kd(n,i.document),l=i.readTime?ur(i.readTime):Te.min(),h=jt.newNoDocument(o,l),d=i.removedTargetIds||[];t=new cc([],d,h.key,h)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const o=Kd(n,i.document),l=i.removedTargetIds||[];t=new cc([],l,o,null)}else{if(!("filter"in e))return _e();{e.filter;const i=e.filter;i.targetId;const{count:o=0,unchangedNames:l}=i,h=new cC(o,l),d=i.targetId;t=new Rw(d,h)}}return t}function TC(n,e){let t;if(e instanceof kl)t={update:qy(n,e.key,e.value)};else if(e instanceof Pw)t={delete:vf(n,e.key)};else if(e instanceof As)t={update:qy(n,e.key,e.data),updateMask:NC(e.fieldMask)};else{if(!(e instanceof aC))return _e();t={verify:vf(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(l,h){const d=h.transform;if(d instanceof Rc)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof fl)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof pl)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Cc)return{fieldPath:h.field.canonicalString(),increment:d.Ie};throw _e()}(0,i))),e.precondition.isNone||(t.currentDocument=function(o,l){return l.updateTime!==void 0?{updateTime:_C(o,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:_e()}(n,e.precondition)),t}function IC(n,e){return n&&n.length>0?(Ue(e!==void 0),n.map(t=>function(o,l){let h=o.updateTime?ur(o.updateTime):ur(l);return h.isEqual(Te.min())&&(h=ur(l)),new iC(h,o.transformResults||[])}(t,e))):[]}function SC(n,e){return{documents:[Nw(n,e.path)]}}function PC(n,e){const t={structuredQuery:{}},i=e.path;let o;e.collectionGroup!==null?(o=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=Nw(n,o);const l=function(y){if(y.length!==0)return bw(Wn.create(y,"and"))}(e.filters);l&&(t.structuredQuery.where=l);const h=function(y){if(y.length!==0)return y.map(w=>function(k){return{field:Ro(k.field),direction:CC(k.dir)}}(w))}(e.orderBy);h&&(t.structuredQuery.orderBy=h);const d=gf(n,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(e.endAt)),{ht:t,parent:o}}function kC(n){let e=wC(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let o=null;if(i>0){Ue(i===1);const w=t.from[0];w.allDescendants?o=w.collectionId:e=e.child(w.collectionId)}let l=[];t.where&&(l=function(I){const k=Ow(I);return k instanceof Wn&&aw(k)?k.getFilters():[k]}(t.where));let h=[];t.orderBy&&(h=function(I){return I.map(k=>function(M){return new kc(Co(M.field),function(V){switch(V){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(M.direction))}(k))}(t.orderBy));let d=null;t.limit&&(d=function(I){let k;return k=typeof I=="object"?I.value:I,Kc(k)?null:k}(t.limit));let p=null;t.startAt&&(p=function(I){const k=!!I.before,D=I.values||[];return new Pc(D,k)}(t.startAt));let y=null;return t.endAt&&(y=function(I){const k=!I.before,D=I.values||[];return new Pc(D,k)}(t.endAt)),HR(e,o,h,l,d,"F",p,y)}function RC(n,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _e()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function Ow(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=Co(t.unaryFilter.field);return ht.create(i,"==",{doubleValue:NaN});case"IS_NULL":const o=Co(t.unaryFilter.field);return ht.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Co(t.unaryFilter.field);return ht.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=Co(t.unaryFilter.field);return ht.create(h,"!=",{nullValue:"NULL_VALUE"});default:return _e()}}(n):n.fieldFilter!==void 0?function(t){return ht.create(Co(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return _e()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Wn.create(t.compositeFilter.filters.map(i=>Ow(i)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return _e()}}(t.compositeFilter.op))}(n):_e()}function CC(n){return mC[n]}function AC(n){return gC[n]}function xC(n){return yC[n]}function Ro(n){return{fieldPath:n.canonicalString()}}function Co(n){return xt.fromServerFormat(n.fieldPath)}function bw(n){return n instanceof ht?function(t){if(t.op==="=="){if(Oy(t.value))return{unaryFilter:{field:Ro(t.field),op:"IS_NAN"}};if(Dy(t.value))return{unaryFilter:{field:Ro(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Oy(t.value))return{unaryFilter:{field:Ro(t.field),op:"IS_NOT_NAN"}};if(Dy(t.value))return{unaryFilter:{field:Ro(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ro(t.field),op:AC(t.op),value:t.value}}}(n):n instanceof Wn?function(t){const i=t.getFilters().map(o=>bw(o));return i.length===1?i[0]:{compositeFilter:{op:xC(t.op),filters:i}}}(n):_e()}function NC(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Vw(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Si{constructor(e,t,i,o,l=Te.min(),h=Te.min(),d=Nt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=d,this.expectedCount=p}withSequenceNumber(e){return new Si(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Si(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Si(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Si(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DC{constructor(e){this.Tt=e}}function OC(n){const e=kC({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?mf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bC{constructor(){this.Tn=new VC}addToCollectionParentIndex(e,t){return this.Tn.add(t),G.resolve()}getCollectionParents(e,t){return G.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return G.resolve()}deleteFieldIndex(e,t){return G.resolve()}deleteAllFieldIndexes(e){return G.resolve()}createTargetIndexes(e,t){return G.resolve()}getDocumentsMatchingTarget(e,t){return G.resolve(null)}getIndexType(e,t){return G.resolve(0)}getFieldIndexes(e,t){return G.resolve([])}getNextCollectionGroupToUpdate(e){return G.resolve(null)}getMinOffset(e,t){return G.resolve(Di.min())}getMinOffsetFromCollectionGroup(e,t){return G.resolve(Di.min())}updateCollectionGroup(e,t,i){return G.resolve()}updateIndexEntries(e,t){return G.resolve()}}class VC{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t]||new yt(Qe.comparator),l=!o.has(i);return this.index[t]=o.add(i),l}has(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t];return o&&o.has(i)}getEntries(e){return(this.index[e]||new yt(Qe.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ky={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Mw=41943040;class rn{static withCacheSize(e){return new rn(e,rn.DEFAULT_COLLECTION_PERCENTILE,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */rn.DEFAULT_COLLECTION_PERCENTILE=10,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,rn.DEFAULT=new rn(Mw,rn.DEFAULT_COLLECTION_PERCENTILE,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),rn.DISABLED=new rn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zo{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new zo(0)}static Un(){return new zo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gy="LruGarbageCollector",MC=1048576;function Qy([n,e],[t,i]){const o=Ne(n,t);return o===0?Ne(e,i):o}class LC{constructor(e){this.Hn=e,this.buffer=new yt(Qy),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();Qy(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class FC{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){oe(Gy,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Qo(t)?oe(Gy,"Ignoring IndexedDB error during garbage collection: ",t):await Go(t)}await this.er(3e5)})}}class UC{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(t===0)return G.resolve(qc.ae);const i=new LC(t);return this.tr.forEachTarget(e,o=>i.Zn(o.sequenceNumber)).next(()=>this.tr.rr(e,o=>i.Zn(o))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.tr.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(oe("LruGarbageCollector","Garbage collection skipped; disabled"),G.resolve(Ky)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(oe("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Ky):this.ir(e,t))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let i,o,l,h,d,p,y;const w=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(I=>(I>this.params.maximumSequenceNumbersToCollect?(oe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${I}`),o=this.params.maximumSequenceNumbersToCollect):o=I,h=Date.now(),this.nthSequenceNumber(e,o))).next(I=>(i=I,d=Date.now(),this.removeTargets(e,i,t))).next(I=>(l=I,p=Date.now(),this.removeOrphanedDocuments(e,i))).next(I=>(y=Date.now(),Po()<=Ce.DEBUG&&oe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-w}ms
	Determined least recently used ${o} in `+(d-h)+`ms
	Removed ${l} targets in `+(p-d)+`ms
	Removed ${I} documents in `+(y-p)+`ms
Total Duration: ${y-w}ms`),G.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:l,documentsRemoved:I})))}}function jC(n,e){return new UC(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zC{constructor(){this.changes=new Cs(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,jt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?G.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BC{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $C{constructor(e,t,i,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=o}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(i=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(i!==null&&il(i.mutation,o,zn.empty(),rt.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,Ae()).next(()=>i))}getLocalViewOfDocuments(e,t,i=Ae()){const o=vs();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,i).next(l=>{let h=Ja();return l.forEach((d,p)=>{h=h.insert(d,p.overlayedDocument)}),h}))}getOverlayedDocuments(e,t){const i=vs();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,Ae()))}populateOverlays(e,t,i){const o=[];return i.forEach(l=>{t.has(l)||o.push(l)}),this.documentOverlayCache.getOverlays(e,o).next(l=>{l.forEach((h,d)=>{t.set(h,d)})})}computeViews(e,t,i,o){let l=Br();const h=rl(),d=function(){return rl()}();return t.forEach((p,y)=>{const w=i.get(y.key);o.has(y.key)&&(w===void 0||w.mutation instanceof As)?l=l.insert(y.key,y):w!==void 0?(h.set(y.key,w.mutation.getFieldMask()),il(w.mutation,y,w.mutation.getFieldMask(),rt.now())):h.set(y.key,zn.empty())}),this.recalculateAndSaveOverlays(e,l).next(p=>(p.forEach((y,w)=>h.set(y,w)),t.forEach((y,w)=>{var I;return d.set(y,new BC(w,(I=h.get(y))!==null&&I!==void 0?I:null))}),d))}recalculateAndSaveOverlays(e,t){const i=rl();let o=new tt((h,d)=>h-d),l=Ae();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(h=>{for(const d of h)d.keys().forEach(p=>{const y=t.get(p);if(y===null)return;let w=i.get(p)||zn.empty();w=d.applyToLocalView(y,w),i.set(p,w);const I=(o.get(d.batchId)||Ae()).add(p);o=o.insert(d.batchId,I)})}).next(()=>{const h=[],d=o.getReverseIterator();for(;d.hasNext();){const p=d.getNext(),y=p.key,w=p.value,I=yw();w.forEach(k=>{if(!l.has(k)){const D=Iw(t.get(k),i.get(k));D!==null&&I.set(k,D),l=l.add(k)}}),h.push(this.documentOverlayCache.saveOverlays(e,y,I))}return G.waitFor(h)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,o){return function(h){return pe.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):dw(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,o):this.getDocumentsMatchingCollectionQuery(e,t,i,o)}getNextDocuments(e,t,i,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,o).next(l=>{const h=o-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,o-l.size):G.resolve(vs());let d=ul,p=l;return h.next(y=>G.forEach(y,(w,I)=>(d<I.largestBatchId&&(d=I.largestBatchId),l.get(w)?G.resolve():this.remoteDocumentCache.getEntry(e,w).next(k=>{p=p.insert(w,k)}))).next(()=>this.populateOverlays(e,y,l)).next(()=>this.computeViews(e,p,y,Ae())).next(w=>({batchId:d,changes:gw(w)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new pe(t)).next(i=>{let o=Ja();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,i,o){const l=t.collectionGroup;let h=Ja();return this.indexManager.getCollectionParents(e,l).next(d=>G.forEach(d,p=>{const y=function(I,k){return new Pl(k,null,I.explicitOrderBy.slice(),I.filters.slice(),I.limit,I.limitType,I.startAt,I.endAt)}(t,p.child(l));return this.getDocumentsMatchingCollectionQuery(e,y,i,o).next(w=>{w.forEach((I,k)=>{h=h.insert(I,k)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(e,t,i,o){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(h=>(l=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,l,o))).next(h=>{l.forEach((p,y)=>{const w=y.getKey();h.get(w)===null&&(h=h.insert(w,jt.newInvalidDocument(w)))});let d=Ja();return h.forEach((p,y)=>{const w=l.get(p);w!==void 0&&il(w.mutation,y,zn.empty(),rt.now()),Yc(t,y)&&(d=d.insert(p,y))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WC{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return G.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:ur(o.createTime)}}(t)),G.resolve()}getNamedQuery(e,t){return G.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(o){return{name:o.name,query:OC(o.bundledQuery),readTime:ur(o.readTime)}}(t)),G.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HC{constructor(){this.overlays=new tt(pe.comparator),this.Rr=new Map}getOverlay(e,t){return G.resolve(this.overlays.get(t))}getOverlays(e,t){const i=vs();return G.forEach(t,o=>this.getOverlay(e,o).next(l=>{l!==null&&i.set(o,l)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((o,l)=>{this.Et(e,t,l)}),G.resolve()}removeOverlaysForBatchId(e,t,i){const o=this.Rr.get(i);return o!==void 0&&(o.forEach(l=>this.overlays=this.overlays.remove(l)),this.Rr.delete(i)),G.resolve()}getOverlaysForCollection(e,t,i){const o=vs(),l=t.length+1,h=new pe(t.child("")),d=this.overlays.getIteratorFrom(h);for(;d.hasNext();){const p=d.getNext().value,y=p.getKey();if(!t.isPrefixOf(y.path))break;y.path.length===l&&p.largestBatchId>i&&o.set(p.getKey(),p)}return G.resolve(o)}getOverlaysForCollectionGroup(e,t,i,o){let l=new tt((y,w)=>y-w);const h=this.overlays.getIterator();for(;h.hasNext();){const y=h.getNext().value;if(y.getKey().getCollectionGroup()===t&&y.largestBatchId>i){let w=l.get(y.largestBatchId);w===null&&(w=vs(),l=l.insert(y.largestBatchId,w)),w.set(y.getKey(),y)}}const d=vs(),p=l.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((y,w)=>d.set(y,w)),!(d.size()>=o)););return G.resolve(d)}Et(e,t,i){const o=this.overlays.get(i.key);if(o!==null){const h=this.Rr.get(o.largestBatchId).delete(i.key);this.Rr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(i.key,new uC(t,i));let l=this.Rr.get(t);l===void 0&&(l=Ae(),this.Rr.set(t,l)),this.Rr.set(t,l.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qC{constructor(){this.sessionToken=Nt.EMPTY_BYTE_STRING}getSessionToken(e){return G.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,G.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zf{constructor(){this.Vr=new yt(St.mr),this.gr=new yt(St.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const i=new St(e,t);this.Vr=this.Vr.add(i),this.gr=this.gr.add(i)}yr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.wr(new St(e,t))}Sr(e,t){e.forEach(i=>this.removeReference(i,t))}br(e){const t=new pe(new Qe([])),i=new St(t,e),o=new St(t,e+1),l=[];return this.gr.forEachInRange([i,o],h=>{this.wr(h),l.push(h.key)}),l}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new pe(new Qe([])),i=new St(t,e),o=new St(t,e+1);let l=Ae();return this.gr.forEachInRange([i,o],h=>{l=l.add(h.key)}),l}containsKey(e){const t=new St(e,0),i=this.Vr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class St{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return pe.comparator(e.key,t.key)||Ne(e.Cr,t.Cr)}static pr(e,t){return Ne(e.Cr,t.Cr)||pe.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KC{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new yt(St.mr)}checkEmpty(e){return G.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,o){const l=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new lC(l,t,i,o);this.mutationQueue.push(h);for(const d of o)this.Mr=this.Mr.add(new St(d.key,l)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return G.resolve(h)}lookupMutationBatch(e,t){return G.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,o=this.Nr(i),l=o<0?0:o;return G.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return G.resolve(this.mutationQueue.length===0?Wf:this.Fr-1)}getAllMutationBatches(e){return G.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new St(t,0),o=new St(t,Number.POSITIVE_INFINITY),l=[];return this.Mr.forEachInRange([i,o],h=>{const d=this.Or(h.Cr);l.push(d)}),G.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new yt(Ne);return t.forEach(o=>{const l=new St(o,0),h=new St(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([l,h],d=>{i=i.add(d.Cr)})}),G.resolve(this.Br(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,o=i.length+1;let l=i;pe.isDocumentKey(l)||(l=l.child(""));const h=new St(new pe(l),0);let d=new yt(Ne);return this.Mr.forEachWhile(p=>{const y=p.key.path;return!!i.isPrefixOf(y)&&(y.length===o&&(d=d.add(p.Cr)),!0)},h),G.resolve(this.Br(d))}Br(e){const t=[];return e.forEach(i=>{const o=this.Or(i);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){Ue(this.Lr(t.batchId,"removed")===0),this.mutationQueue.shift();let i=this.Mr;return G.forEach(t.mutations,o=>{const l=new St(o.key,t.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Mr=i})}qn(e){}containsKey(e,t){const i=new St(t,0),o=this.Mr.firstAfterOrEqual(i);return G.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,G.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GC{constructor(e){this.kr=e,this.docs=function(){return new tt(pe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,o=this.docs.get(i),l=o?o.size:0,h=this.kr(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:h}),this.size+=h-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return G.resolve(i?i.document.mutableCopy():jt.newInvalidDocument(t))}getEntries(e,t){let i=Br();return t.forEach(o=>{const l=this.docs.get(o);i=i.insert(o,l?l.document.mutableCopy():jt.newInvalidDocument(o))}),G.resolve(i)}getDocumentsMatchingQuery(e,t,i,o){let l=Br();const h=t.path,d=new pe(h.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(d);for(;p.hasNext();){const{key:y,value:{document:w}}=p.getNext();if(!h.isPrefixOf(y.path))break;y.path.length>h.length+1||IR(TR(w),i)<=0||(o.has(w.key)||Yc(t,w))&&(l=l.insert(w.key,w.mutableCopy()))}return G.resolve(l)}getAllFromCollectionGroup(e,t,i,o){_e()}qr(e,t){return G.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new QC(this)}getSize(e){return G.resolve(this.size)}}class QC extends zC{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach((i,o)=>{o.isValidDocument()?t.push(this.Ir.addEntry(e,o)):this.Ir.removeEntry(i)}),G.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YC{constructor(e){this.persistence=e,this.Qr=new Cs(t=>Kf(t),Gf),this.lastRemoteSnapshotVersion=Te.min(),this.highestTargetId=0,this.$r=0,this.Kr=new Zf,this.targetCount=0,this.Ur=zo.Kn()}forEachTarget(e,t){return this.Qr.forEach((i,o)=>t(o)),G.resolve()}getLastRemoteSnapshotVersion(e){return G.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return G.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),G.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.$r&&(this.$r=t),G.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ur=new zo(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,G.resolve()}updateTargetData(e,t){return this.zn(t),G.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Kr.br(t.targetId),this.targetCount-=1,G.resolve()}removeTargets(e,t,i){let o=0;const l=[];return this.Qr.forEach((h,d)=>{d.sequenceNumber<=t&&i.get(d.targetId)===null&&(this.Qr.delete(h),l.push(this.removeMatchingKeysForTargetId(e,d.targetId)),o++)}),G.waitFor(l).next(()=>o)}getTargetCount(e){return G.resolve(this.targetCount)}getTargetData(e,t){const i=this.Qr.get(t)||null;return G.resolve(i)}addMatchingKeys(e,t,i){return this.Kr.yr(t,i),G.resolve()}removeMatchingKeys(e,t,i){this.Kr.Sr(t,i);const o=this.persistence.referenceDelegate,l=[];return o&&t.forEach(h=>{l.push(o.markPotentiallyOrphaned(e,h))}),G.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.Kr.br(t),G.resolve()}getMatchingKeysForTargetId(e,t){const i=this.Kr.vr(t);return G.resolve(i)}containsKey(e,t){return G.resolve(this.Kr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lw{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new qc(0),this.zr=!1,this.zr=!0,this.jr=new qC,this.referenceDelegate=e(this),this.Hr=new YC(this),this.indexManager=new bC,this.remoteDocumentCache=function(o){return new GC(o)}(i=>this.referenceDelegate.Jr(i)),this.serializer=new DC(t),this.Yr=new WC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new HC,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.Wr[e.toKey()];return i||(i=new KC(t,this.referenceDelegate),this.Wr[e.toKey()]=i),i}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,i){oe("MemoryPersistence","Starting transaction:",e);const o=new XC(this.Gr.next());return this.referenceDelegate.Zr(),i(o).next(l=>this.referenceDelegate.Xr(o).next(()=>l)).toPromise().then(l=>(o.raiseOnCommittedEvent(),l))}ei(e,t){return G.or(Object.values(this.Wr).map(i=>()=>i.containsKey(e,t)))}}class XC extends PR{constructor(e){super(),this.currentSequenceNumber=e}}class ep{constructor(e){this.persistence=e,this.ti=new Zf,this.ni=null}static ri(e){return new ep(e)}get ii(){if(this.ni)return this.ni;throw _e()}addReference(e,t,i){return this.ti.addReference(i,t),this.ii.delete(i.toString()),G.resolve()}removeReference(e,t,i){return this.ti.removeReference(i,t),this.ii.add(i.toString()),G.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),G.resolve()}removeTarget(e,t){this.ti.br(t.targetId).forEach(o=>this.ii.add(o.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(l=>this.ii.add(l.toString()))}).next(()=>i.removeTargetData(e,t))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return G.forEach(this.ii,i=>{const o=pe.fromPath(i);return this.si(e,o).next(l=>{l||t.removeEntry(o,Te.min())})}).next(()=>(this.ni=null,t.apply(e)))}updateLimboDocument(e,t){return this.si(e,t).next(i=>{i?this.ii.delete(t.toString()):this.ii.add(t.toString())})}Jr(e){return 0}si(e,t){return G.or([()=>G.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class xc{constructor(e,t){this.persistence=e,this.oi=new Cs(i=>CR(i.path),(i,o)=>i.isEqual(o)),this.garbageCollector=jC(this,t)}static ri(e,t){return new xc(e,t)}Zr(){}Xr(e){return G.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>t.next(o=>i+o))}sr(e){let t=0;return this.rr(e,i=>{t++}).next(()=>t)}rr(e,t){return G.forEach(this.oi,(i,o)=>this.ar(e,i,o).next(l=>l?G.resolve():t(o)))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const o=this.persistence.getRemoteDocumentCache(),l=o.newChangeBuffer();return o.qr(e,h=>this.ar(e,h,t).next(d=>{d||(i++,l.removeEntry(h,Te.min()))})).next(()=>l.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),G.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.oi.set(i,e.currentSequenceNumber),G.resolve()}removeReference(e,t,i){return this.oi.set(i,e.currentSequenceNumber),G.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),G.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=ac(e.data.value)),t}ar(e,t,i){return G.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.oi.get(t);return G.resolve(o!==void 0&&o>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tp{constructor(e,t,i,o){this.targetId=e,this.fromCache=t,this.Hi=i,this.Ji=o}static Yi(e,t){let i=Ae(),o=Ae();for(const l of t.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new tp(e,t.fromCache,i,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZC{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return CI()?8:kR(zt())>0?6:4}()}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,i,o){const l={result:null};return this.rs(e,t).next(h=>{l.result=h}).next(()=>{if(!l.result)return this.ss(e,t,o,i).next(h=>{l.result=h})}).next(()=>{if(l.result)return;const h=new JC;return this._s(e,t,h).next(d=>{if(l.result=d,this.Xi)return this.us(e,t,h,d.size)})}).next(()=>l.result)}us(e,t,i,o){return i.documentReadCount<this.es?(Po()<=Ce.DEBUG&&oe("QueryEngine","SDK will not create cache indexes for query:",ko(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),G.resolve()):(Po()<=Ce.DEBUG&&oe("QueryEngine","Query:",ko(t),"scans",i.documentReadCount,"local documents and returns",o,"documents as results."),i.documentReadCount>this.ts*o?(Po()<=Ce.DEBUG&&oe("QueryEngine","The SDK decides to create cache indexes for query:",ko(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,lr(t))):G.resolve())}rs(e,t){if(Ly(t))return G.resolve(null);let i=lr(t);return this.indexManager.getIndexType(e,i).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=mf(t,null,"F"),i=lr(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(l=>{const h=Ae(...l);return this.ns.getDocuments(e,h).next(d=>this.indexManager.getMinOffset(e,i).next(p=>{const y=this.cs(t,d);return this.ls(t,y,h,p.readTime)?this.rs(e,mf(t,null,"F")):this.hs(e,y,t,p)}))})))}ss(e,t,i,o){return Ly(t)||o.isEqual(Te.min())?G.resolve(null):this.ns.getDocuments(e,i).next(l=>{const h=this.cs(t,l);return this.ls(t,h,i,o)?G.resolve(null):(Po()<=Ce.DEBUG&&oe("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),ko(t)),this.hs(e,h,t,ER(o,ul)).next(d=>d))})}cs(e,t){let i=new yt(pw(e));return t.forEach((o,l)=>{Yc(e,l)&&(i=i.add(l))}),i}ls(e,t,i,o){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}_s(e,t,i){return Po()<=Ce.DEBUG&&oe("QueryEngine","Using full collection scan to execute query:",ko(t)),this.ns.getDocumentsMatchingQuery(e,t,Di.min(),i)}hs(e,t,i,o){return this.ns.getDocumentsMatchingQuery(e,i,o).next(l=>(t.forEach(h=>{l=l.insert(h.key,h)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const np="LocalStore",eA=3e8;class tA{constructor(e,t,i,o){this.persistence=e,this.Ps=t,this.serializer=o,this.Ts=new tt(Ne),this.Is=new Cs(l=>Kf(l),Gf),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(i)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new $C(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ts))}}function nA(n,e,t,i){return new tA(n,e,t,i)}async function Fw(n,e){const t=Ie(n);return await t.persistence.runTransaction("Handle user change","readonly",i=>{let o;return t.mutationQueue.getAllMutationBatches(i).next(l=>(o=l,t.As(e),t.mutationQueue.getAllMutationBatches(i))).next(l=>{const h=[],d=[];let p=Ae();for(const y of o){h.push(y.batchId);for(const w of y.mutations)p=p.add(w.key)}for(const y of l){d.push(y.batchId);for(const w of y.mutations)p=p.add(w.key)}return t.localDocuments.getDocuments(i,p).next(y=>({Rs:y,removedBatchIds:h,addedBatchIds:d}))})})}function rA(n,e){const t=Ie(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const o=e.batch.keys(),l=t.ds.newChangeBuffer({trackRemovals:!0});return function(d,p,y,w){const I=y.batch,k=I.keys();let D=G.resolve();return k.forEach(M=>{D=D.next(()=>w.getEntry(p,M)).next(B=>{const V=y.docVersions.get(M);Ue(V!==null),B.version.compareTo(V)<0&&(I.applyToRemoteDocument(B,y),B.isValidDocument()&&(B.setReadTime(y.commitVersion),w.addEntry(B)))})}),D.next(()=>d.mutationQueue.removeMutationBatch(p,I))}(t,i,e,l).next(()=>l.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(d){let p=Ae();for(let y=0;y<d.mutationResults.length;++y)d.mutationResults[y].transformResults.length>0&&(p=p.add(d.batch.mutations[y].key));return p}(e))).next(()=>t.localDocuments.getDocuments(i,o))})}function Uw(n){const e=Ie(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Hr.getLastRemoteSnapshotVersion(t))}function iA(n,e){const t=Ie(n),i=e.snapshotVersion;let o=t.Ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const h=t.ds.newChangeBuffer({trackRemovals:!0});o=t.Ts;const d=[];e.targetChanges.forEach((w,I)=>{const k=o.get(I);if(!k)return;d.push(t.Hr.removeMatchingKeys(l,w.removedDocuments,I).next(()=>t.Hr.addMatchingKeys(l,w.addedDocuments,I)));let D=k.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(I)!==null?D=D.withResumeToken(Nt.EMPTY_BYTE_STRING,Te.min()).withLastLimboFreeSnapshotVersion(Te.min()):w.resumeToken.approximateByteSize()>0&&(D=D.withResumeToken(w.resumeToken,i)),o=o.insert(I,D),function(B,V,q){return B.resumeToken.approximateByteSize()===0||V.snapshotVersion.toMicroseconds()-B.snapshotVersion.toMicroseconds()>=eA?!0:q.addedDocuments.size+q.modifiedDocuments.size+q.removedDocuments.size>0}(k,D,w)&&d.push(t.Hr.updateTargetData(l,D))});let p=Br(),y=Ae();if(e.documentUpdates.forEach(w=>{e.resolvedLimboDocuments.has(w)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(l,w))}),d.push(sA(l,h,e.documentUpdates).next(w=>{p=w.Vs,y=w.fs})),!i.isEqual(Te.min())){const w=t.Hr.getLastRemoteSnapshotVersion(l).next(I=>t.Hr.setTargetsMetadata(l,l.currentSequenceNumber,i));d.push(w)}return G.waitFor(d).next(()=>h.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,p,y)).next(()=>p)}).then(l=>(t.Ts=o,l))}function sA(n,e,t){let i=Ae(),o=Ae();return t.forEach(l=>i=i.add(l)),e.getEntries(n,i).next(l=>{let h=Br();return t.forEach((d,p)=>{const y=l.get(d);p.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(d)),p.isNoDocument()&&p.version.isEqual(Te.min())?(e.removeEntry(d,p.readTime),h=h.insert(d,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(p),h=h.insert(d,p)):oe(np,"Ignoring outdated watch update for ",d,". Current version:",y.version," Watch version:",p.version)}),{Vs:h,fs:o}})}function oA(n,e){const t=Ie(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=Wf),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function aA(n,e){const t=Ie(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let o;return t.Hr.getTargetData(i,e).next(l=>l?(o=l,G.resolve(o)):t.Hr.allocateTargetId(i).next(h=>(o=new Si(e,h,"TargetPurposeListen",i.currentSequenceNumber),t.Hr.addTargetData(i,o).next(()=>o))))}).then(i=>{const o=t.Ts.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ts=t.Ts.insert(i.targetId,i),t.Is.set(e,i.targetId)),i})}async function wf(n,e,t){const i=Ie(n),o=i.Ts.get(e),l=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",l,h=>i.persistence.referenceDelegate.removeTarget(h,o))}catch(h){if(!Qo(h))throw h;oe(np,`Failed to update sequence numbers for target ${e}: ${h}`)}i.Ts=i.Ts.remove(e),i.Is.delete(o.target)}function Yy(n,e,t){const i=Ie(n);let o=Te.min(),l=Ae();return i.persistence.runTransaction("Execute query","readwrite",h=>function(p,y,w){const I=Ie(p),k=I.Is.get(w);return k!==void 0?G.resolve(I.Ts.get(k)):I.Hr.getTargetData(y,w)}(i,h,lr(e)).next(d=>{if(d)return o=d.lastLimboFreeSnapshotVersion,i.Hr.getMatchingKeysForTargetId(h,d.targetId).next(p=>{l=p})}).next(()=>i.Ps.getDocumentsMatchingQuery(h,e,t?o:Te.min(),t?l:Ae())).next(d=>(lA(i,KR(e),d),{documents:d,gs:l})))}function lA(n,e,t){let i=n.Es.get(e)||Te.min();t.forEach((o,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)}),n.Es.set(e,i)}class Xy{constructor(){this.activeTargetIds=ZR()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class uA{constructor(){this.ho=new Xy,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,i){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new Xy,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cA{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jy="ConnectivityMonitor";class Zy{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){oe(Jy,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){oe(Jy,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ju=null;function Ef(){return Ju===null?Ju=function(){return 268435456+Math.round(2147483648*Math.random())}():Ju++,"0x"+Ju.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gd="RestConnection",hA={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class dA{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${i}/databases/${o}`,this.wo=this.databaseId.database===Ic?`project_id=${i}`:`project_id=${i}&database_id=${o}`}So(e,t,i,o,l){const h=Ef(),d=this.bo(e,t.toUriEncodedString());oe(Gd,`Sending RPC '${e}' ${h}:`,d,i);const p={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(p,o,l),this.vo(e,d,p,i).then(y=>(oe(Gd,`Received RPC '${e}' ${h}: `,y),y),y=>{throw Lo(Gd,`RPC '${e}' ${h} failed with error: `,y,"url: ",d,"request:",i),y})}Co(e,t,i,o,l,h){return this.So(e,t,i,o,l)}Do(e,t,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ko}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,l)=>e[l]=o),i&&i.headers.forEach((o,l)=>e[l]=o)}bo(e,t){const i=hA[e];return`${this.po}/v1/${t}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fA{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ft="WebChannelConnection";class pA extends dA{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,i,o){const l=Ef();return new Promise((h,d)=>{const p=new B_;p.setWithCredentials(!0),p.listenOnce($_.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case oc.NO_ERROR:const w=p.getResponseJson();oe(Ft,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(w)),h(w);break;case oc.TIMEOUT:oe(Ft,`RPC '${e}' ${l} timed out`),d(new ce(X.DEADLINE_EXCEEDED,"Request time out"));break;case oc.HTTP_ERROR:const I=p.getStatus();if(oe(Ft,`RPC '${e}' ${l} failed with status:`,I,"response text:",p.getResponseText()),I>0){let k=p.getResponseJson();Array.isArray(k)&&(k=k[0]);const D=k==null?void 0:k.error;if(D&&D.status&&D.message){const M=function(V){const q=V.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(q)>=0?q:X.UNKNOWN}(D.status);d(new ce(M,D.message))}else d(new ce(X.UNKNOWN,"Server responded with status "+p.getStatus()))}else d(new ce(X.UNAVAILABLE,"Connection failed."));break;default:_e()}}finally{oe(Ft,`RPC '${e}' ${l} completed.`)}});const y=JSON.stringify(o);oe(Ft,`RPC '${e}' ${l} sending request:`,o),p.send(t,"POST",y,i,15)})}Wo(e,t,i){const o=Ef(),l=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=q_(),d=H_(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Do(p.initMessageHeaders,t,i),p.encodeInitMessageHeaders=!0;const w=l.join("");oe(Ft,`Creating RPC '${e}' stream ${o}: ${w}`,p);const I=h.createWebChannel(w,p);let k=!1,D=!1;const M=new fA({Fo:V=>{D?oe(Ft,`Not sending because RPC '${e}' stream ${o} is closed:`,V):(k||(oe(Ft,`Opening RPC '${e}' stream ${o} transport.`),I.open(),k=!0),oe(Ft,`RPC '${e}' stream ${o} sending:`,V),I.send(V))},Mo:()=>I.close()}),B=(V,q,Q)=>{V.listen(q,K=>{try{Q(K)}catch(ae){setTimeout(()=>{throw ae},0)}})};return B(I,Xa.EventType.OPEN,()=>{D||(oe(Ft,`RPC '${e}' stream ${o} transport opened.`),M.Qo())}),B(I,Xa.EventType.CLOSE,()=>{D||(D=!0,oe(Ft,`RPC '${e}' stream ${o} transport closed`),M.Ko())}),B(I,Xa.EventType.ERROR,V=>{D||(D=!0,Lo(Ft,`RPC '${e}' stream ${o} transport errored:`,V),M.Ko(new ce(X.UNAVAILABLE,"The operation could not be completed")))}),B(I,Xa.EventType.MESSAGE,V=>{var q;if(!D){const Q=V.data[0];Ue(!!Q);const K=Q,ae=(K==null?void 0:K.error)||((q=K[0])===null||q===void 0?void 0:q.error);if(ae){oe(Ft,`RPC '${e}' stream ${o} received error:`,ae);const Se=ae.status;let Ee=function(S){const A=ct[S];if(A!==void 0)return kw(A)}(Se),x=ae.message;Ee===void 0&&(Ee=X.INTERNAL,x="Unknown error status: "+Se+" with message "+ae.message),D=!0,M.Ko(new ce(Ee,x)),I.close()}else oe(Ft,`RPC '${e}' stream ${o} received:`,Q),M.Uo(Q)}}),B(d,W_.STAT_EVENT,V=>{V.stat===uf.PROXY?oe(Ft,`RPC '${e}' stream ${o} detected buffering proxy`):V.stat===uf.NOPROXY&&oe(Ft,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{M.$o()},0),M}}function Qd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eh(n){return new vC(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jw{constructor(e,t,i=1e3,o=1.5,l=6e4){this.Ti=e,this.timerId=t,this.Go=i,this.zo=o,this.jo=l,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),i=Math.max(0,Date.now()-this.Yo),o=Math.max(0,t-i);o>0&&oe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ev="PersistentStream";class zw{constructor(e,t,i,o,l,h,d,p){this.Ti=e,this.n_=i,this.r_=o,this.connection=l,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=d,this.listener=p,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new jw(e,t)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():t&&t.code===X.RESOURCE_EXHAUSTED?(zr(t.toString()),zr("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,o])=>{this.i_===t&&this.V_(i,o)},i=>{e(()=>{const o=new ce(X.UNKNOWN,"Fetching auth token failed: "+i.message);return this.m_(o)})})}V_(e,t){const i=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo(()=>{i(()=>this.listener.xo())}),this.stream.No(()=>{i(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(o=>{i(()=>this.m_(o))}),this.stream.onMessage(o=>{i(()=>++this.__==1?this.g_(o):this.onNext(o))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return oe(ev,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget(()=>this.i_===e?t():(oe(ev,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class mA extends zw{constructor(e,t,i,o,l,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,o,h),this.serializer=l}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=EC(this.serializer,e),i=function(l){if(!("targetChange"in l))return Te.min();const h=l.targetChange;return h.targetIds&&h.targetIds.length?Te.min():h.readTime?ur(h.readTime):Te.min()}(e);return this.listener.p_(t,i)}y_(e){const t={};t.database=_f(this.serializer),t.addTarget=function(l,h){let d;const p=h.target;if(d=ff(p)?{documents:SC(l,p)}:{query:PC(l,p).ht},d.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){d.resumeToken=Aw(l,h.resumeToken);const y=gf(l,h.expectedCount);y!==null&&(d.expectedCount=y)}else if(h.snapshotVersion.compareTo(Te.min())>0){d.readTime=Ac(l,h.snapshotVersion.toTimestamp());const y=gf(l,h.expectedCount);y!==null&&(d.expectedCount=y)}return d}(this.serializer,e);const i=RC(this.serializer,e);i&&(t.labels=i),this.I_(t)}w_(e){const t={};t.database=_f(this.serializer),t.removeTarget=e,this.I_(t)}}class gA extends zw{constructor(e,t,i,o,l,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,o,h),this.serializer=l}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return Ue(!!e.streamToken),this.lastStreamToken=e.streamToken,Ue(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){Ue(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=IC(e.writeResults,e.commitTime),i=ur(e.commitTime);return this.listener.v_(i,t)}C_(){const e={};e.database=_f(this.serializer),this.I_(e)}b_(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>TC(this.serializer,i))};this.I_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yA{}class vA extends yA{constructor(e,t,i,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new ce(X.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,t,i,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,h])=>this.connection.So(e,yf(t,i),o,l,h)).catch(l=>{throw l.name==="FirebaseError"?(l.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ce(X.UNKNOWN,l.toString())})}Co(e,t,i,o,l){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,d])=>this.connection.Co(e,yf(t,i),o,h,d,l)).catch(h=>{throw h.name==="FirebaseError"?(h.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ce(X.UNKNOWN,h.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class _A{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(zr(t),this.N_=!1):oe("OnlineStateTracker",t)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ss="RemoteStore";class wA{constructor(e,t,i,o,l){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=l,this.z_.To(h=>{i.enqueueAndForget(async()=>{xs(this)&&(oe(Ss,"Restarting streams for network reachability change."),await async function(p){const y=Ie(p);y.W_.add(4),await Cl(y),y.j_.set("Unknown"),y.W_.delete(4),await th(y)}(this))})}),this.j_=new _A(i,o)}}async function th(n){if(xs(n))for(const e of n.G_)await e(!0)}async function Cl(n){for(const e of n.G_)await e(!1)}function Bw(n,e){const t=Ie(n);t.U_.has(e.targetId)||(t.U_.set(e.targetId,e),op(t)?sp(t):Yo(t).c_()&&ip(t,e))}function rp(n,e){const t=Ie(n),i=Yo(t);t.U_.delete(e),i.c_()&&$w(t,e),t.U_.size===0&&(i.c_()?i.P_():xs(t)&&t.j_.set("Unknown"))}function ip(n,e){if(n.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Te.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Yo(n).y_(e)}function $w(n,e){n.H_.Ne(e),Yo(n).w_(e)}function sp(n){n.H_=new pC({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>n.U_.get(e)||null,it:()=>n.datastore.serializer.databaseId}),Yo(n).start(),n.j_.B_()}function op(n){return xs(n)&&!Yo(n).u_()&&n.U_.size>0}function xs(n){return Ie(n).W_.size===0}function Ww(n){n.H_=void 0}async function EA(n){n.j_.set("Online")}async function TA(n){n.U_.forEach((e,t)=>{ip(n,e)})}async function IA(n,e){Ww(n),op(n)?(n.j_.q_(e),sp(n)):n.j_.set("Unknown")}async function SA(n,e,t){if(n.j_.set("Online"),e instanceof Cw&&e.state===2&&e.cause)try{await async function(o,l){const h=l.cause;for(const d of l.targetIds)o.U_.has(d)&&(await o.remoteSyncer.rejectListen(d,h),o.U_.delete(d),o.H_.removeTarget(d))}(n,e)}catch(i){oe(Ss,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Nc(n,i)}else if(e instanceof cc?n.H_.We(e):e instanceof Rw?n.H_.Ze(e):n.H_.je(e),!t.isEqual(Te.min()))try{const i=await Uw(n.localStore);t.compareTo(i)>=0&&await function(l,h){const d=l.H_.ot(h);return d.targetChanges.forEach((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const w=l.U_.get(y);w&&l.U_.set(y,w.withResumeToken(p.resumeToken,h))}}),d.targetMismatches.forEach((p,y)=>{const w=l.U_.get(p);if(!w)return;l.U_.set(p,w.withResumeToken(Nt.EMPTY_BYTE_STRING,w.snapshotVersion)),$w(l,p);const I=new Si(w.target,p,y,w.sequenceNumber);ip(l,I)}),l.remoteSyncer.applyRemoteEvent(d)}(n,t)}catch(i){oe(Ss,"Failed to raise snapshot:",i),await Nc(n,i)}}async function Nc(n,e,t){if(!Qo(e))throw e;n.W_.add(1),await Cl(n),n.j_.set("Offline"),t||(t=()=>Uw(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{oe(Ss,"Retrying IndexedDB access"),await t(),n.W_.delete(1),await th(n)})}function Hw(n,e){return e().catch(t=>Nc(n,t,e))}async function nh(n){const e=Ie(n),t=Mi(e);let i=e.K_.length>0?e.K_[e.K_.length-1].batchId:Wf;for(;PA(e);)try{const o=await oA(e.localStore,i);if(o===null){e.K_.length===0&&t.P_();break}i=o.batchId,kA(e,o)}catch(o){await Nc(e,o)}qw(e)&&Kw(e)}function PA(n){return xs(n)&&n.K_.length<10}function kA(n,e){n.K_.push(e);const t=Mi(n);t.c_()&&t.S_&&t.b_(e.mutations)}function qw(n){return xs(n)&&!Mi(n).u_()&&n.K_.length>0}function Kw(n){Mi(n).start()}async function RA(n){Mi(n).C_()}async function CA(n){const e=Mi(n);for(const t of n.K_)e.b_(t.mutations)}async function AA(n,e,t){const i=n.K_.shift(),o=Yf.from(i,e,t);await Hw(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),await nh(n)}async function xA(n,e){e&&Mi(n).S_&&await async function(i,o){if(function(h){return hC(h)&&h!==X.ABORTED}(o.code)){const l=i.K_.shift();Mi(i).h_(),await Hw(i,()=>i.remoteSyncer.rejectFailedWrite(l.batchId,o)),await nh(i)}}(n,e),qw(n)&&Kw(n)}async function tv(n,e){const t=Ie(n);t.asyncQueue.verifyOperationInProgress(),oe(Ss,"RemoteStore received new credentials");const i=xs(t);t.W_.add(3),await Cl(t),i&&t.j_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.W_.delete(3),await th(t)}async function NA(n,e){const t=Ie(n);e?(t.W_.delete(2),await th(t)):e||(t.W_.add(2),await Cl(t),t.j_.set("Unknown"))}function Yo(n){return n.J_||(n.J_=function(t,i,o){const l=Ie(t);return l.M_(),new mA(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(n.datastore,n.asyncQueue,{xo:EA.bind(null,n),No:TA.bind(null,n),Lo:IA.bind(null,n),p_:SA.bind(null,n)}),n.G_.push(async e=>{e?(n.J_.h_(),op(n)?sp(n):n.j_.set("Unknown")):(await n.J_.stop(),Ww(n))})),n.J_}function Mi(n){return n.Y_||(n.Y_=function(t,i,o){const l=Ie(t);return l.M_(),new gA(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(n.datastore,n.asyncQueue,{xo:()=>Promise.resolve(),No:RA.bind(null,n),Lo:xA.bind(null,n),D_:CA.bind(null,n),v_:AA.bind(null,n)}),n.G_.push(async e=>{e?(n.Y_.h_(),await nh(n)):(await n.Y_.stop(),n.K_.length>0&&(oe(Ss,`Stopping write stream with ${n.K_.length} pending writes`),n.K_=[]))})),n.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ap{constructor(e,t,i,o,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=o,this.removalCallback=l,this.deferred=new Ai,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,o,l){const h=Date.now()+i,d=new ap(e,t,h,o,l);return d.start(i),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ce(X.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function lp(n,e){if(zr("AsyncQueue",`${e}: ${n}`),Qo(n))return new ce(X.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo{static emptySet(e){return new Oo(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||pe.comparator(t.key,i.key):(t,i)=>pe.comparator(t.key,i.key),this.keyedMap=Ja(),this.sortedSet=new tt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Oo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=i.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new Oo;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nv{constructor(){this.Z_=new tt(pe.comparator)}track(e){const t=e.doc.key,i=this.Z_.get(t);i?e.type!==0&&i.type===3?this.Z_=this.Z_.insert(t,e):e.type===3&&i.type!==1?this.Z_=this.Z_.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.Z_=this.Z_.remove(t):e.type===1&&i.type===2?this.Z_=this.Z_.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):_e():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal((t,i)=>{e.push(i)}),e}}class Bo{constructor(e,t,i,o,l,h,d,p,y){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=l,this.fromCache=h,this.syncStateChanged=d,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(e,t,i,o,l){const h=[];return t.forEach(d=>{h.push({type:0,doc:d})}),new Bo(e,t,Oo.emptySet(t),h,i,o,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Qc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==i[o].type||!t[o].doc.isEqual(i[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DA{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class OA{constructor(){this.queries=rv(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(t,i){const o=Ie(t),l=o.queries;o.queries=rv(),l.forEach((h,d)=>{for(const p of d.ta)p.onError(i)})})(this,new ce(X.ABORTED,"Firestore shutting down"))}}function rv(){return new Cs(n=>fw(n),Qc)}async function bA(n,e){const t=Ie(n);let i=3;const o=e.query;let l=t.queries.get(o);l?!l.na()&&e.ra()&&(i=2):(l=new DA,i=e.ra()?0:1);try{switch(i){case 0:l.ea=await t.onListen(o,!0);break;case 1:l.ea=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(h){const d=lp(h,`Initialization of query '${ko(e.query)}' failed`);return void e.onError(d)}t.queries.set(o,l),l.ta.push(e),e.sa(t.onlineState),l.ea&&e.oa(l.ea)&&up(t)}async function VA(n,e){const t=Ie(n),i=e.query;let o=3;const l=t.queries.get(i);if(l){const h=l.ta.indexOf(e);h>=0&&(l.ta.splice(h,1),l.ta.length===0?o=e.ra()?0:1:!l.na()&&e.ra()&&(o=2))}switch(o){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function MA(n,e){const t=Ie(n);let i=!1;for(const o of e){const l=o.query,h=t.queries.get(l);if(h){for(const d of h.ta)d.oa(o)&&(i=!0);h.ea=o}}i&&up(t)}function LA(n,e,t){const i=Ie(n),o=i.queries.get(e);if(o)for(const l of o.ta)l.onError(t);i.queries.delete(e)}function up(n){n.ia.forEach(e=>{e.next()})}var Tf,iv;(iv=Tf||(Tf={}))._a="default",iv.Cache="cache";class FA{constructor(e,t,i){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=i||{}}oa(e){if(!this.options.includeMetadataChanges){const i=[];for(const o of e.docChanges)o.type!==3&&i.push(o);e=new Bo(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache||!this.ra())return!0;const i=t!=="Offline";return(!this.options.Ta||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Pa(e){e=Bo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==Tf.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gw{constructor(e){this.key=e}}class Qw{constructor(e){this.key=e}}class UA{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Ae(),this.mutatedKeys=Ae(),this.ya=pw(e),this.wa=new Oo(this.ya)}get Sa(){return this.fa}ba(e,t){const i=t?t.Da:new nv,o=t?t.wa:this.wa;let l=t?t.mutatedKeys:this.mutatedKeys,h=o,d=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((w,I)=>{const k=o.get(w),D=Yc(this.query,I)?I:null,M=!!k&&this.mutatedKeys.has(k.key),B=!!D&&(D.hasLocalMutations||this.mutatedKeys.has(D.key)&&D.hasCommittedMutations);let V=!1;k&&D?k.data.isEqual(D.data)?M!==B&&(i.track({type:3,doc:D}),V=!0):this.va(k,D)||(i.track({type:2,doc:D}),V=!0,(p&&this.ya(D,p)>0||y&&this.ya(D,y)<0)&&(d=!0)):!k&&D?(i.track({type:0,doc:D}),V=!0):k&&!D&&(i.track({type:1,doc:k}),V=!0,(p||y)&&(d=!0)),V&&(D?(h=h.add(D),l=B?l.add(w):l.delete(w)):(h=h.delete(w),l=l.delete(w)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const w=this.query.limitType==="F"?h.last():h.first();h=h.delete(w.key),l=l.delete(w.key),i.track({type:1,doc:w})}return{wa:h,Da:i,ls:d,mutatedKeys:l}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,o){const l=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const h=e.Da.X_();h.sort((w,I)=>function(D,M){const B=V=>{switch(V){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _e()}};return B(D)-B(M)}(w.type,I.type)||this.ya(w.doc,I.doc)),this.Ca(i),o=o!=null&&o;const d=t&&!o?this.Fa():[],p=this.pa.size===0&&this.current&&!o?1:0,y=p!==this.ga;return this.ga=p,h.length!==0||y?{snapshot:new Bo(this.query,e.wa,l,h,e.mutatedKeys,p===0,y,!1,!!i&&i.resumeToken.approximateByteSize()>0),Ma:d}:{Ma:d}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new nv,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(t=>this.fa=this.fa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.fa=this.fa.delete(t)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Ae(),this.wa.forEach(i=>{this.xa(i.key)&&(this.pa=this.pa.add(i.key))});const t=[];return e.forEach(i=>{this.pa.has(i)||t.push(new Qw(i))}),this.pa.forEach(i=>{e.has(i)||t.push(new Gw(i))}),t}Oa(e){this.fa=e.gs,this.pa=Ae();const t=this.ba(e.documents);return this.applyChanges(t,!0)}Na(){return Bo.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const cp="SyncEngine";class jA{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class zA{constructor(e){this.key=e,this.Ba=!1}}class BA{constructor(e,t,i,o,l,h){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=h,this.La={},this.ka=new Cs(d=>fw(d),Qc),this.qa=new Map,this.Qa=new Set,this.$a=new tt(pe.comparator),this.Ka=new Map,this.Ua=new Zf,this.Wa={},this.Ga=new Map,this.za=zo.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function $A(n,e,t=!0){const i=tE(n);let o;const l=i.ka.get(e);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),o=l.view.Na()):o=await Yw(i,e,t,!0),o}async function WA(n,e){const t=tE(n);await Yw(t,e,!0,!1)}async function Yw(n,e,t,i){const o=await aA(n.localStore,lr(e)),l=o.targetId,h=n.sharedClientState.addLocalQueryTarget(l,t);let d;return i&&(d=await HA(n,e,l,h==="current",o.resumeToken)),n.isPrimaryClient&&t&&Bw(n.remoteStore,o),d}async function HA(n,e,t,i,o){n.Ha=(I,k,D)=>async function(B,V,q,Q){let K=V.view.ba(q);K.ls&&(K=await Yy(B.localStore,V.query,!1).then(({documents:x})=>V.view.ba(x,K)));const ae=Q&&Q.targetChanges.get(V.targetId),Se=Q&&Q.targetMismatches.get(V.targetId)!=null,Ee=V.view.applyChanges(K,B.isPrimaryClient,ae,Se);return ov(B,V.targetId,Ee.Ma),Ee.snapshot}(n,I,k,D);const l=await Yy(n.localStore,e,!0),h=new UA(e,l.gs),d=h.ba(l.documents),p=Rl.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",o),y=h.applyChanges(d,n.isPrimaryClient,p);ov(n,t,y.Ma);const w=new jA(e,t,h);return n.ka.set(e,w),n.qa.has(t)?n.qa.get(t).push(e):n.qa.set(t,[e]),y.snapshot}async function qA(n,e,t){const i=Ie(n),o=i.ka.get(e),l=i.qa.get(o.targetId);if(l.length>1)return i.qa.set(o.targetId,l.filter(h=>!Qc(h,e))),void i.ka.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(o.targetId),i.sharedClientState.isActiveQueryTarget(o.targetId)||await wf(i.localStore,o.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(o.targetId),t&&rp(i.remoteStore,o.targetId),If(i,o.targetId)}).catch(Go)):(If(i,o.targetId),await wf(i.localStore,o.targetId,!0))}async function KA(n,e){const t=Ie(n),i=t.ka.get(e),o=t.qa.get(i.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),rp(t.remoteStore,i.targetId))}async function GA(n,e,t){const i=t1(n);try{const o=await function(h,d){const p=Ie(h),y=rt.now(),w=d.reduce((D,M)=>D.add(M.key),Ae());let I,k;return p.persistence.runTransaction("Locally write mutations","readwrite",D=>{let M=Br(),B=Ae();return p.ds.getEntries(D,w).next(V=>{M=V,M.forEach((q,Q)=>{Q.isValidDocument()||(B=B.add(q))})}).next(()=>p.localDocuments.getOverlayedDocuments(D,M)).next(V=>{I=V;const q=[];for(const Q of d){const K=oC(Q,I.get(Q.key).overlayedDocument);K!=null&&q.push(new As(Q.key,K,iw(K.value.mapValue),Fr.exists(!0)))}return p.mutationQueue.addMutationBatch(D,y,q,d)}).next(V=>{k=V;const q=V.applyToLocalDocumentSet(I,B);return p.documentOverlayCache.saveOverlays(D,V.batchId,q)})}).then(()=>({batchId:k.batchId,changes:gw(I)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(o.batchId),function(h,d,p){let y=h.Wa[h.currentUser.toKey()];y||(y=new tt(Ne)),y=y.insert(d,p),h.Wa[h.currentUser.toKey()]=y}(i,o.batchId,t),await Al(i,o.changes),await nh(i.remoteStore)}catch(o){const l=lp(o,"Failed to persist write");t.reject(l)}}async function Xw(n,e){const t=Ie(n);try{const i=await iA(t.localStore,e);e.targetChanges.forEach((o,l)=>{const h=t.Ka.get(l);h&&(Ue(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?h.Ba=!0:o.modifiedDocuments.size>0?Ue(h.Ba):o.removedDocuments.size>0&&(Ue(h.Ba),h.Ba=!1))}),await Al(t,i,e)}catch(i){await Go(i)}}function sv(n,e,t){const i=Ie(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const o=[];i.ka.forEach((l,h)=>{const d=h.view.sa(e);d.snapshot&&o.push(d.snapshot)}),function(h,d){const p=Ie(h);p.onlineState=d;let y=!1;p.queries.forEach((w,I)=>{for(const k of I.ta)k.sa(d)&&(y=!0)}),y&&up(p)}(i.eventManager,e),o.length&&i.La.p_(o),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function QA(n,e,t){const i=Ie(n);i.sharedClientState.updateQueryState(e,"rejected",t);const o=i.Ka.get(e),l=o&&o.key;if(l){let h=new tt(pe.comparator);h=h.insert(l,jt.newNoDocument(l,Te.min()));const d=Ae().add(l),p=new Zc(Te.min(),new Map,new tt(Ne),h,d);await Xw(i,p),i.$a=i.$a.remove(l),i.Ka.delete(e),hp(i)}else await wf(i.localStore,e,!1).then(()=>If(i,e,t)).catch(Go)}async function YA(n,e){const t=Ie(n),i=e.batch.batchId;try{const o=await rA(t.localStore,e);Zw(t,i,null),Jw(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await Al(t,o)}catch(o){await Go(o)}}async function XA(n,e,t){const i=Ie(n);try{const o=await function(h,d){const p=Ie(h);return p.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let w;return p.mutationQueue.lookupMutationBatch(y,d).next(I=>(Ue(I!==null),w=I.keys(),p.mutationQueue.removeMutationBatch(y,I))).next(()=>p.mutationQueue.performConsistencyCheck(y)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(y,w,d)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,w)).next(()=>p.localDocuments.getDocuments(y,w))})}(i.localStore,e);Zw(i,e,t),Jw(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await Al(i,o)}catch(o){await Go(o)}}function Jw(n,e){(n.Ga.get(e)||[]).forEach(t=>{t.resolve()}),n.Ga.delete(e)}function Zw(n,e,t){const i=Ie(n);let o=i.Wa[i.currentUser.toKey()];if(o){const l=o.get(e);l&&(t?l.reject(t):l.resolve(),o=o.remove(e)),i.Wa[i.currentUser.toKey()]=o}}function If(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.qa.get(e))n.ka.delete(i),t&&n.La.Ja(i,t);n.qa.delete(e),n.isPrimaryClient&&n.Ua.br(e).forEach(i=>{n.Ua.containsKey(i)||eE(n,i)})}function eE(n,e){n.Qa.delete(e.path.canonicalString());const t=n.$a.get(e);t!==null&&(rp(n.remoteStore,t),n.$a=n.$a.remove(e),n.Ka.delete(t),hp(n))}function ov(n,e,t){for(const i of t)i instanceof Gw?(n.Ua.addReference(i.key,e),JA(n,i)):i instanceof Qw?(oe(cp,"Document no longer in limbo: "+i.key),n.Ua.removeReference(i.key,e),n.Ua.containsKey(i.key)||eE(n,i.key)):_e()}function JA(n,e){const t=e.key,i=t.path.canonicalString();n.$a.get(t)||n.Qa.has(i)||(oe(cp,"New document in limbo: "+t),n.Qa.add(i),hp(n))}function hp(n){for(;n.Qa.size>0&&n.$a.size<n.maxConcurrentLimboResolutions;){const e=n.Qa.values().next().value;n.Qa.delete(e);const t=new pe(Qe.fromString(e)),i=n.za.next();n.Ka.set(i,new zA(t)),n.$a=n.$a.insert(t,i),Bw(n.remoteStore,new Si(lr(hw(t.path)),i,"TargetPurposeLimboResolution",qc.ae))}}async function Al(n,e,t){const i=Ie(n),o=[],l=[],h=[];i.ka.isEmpty()||(i.ka.forEach((d,p)=>{h.push(i.Ha(p,e,t).then(y=>{var w;if((y||t)&&i.isPrimaryClient){const I=y?!y.fromCache:(w=t==null?void 0:t.targetChanges.get(p.targetId))===null||w===void 0?void 0:w.current;i.sharedClientState.updateQueryState(p.targetId,I?"current":"not-current")}if(y){o.push(y);const I=tp.Yi(p.targetId,y);l.push(I)}}))}),await Promise.all(h),i.La.p_(o),await async function(p,y){const w=Ie(p);try{await w.persistence.runTransaction("notifyLocalViewChanges","readwrite",I=>G.forEach(y,k=>G.forEach(k.Hi,D=>w.persistence.referenceDelegate.addReference(I,k.targetId,D)).next(()=>G.forEach(k.Ji,D=>w.persistence.referenceDelegate.removeReference(I,k.targetId,D)))))}catch(I){if(!Qo(I))throw I;oe(np,"Failed to update sequence numbers: "+I)}for(const I of y){const k=I.targetId;if(!I.fromCache){const D=w.Ts.get(k),M=D.snapshotVersion,B=D.withLastLimboFreeSnapshotVersion(M);w.Ts=w.Ts.insert(k,B)}}}(i.localStore,l))}async function ZA(n,e){const t=Ie(n);if(!t.currentUser.isEqual(e)){oe(cp,"User change. New user:",e.toKey());const i=await Fw(t.localStore,e);t.currentUser=e,function(l,h){l.Ga.forEach(d=>{d.forEach(p=>{p.reject(new ce(X.CANCELLED,h))})}),l.Ga.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Al(t,i.Rs)}}function e1(n,e){const t=Ie(n),i=t.Ka.get(e);if(i&&i.Ba)return Ae().add(i.key);{let o=Ae();const l=t.qa.get(e);if(!l)return o;for(const h of l){const d=t.ka.get(h);o=o.unionWith(d.view.Sa)}return o}}function tE(n){const e=Ie(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=Xw.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=e1.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=QA.bind(null,e),e.La.p_=MA.bind(null,e.eventManager),e.La.Ja=LA.bind(null,e.eventManager),e}function t1(n){const e=Ie(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=YA.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=XA.bind(null,e),e}class Dc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=eh(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return nA(this.persistence,new ZC,e.initialUser,this.serializer)}Xa(e){return new Lw(ep.ri,this.serializer)}Za(e){return new uA}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Dc.provider={build:()=>new Dc};class n1 extends Dc{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){Ue(this.persistence.referenceDelegate instanceof xc);const i=this.persistence.referenceDelegate.garbageCollector;return new FC(i,e.asyncQueue,t)}Xa(e){const t=this.cacheSizeBytes!==void 0?rn.withCacheSize(this.cacheSizeBytes):rn.DEFAULT;return new Lw(i=>xc.ri(i,t),this.serializer)}}class Sf{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>sv(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=ZA.bind(null,this.syncEngine),await NA(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new OA}()}createDatastore(e){const t=eh(e.databaseInfo.databaseId),i=function(l){return new pA(l)}(e.databaseInfo);return function(l,h,d,p){return new vA(l,h,d,p)}(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return function(i,o,l,h,d){return new wA(i,o,l,h,d)}(this.localStore,this.datastore,e.asyncQueue,t=>sv(this.syncEngine,t,0),function(){return Zy.D()?new Zy:new cA}())}createSyncEngine(e,t){return function(o,l,h,d,p,y,w){const I=new BA(o,l,h,d,p,y);return w&&(I.ja=!0),I}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const l=Ie(o);oe(Ss,"RemoteStore shutting down."),l.W_.add(5),await Cl(l),l.z_.shutdown(),l.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Sf.provider={build:()=>new Sf};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r1{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):zr("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Li="FirestoreClient";class i1{constructor(e,t,i,o,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=o,this.user=Ut.UNAUTHENTICATED,this.clientId=G_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,async h=>{oe(Li,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(i,h=>(oe(Li,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ai;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=lp(t,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function Yd(n,e){n.asyncQueue.verifyOperationInProgress(),oe(Li,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(async o=>{i.isEqual(o)||(await Fw(e.localStore,o),i=o)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function av(n,e){n.asyncQueue.verifyOperationInProgress();const t=await s1(n);oe(Li,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(i=>tv(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,o)=>tv(e.remoteStore,o)),n._onlineComponents=e}async function s1(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){oe(Li,"Using user provided OfflineComponentProvider");try{await Yd(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===X.FAILED_PRECONDITION||o.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;Lo("Error using user provided cache. Falling back to memory cache: "+t),await Yd(n,new Dc)}}else oe(Li,"Using default OfflineComponentProvider"),await Yd(n,new n1(void 0));return n._offlineComponents}async function nE(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(oe(Li,"Using user provided OnlineComponentProvider"),await av(n,n._uninitializedComponentsProvider._online)):(oe(Li,"Using default OnlineComponentProvider"),await av(n,new Sf))),n._onlineComponents}function o1(n){return nE(n).then(e=>e.syncEngine)}async function a1(n){const e=await nE(n),t=e.eventManager;return t.onListen=$A.bind(null,e.syncEngine),t.onUnlisten=qA.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=WA.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=KA.bind(null,e.syncEngine),t}function l1(n,e,t={}){const i=new Ai;return n.asyncQueue.enqueueAndForget(async()=>function(l,h,d,p,y){const w=new r1({next:k=>{w.su(),h.enqueueAndForget(()=>VA(l,I)),k.fromCache&&p.source==="server"?y.reject(new ce(X.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(k)},error:k=>y.reject(k)}),I=new FA(d,w,{includeMetadataChanges:!0,Ta:!0});return bA(l,I)}(await a1(n),n.asyncQueue,e,t,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rE(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lv=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iE(n,e,t){if(!t)throw new ce(X.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function u1(n,e,t,i){if(e===!0&&i===!0)throw new ce(X.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function uv(n){if(!pe.isDocumentKey(n))throw new ce(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function cv(n){if(pe.isDocumentKey(n))throw new ce(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function rh(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":_e()}function Oc(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ce(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=rh(n);throw new ce(X.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sE="firestore.googleapis.com",hv=!0;class dv{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new ce(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=sE,this.ssl=hv}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:hv;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Mw;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<MC)throw new ce(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}u1("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=rE((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new ce(X.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new ce(X.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new ce(X.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,o){return i.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ih{constructor(e,t,i,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new dv({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ce(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ce(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new dv(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new fR;switch(i.type){case"firstParty":return new yR(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new ce(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=lv.get(t);i&&(oe("ComponentProvider","Removing Datastore"),lv.delete(t),i.terminate())}(this),Promise.resolve()}}function c1(n,e,t,i={}){var o;const l=(n=Oc(n,ih))._getSettings(),h=`${e}:${t}`;if(l.host!==sE&&l.host!==h&&Lo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},l),{host:h,ssl:!1})),i.mockUserToken){let d,p;if(typeof i.mockUserToken=="string")d=i.mockUserToken,p=Ut.MOCK_USER;else{d=EI(i.mockUserToken,(o=n._app)===null||o===void 0?void 0:o.options.projectId);const y=i.mockUserToken.sub||i.mockUserToken.user_id;if(!y)throw new ce(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Ut(y)}n._authCredentials=new pR(new K_(d,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Xo(this.firestore,e,this._query)}}class Sn{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new xi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Sn(this.firestore,e,this._key)}}class xi extends Xo{constructor(e,t,i){super(e,t,hw(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Sn(this.firestore,null,new pe(e))}withConverter(e){return new xi(this.firestore,e,this._path)}}function oE(n,e,...t){if(n=Bt(n),iE("collection","path",e),n instanceof ih){const i=Qe.fromString(e,...t);return cv(i),new xi(n,null,i)}{if(!(n instanceof Sn||n instanceof xi))throw new ce(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Qe.fromString(e,...t));return cv(i),new xi(n.firestore,null,i)}}function h1(n,e,...t){if(n=Bt(n),arguments.length===1&&(e=G_.newId()),iE("doc","path",e),n instanceof ih){const i=Qe.fromString(e,...t);return uv(i),new Sn(n,null,new pe(i))}{if(!(n instanceof Sn||n instanceof xi))throw new ce(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Qe.fromString(e,...t));return uv(i),new Sn(n.firestore,n instanceof xi?n.converter:null,new pe(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fv="AsyncQueue";class pv{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new jw(this,"async_queue_retry"),this.Su=()=>{const i=Qd();i&&oe(fv,"Visibility state changed to "+i.visibilityState),this.a_.t_()},this.bu=e;const t=Qd();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=Qd();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const t=new Ai;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Qo(e))throw e;oe(fv,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const t=this.bu.then(()=>(this.pu=!0,e().catch(i=>{this.gu=i,this.pu=!1;const o=function(h){let d=h.message||"";return h.stack&&(d=h.stack.includes(h.message)?h.stack:h.message+`
`+h.stack),d}(i);throw zr("INTERNAL UNHANDLED ERROR: ",o),i}).then(i=>(this.pu=!1,i))));return this.bu=t,t}enqueueAfterDelay(e,t,i){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const o=ap.createAndSchedule(this,e,t,i,l=>this.Fu(l));return this.fu.push(o),o}Du(){this.gu&&_e()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.fu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}class dp extends ih{constructor(e,t,i,o){super(e,t,i,o),this.type="firestore",this._queue=new pv,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new pv(e),this._firestoreClient=void 0,await e}}}function d1(n,e){const t=typeof n=="object"?n:r_(),i=typeof n=="string"?n:Ic,o=Of(t,"firestore").getImmediate({identifier:i});if(!o._initialized){const l=_I("firestore");l&&c1(o,...l)}return o}function aE(n){if(n._terminated)throw new ce(X.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||f1(n),n._firestoreClient}function f1(n){var e,t,i;const o=n._freezeSettings(),l=function(d,p,y,w){return new NR(d,p,y,w.host,w.ssl,w.experimentalForceLongPolling,w.experimentalAutoDetectLongPolling,rE(w.experimentalLongPollingOptions),w.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,o);n._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=o.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),n._firestoreClient=new i1(n._authCredentials,n._appCheckCredentials,n._queue,l,n._componentsProvider&&function(d){const p=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(p),_online:p}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $o{constructor(e){this._byteString=e}static fromBase64String(e){try{return new $o(Nt.fromBase64String(e))}catch(t){throw new ce(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new $o(Nt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fp{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ce(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new xt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lE{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pp{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ce(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ce(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ne(this._lat,e._lat)||Ne(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mp{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,o){if(i.length!==o.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==o[l])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p1=/^__.*__$/;class m1{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new As(e,this.data,this.fieldMask,t,this.fieldTransforms):new kl(e,this.data,t,this.fieldTransforms)}}function uE(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _e()}}class gp{constructor(e,t,i,o,l,h){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=o,l===void 0&&this.Bu(),this.fieldTransforms=l||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new gp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.ku({path:i,Qu:!1});return o.$u(e),o}Ku(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.ku({path:i,Qu:!1});return o.Bu(),o}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return bc(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(uE(this.Lu)&&p1.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class g1{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||eh(e)}ju(e,t,i,o=!1){return new gp({Lu:e,methodName:t,zu:i,path:xt.emptyPath(),Qu:!1,Gu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function cE(n){const e=n._freezeSettings(),t=eh(n._databaseId);return new g1(n._databaseId,!!e.ignoreUndefinedProperties,t)}function y1(n,e,t,i,o,l={}){const h=n.ju(l.merge||l.mergeFields?2:0,e,t,o);fE("Data must be an object, but it was:",h,i);const d=hE(i,h);let p,y;if(l.merge)p=new zn(h.fieldMask),y=h.fieldTransforms;else if(l.mergeFields){const w=[];for(const I of l.mergeFields){const k=_1(e,I,t);if(!h.contains(k))throw new ce(X.INVALID_ARGUMENT,`Field '${k}' is specified in your field mask but missing from your input data.`);E1(w,k)||w.push(k)}p=new zn(w),y=h.fieldTransforms.filter(I=>p.covers(I.field))}else p=null,y=h.fieldTransforms;return new m1(new In(d),p,y)}function v1(n,e,t,i=!1){return yp(t,n.ju(i?4:3,e))}function yp(n,e){if(dE(n=Bt(n)))return fE("Unsupported field value:",e,n),hE(n,e);if(n instanceof lE)return function(i,o){if(!uE(o.Lu))throw o.Wu(`${i._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Wu(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(o);l&&o.fieldTransforms.push(l)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(i,o){const l=[];let h=0;for(const d of i){let p=yp(d,o.Uu(h));p==null&&(p={nullValue:"NULL_VALUE"}),l.push(p),h++}return{arrayValue:{values:l}}}(n,e)}return function(i,o){if((i=Bt(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return eC(o.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=rt.fromDate(i);return{timestampValue:Ac(o.serializer,l)}}if(i instanceof rt){const l=new rt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Ac(o.serializer,l)}}if(i instanceof pp)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof $o)return{bytesValue:Aw(o.serializer,i._byteString)};if(i instanceof Sn){const l=o.databaseId,h=i.firestore._databaseId;if(!h.isEqual(l))throw o.Wu(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Jf(i.firestore._databaseId||o.databaseId,i._key.path)}}if(i instanceof mp)return function(h,d){return{mapValue:{fields:{[nw]:{stringValue:rw},[Sc]:{arrayValue:{values:h.toArray().map(y=>{if(typeof y!="number")throw d.Wu("VectorValues must only contain numeric values.");return Qf(d.serializer,y)})}}}}}}(i,o);throw o.Wu(`Unsupported field value: ${rh(i)}`)}(n,e)}function hE(n,e){const t={};return Y_(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Rs(n,(i,o)=>{const l=yp(o,e.qu(i));l!=null&&(t[i]=l)}),{mapValue:{fields:t}}}function dE(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof rt||n instanceof pp||n instanceof $o||n instanceof Sn||n instanceof lE||n instanceof mp)}function fE(n,e,t){if(!dE(t)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(t)){const i=rh(t);throw i==="an object"?e.Wu(n+" a custom object"):e.Wu(n+" "+i)}}function _1(n,e,t){if((e=Bt(e))instanceof fp)return e._internalPath;if(typeof e=="string")return pE(n,e);throw bc("Field path arguments must be of type string or ",n,!1,void 0,t)}const w1=new RegExp("[~\\*/\\[\\]]");function pE(n,e,t){if(e.search(w1)>=0)throw bc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new fp(...e.split("."))._internalPath}catch{throw bc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function bc(n,e,t,i,o){const l=i&&!i.isEmpty(),h=o!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let p="";return(l||h)&&(p+=" (found",l&&(p+=` in field ${i}`),h&&(p+=` in document ${o}`),p+=")"),new ce(X.INVALID_ARGUMENT,d+n+p)}function E1(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mE{constructor(e,t,i,o,l){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Sn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new T1(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(vp("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class T1 extends mE{data(){return super.data()}}function vp(n,e){return typeof e=="string"?pE(n,e):e instanceof fp?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I1(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new ce(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class _p{}class S1 extends _p{}function P1(n,e,...t){let i=[];e instanceof _p&&i.push(e),i=i.concat(t),function(l){const h=l.filter(p=>p instanceof wp).length,d=l.filter(p=>p instanceof sh).length;if(h>1||h>0&&d>0)throw new ce(X.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const o of i)n=o._apply(n);return n}class sh extends S1{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new sh(e,t,i)}_apply(e){const t=this._parse(e);return gE(e._query,t),new Xo(e.firestore,e.converter,pf(e._query,t))}_parse(e){const t=cE(e.firestore);return function(l,h,d,p,y,w,I){let k;if(y.isKeyField()){if(w==="array-contains"||w==="array-contains-any")throw new ce(X.INVALID_ARGUMENT,`Invalid Query. You can't perform '${w}' queries on documentId().`);if(w==="in"||w==="not-in"){yv(I,w);const M=[];for(const B of I)M.push(gv(p,l,B));k={arrayValue:{values:M}}}else k=gv(p,l,I)}else w!=="in"&&w!=="not-in"&&w!=="array-contains-any"||yv(I,w),k=v1(d,h,I,w==="in"||w==="not-in");return ht.create(y,w,k)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function mv(n,e,t){const i=e,o=vp("where",n);return sh._create(o,i,t)}class wp extends _p{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new wp(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return t.length===1?t[0]:Wn.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(o,l){let h=o;const d=l.getFlattenedFilters();for(const p of d)gE(h,p),h=pf(h,p)}(e._query,t),new Xo(e.firestore,e.converter,pf(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function gv(n,e,t){if(typeof(t=Bt(t))=="string"){if(t==="")throw new ce(X.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!dw(e)&&t.indexOf("/")!==-1)throw new ce(X.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(Qe.fromString(t));if(!pe.isDocumentKey(i))throw new ce(X.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Ny(n,new pe(i))}if(t instanceof Sn)return Ny(n,t._key);throw new ce(X.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${rh(t)}.`)}function yv(n,e){if(!Array.isArray(n)||n.length===0)throw new ce(X.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function gE(n,e){const t=function(o,l){for(const h of o)for(const d of h.getFlattenedFilters())if(l.indexOf(d.op)>=0)return d.op;return null}(n.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new ce(X.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ce(X.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class k1{convertValue(e,t="none"){switch(Vi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return at(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(bi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw _e()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return Rs(e,(o,l)=>{i[o]=this.convertValue(l,t)}),i}convertVectorValue(e){var t,i,o;const l=(o=(i=(t=e.fields)===null||t===void 0?void 0:t[Sc].arrayValue)===null||i===void 0?void 0:i.values)===null||o===void 0?void 0:o.map(h=>at(h.doubleValue));return new mp(l)}convertGeoPoint(e){return new pp(at(e.latitude),at(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=Gc(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(cl(e));default:return null}}convertTimestamp(e){const t=Oi(e);return new rt(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=Qe.fromString(e);Ue(Vw(i));const o=new hl(i.get(1),i.get(3)),l=new pe(i.popFirst(5));return o.isEqual(t)||zr(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R1(n,e,t){let i;return i=n?n.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class C1 extends mE{constructor(e,t,i,o,l,h){super(e,t,i,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new hc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(vp("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class hc extends C1{data(e={}){return super.data(e)}}class A1{constructor(e,t,i,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new Zu(o.hasPendingWrites,o.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new hc(this._firestore,this._userDataWriter,i.key,i,new Zu(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ce(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,l){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map(d=>{const p=new hc(o._firestore,o._userDataWriter,d.doc.key,d.doc,new Zu(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);return d.doc,{type:"added",doc:p,oldIndex:-1,newIndex:h++}})}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(d=>l||d.type!==3).map(d=>{const p=new hc(o._firestore,o._userDataWriter,d.doc.key,d.doc,new Zu(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,w=-1;return d.type!==0&&(y=h.indexOf(d.doc.key),h=h.delete(d.doc.key)),d.type!==1&&(h=h.add(d.doc),w=h.indexOf(d.doc.key)),{type:x1(d.type),doc:p,oldIndex:y,newIndex:w}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function x1(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _e()}}class N1 extends k1{constructor(e){super(),this.firestore=e}convertBytes(e){return new $o(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Sn(this.firestore,null,t)}}function D1(n){n=Oc(n,Xo);const e=Oc(n.firestore,dp),t=aE(e),i=new N1(e);return I1(n._query),l1(t,n._query).then(o=>new A1(e,i,n,o))}function O1(n,e){const t=Oc(n.firestore,dp),i=h1(n),o=R1(n.converter,e);return b1(t,[y1(cE(n.firestore),"addDoc",i._key,o,n.converter!==null,{}).toMutation(i._key,Fr.exists(!1))]).then(()=>i)}function b1(n,e){return function(i,o){const l=new Ai;return i.asyncQueue.enqueueAndForget(async()=>GA(await o1(i),o,l)),l.promise}(aE(n),e)}(function(e,t=!0){(function(o){Ko=o})(Ho),Vo(new ws("firestore",(i,{instanceIdentifier:o,options:l})=>{const h=i.getProvider("app").getImmediate(),d=new dp(new mR(i.getProvider("auth-internal")),new vR(h,i.getProvider("app-check-internal")),function(y,w){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new ce(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new hl(y.options.projectId,w)}(h,o),h);return l=Object.assign({useFetchStreams:t},l),d._setSettings(l),d},"PUBLIC").setMultipleInstances(!0)),Ri(wy,Ey,e),Ri(wy,Ey,"esm2017")})();const V1={apiKey:"AIzaSyANQ5S8US5P5X9oRF6o3SzJ2bopTs52kaw",authDomain:"barberzuk.firebaseapp.com",projectId:"barberzuk",storageBucket:"barberzuk.firebasestorage.app",messagingSenderId:"442919694774",appId:"1:442919694774:web:e400a13e6a487fa7645117",measurementId:"G-JXXMBF4C9F"},yE=n_(V1),Vc=ll(yE),vE=d1(yE),M1=(n,e)=>HP(Vc,n,e),L1=(n,e)=>GP(n,{displayName:e}),F1=()=>{const n=Vc.currentUser;return n&&n.email==="arnas.ap.petraitis@gmail.com"},U1=async(n,e)=>{try{const t=oE(vE,"availableTimes");await O1(t,{date:rt.fromDate(new Date(n)),times:e})}catch(t){console.error("Error adding available times:",t)}},j1=async n=>{try{const e=oE(vE,"availableTimes"),t=new Date(n),i=new Date(t.setHours(0,0,0,0)),o=new Date(t.setHours(23,59,59,999)),l=rt.fromDate(i),h=rt.fromDate(o),d=P1(e,mv("date",">=",l),mv("date","<=",h)),p=await D1(d);let y=[];return p.forEach(w=>{y=w.data().times}),y}catch(e){return console.error("Error fetching available times:",e),[]}};function z1(){const[n,e]=W.useState(""),[t,i]=W.useState(""),[o,l]=W.useState(""),[h,d]=W.useState(""),[p,y]=W.useState(""),w=jc(),I=async k=>{k.preventDefault();const D=/^[A-Za-z\s]+$/,M=/^(?=.*[A-Z])(?=.*[a-z]).{8,}$/;if(!D.test(n)){alert("Full Name must contain only letters.");return}if(!M.test(o)){alert("Password must be at least 8 characters long and contain at least one uppercase letter and one lowercase letter.");return}if(o!==h){alert("Passwords do not match.");return}try{const B=await M1(t,o);await L1(B.user,n),w("/web")}catch(B){y(B.message)}};return H.jsxs("div",{className:"register-container",children:[H.jsxs("div",{className:"header",children:[H.jsx("h2",{children:"Register"}),H.jsx("div",{className:"underline"})]}),p&&H.jsx("div",{className:"error-message",children:p}),H.jsxs("form",{onSubmit:I,children:[H.jsxs("div",{className:"inputs",children:[H.jsx("div",{className:"input",children:H.jsx("input",{type:"text",placeholder:"Full Name",required:!0,value:n,onChange:k=>e(k.target.value)})}),H.jsx("div",{className:"input",children:H.jsx("input",{type:"email",placeholder:"Email",required:!0,value:t,onChange:k=>i(k.target.value)})}),H.jsx("div",{className:"input",children:H.jsx("input",{type:"password",placeholder:"Password",required:!0,value:o,onChange:k=>l(k.target.value)})}),H.jsx("div",{className:"input",children:H.jsx("input",{type:"password",placeholder:"Confirm Password",required:!0,value:h,onChange:k=>d(k.target.value)})})]}),H.jsxs("div",{className:"submit-container",children:[H.jsx("button",{type:"submit",className:"register-button",children:"Register"}),H.jsxs("div",{className:"login-link",children:["Already have an account? ",H.jsx(Dr,{to:"/login",children:"Login here"})]})]})]})]})}const B1="_header_1oaed_1",$1="_navHomeContainer_1oaed_21",W1="_navHome_1oaed_21",H1="_navLinks_1oaed_43",q1="_menuButton_1oaed_69",K1="_logoutButton_1oaed_135",nr={header:B1,navHomeContainer:$1,navHome:W1,navLinks:H1,menuButton:q1,logoutButton:K1};function Ep(){const[n,e]=W.useState(!1),[t,i]=W.useState(null),o=jc();W.useEffect(()=>{const d=ll(),p=XP(d,y=>{i(y)});return()=>p()},[]);const l=()=>e(!n),h=async()=>{const d=ll();try{await JP(d),o("/login")}catch(p){console.error("Error signing out: ",p)}};return H.jsxs("div",{className:nr.header,children:[H.jsx("button",{className:nr.menuButton,onClick:l,children:"☰"}),H.jsx("div",{className:nr.navHomeContainer,children:H.jsx(Dr,{className:nr.navHome,to:"/web",children:"BarberZuk"})}),n&&H.jsxs("div",{className:nr.navLinks,children:[H.jsx(Dr,{className:nr.navAbout,to:"/about",children:"About"}),H.jsx(Dr,{className:nr.navContact,to:"/contact",children:"Contact"}),t?H.jsx("button",{className:nr.logoutButton,onClick:h,children:"Logout"}):H.jsxs(H.Fragment,{children:[H.jsx(Dr,{className:nr.navSignIn,to:"/login",children:"Sign In"}),H.jsx(Dr,{className:nr.navRegister,to:"/register",children:"Register"})]})]})]})}const _E=6048e5,G1=864e5,vv=Symbol.for("constructDateFrom");function hr(n,e){return typeof n=="function"?n(e):n&&typeof n=="object"&&vv in n?n[vv](e):n instanceof Date?new n.constructor(e):new Date(e)}function Pn(n,e){return hr(e||n,n)}function wE(n,e,t){const i=Pn(n,t==null?void 0:t.in);if(isNaN(e))return hr(n,NaN);if(!e)return i;const o=i.getDate(),l=hr(n,i.getTime());l.setMonth(i.getMonth()+e+1,0);const h=l.getDate();return o>=h?l:(i.setFullYear(l.getFullYear(),l.getMonth(),o),i)}let Q1={};function oh(){return Q1}function ml(n,e){var d,p,y,w;const t=oh(),i=(e==null?void 0:e.weekStartsOn)??((p=(d=e==null?void 0:e.locale)==null?void 0:d.options)==null?void 0:p.weekStartsOn)??t.weekStartsOn??((w=(y=t.locale)==null?void 0:y.options)==null?void 0:w.weekStartsOn)??0,o=Pn(n,e==null?void 0:e.in),l=o.getDay(),h=(l<i?7:0)+l-i;return o.setDate(o.getDate()-h),o.setHours(0,0,0,0),o}function Mc(n,e){return ml(n,{...e,weekStartsOn:1})}function EE(n,e){const t=Pn(n,e==null?void 0:e.in),i=t.getFullYear(),o=hr(t,0);o.setFullYear(i+1,0,4),o.setHours(0,0,0,0);const l=Mc(o),h=hr(t,0);h.setFullYear(i,0,4),h.setHours(0,0,0,0);const d=Mc(h);return t.getTime()>=l.getTime()?i+1:t.getTime()>=d.getTime()?i:i-1}function _v(n){const e=Pn(n),t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+n-+t}function Y1(n,...e){const t=hr.bind(null,e.find(i=>typeof i=="object"));return e.map(t)}function wv(n,e){const t=Pn(n,e==null?void 0:e.in);return t.setHours(0,0,0,0),t}function X1(n,e,t){const[i,o]=Y1(t==null?void 0:t.in,n,e),l=wv(i),h=wv(o),d=+l-_v(l),p=+h-_v(h);return Math.round((d-p)/G1)}function J1(n,e){const t=EE(n,e),i=hr(n,0);return i.setFullYear(t,0,4),i.setHours(0,0,0,0),Mc(i)}function Z1(n){return n instanceof Date||typeof n=="object"&&Object.prototype.toString.call(n)==="[object Date]"}function ex(n){return!(!Z1(n)&&typeof n!="number"||isNaN(+Pn(n)))}function tx(n,e){const t=Pn(n,e==null?void 0:e.in);return t.setFullYear(t.getFullYear(),0,1),t.setHours(0,0,0,0),t}const nx={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},rx=(n,e,t)=>{let i;const o=nx[n];return typeof o=="string"?i=o:e===1?i=o.one:i=o.other.replace("{{count}}",e.toString()),t!=null&&t.addSuffix?t.comparison&&t.comparison>0?"in "+i:i+" ago":i};function bo(n){return(e={})=>{const t=e.width?String(e.width):n.defaultWidth;return n.formats[t]||n.formats[n.defaultWidth]}}const ix={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},sx={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},ox={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},ax={date:bo({formats:ix,defaultWidth:"full"}),time:bo({formats:sx,defaultWidth:"full"}),dateTime:bo({formats:ox,defaultWidth:"full"})},lx={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},ux=(n,e,t,i)=>lx[n];function ir(n){return(e,t)=>{const i=t!=null&&t.context?String(t.context):"standalone";let o;if(i==="formatting"&&n.formattingValues){const h=n.defaultFormattingWidth||n.defaultWidth,d=t!=null&&t.width?String(t.width):h;o=n.formattingValues[d]||n.formattingValues[h]}else{const h=n.defaultWidth,d=t!=null&&t.width?String(t.width):n.defaultWidth;o=n.values[d]||n.values[h]}const l=n.argumentCallback?n.argumentCallback(e):e;return o[l]}}const cx={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},hx={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},dx={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},fx={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},px={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},mx={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},gx=(n,e)=>{const t=Number(n),i=t%100;if(i>20||i<10)switch(i%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},yx={ordinalNumber:gx,era:ir({values:cx,defaultWidth:"wide"}),quarter:ir({values:hx,defaultWidth:"wide",argumentCallback:n=>n-1}),month:ir({values:dx,defaultWidth:"wide"}),day:ir({values:fx,defaultWidth:"wide"}),dayPeriod:ir({values:px,defaultWidth:"wide",formattingValues:mx,defaultFormattingWidth:"wide"})};function sr(n){return(e,t={})=>{const i=t.width,o=i&&n.matchPatterns[i]||n.matchPatterns[n.defaultMatchWidth],l=e.match(o);if(!l)return null;const h=l[0],d=i&&n.parsePatterns[i]||n.parsePatterns[n.defaultParseWidth],p=Array.isArray(d)?_x(d,I=>I.test(h)):vx(d,I=>I.test(h));let y;y=n.valueCallback?n.valueCallback(p):p,y=t.valueCallback?t.valueCallback(y):y;const w=e.slice(h.length);return{value:y,rest:w}}}function vx(n,e){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t)&&e(n[t]))return t}function _x(n,e){for(let t=0;t<n.length;t++)if(e(n[t]))return t}function TE(n){return(e,t={})=>{const i=e.match(n.matchPattern);if(!i)return null;const o=i[0],l=e.match(n.parsePattern);if(!l)return null;let h=n.valueCallback?n.valueCallback(l[0]):l[0];h=t.valueCallback?t.valueCallback(h):h;const d=e.slice(o.length);return{value:h,rest:d}}}const wx=/^(\d+)(th|st|nd|rd)?/i,Ex=/\d+/i,Tx={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Ix={any:[/^b/i,/^(a|c)/i]},Sx={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Px={any:[/1/i,/2/i,/3/i,/4/i]},kx={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Rx={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Cx={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Ax={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},xx={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Nx={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Dx={ordinalNumber:TE({matchPattern:wx,parsePattern:Ex,valueCallback:n=>parseInt(n,10)}),era:sr({matchPatterns:Tx,defaultMatchWidth:"wide",parsePatterns:Ix,defaultParseWidth:"any"}),quarter:sr({matchPatterns:Sx,defaultMatchWidth:"wide",parsePatterns:Px,defaultParseWidth:"any",valueCallback:n=>n+1}),month:sr({matchPatterns:kx,defaultMatchWidth:"wide",parsePatterns:Rx,defaultParseWidth:"any"}),day:sr({matchPatterns:Cx,defaultMatchWidth:"wide",parsePatterns:Ax,defaultParseWidth:"any"}),dayPeriod:sr({matchPatterns:xx,defaultMatchWidth:"any",parsePatterns:Nx,defaultParseWidth:"any"})},Ox={code:"en-US",formatDistance:rx,formatLong:ax,formatRelative:ux,localize:yx,match:Dx,options:{weekStartsOn:0,firstWeekContainsDate:1}};function bx(n,e){const t=Pn(n,e==null?void 0:e.in);return X1(t,tx(t))+1}function Vx(n,e){const t=Pn(n,e==null?void 0:e.in),i=+Mc(t)-+J1(t);return Math.round(i/_E)+1}function IE(n,e){var w,I,k,D;const t=Pn(n,e==null?void 0:e.in),i=t.getFullYear(),o=oh(),l=(e==null?void 0:e.firstWeekContainsDate)??((I=(w=e==null?void 0:e.locale)==null?void 0:w.options)==null?void 0:I.firstWeekContainsDate)??o.firstWeekContainsDate??((D=(k=o.locale)==null?void 0:k.options)==null?void 0:D.firstWeekContainsDate)??1,h=hr((e==null?void 0:e.in)||n,0);h.setFullYear(i+1,0,l),h.setHours(0,0,0,0);const d=ml(h,e),p=hr((e==null?void 0:e.in)||n,0);p.setFullYear(i,0,l),p.setHours(0,0,0,0);const y=ml(p,e);return+t>=+d?i+1:+t>=+y?i:i-1}function Mx(n,e){var d,p,y,w;const t=oh(),i=(e==null?void 0:e.firstWeekContainsDate)??((p=(d=e==null?void 0:e.locale)==null?void 0:d.options)==null?void 0:p.firstWeekContainsDate)??t.firstWeekContainsDate??((w=(y=t.locale)==null?void 0:y.options)==null?void 0:w.firstWeekContainsDate)??1,o=IE(n,e),l=hr((e==null?void 0:e.in)||n,0);return l.setFullYear(o,0,i),l.setHours(0,0,0,0),ml(l,e)}function Lx(n,e){const t=Pn(n,e==null?void 0:e.in),i=+ml(t,e)-+Mx(t,e);return Math.round(i/_E)+1}function ze(n,e){const t=n<0?"-":"",i=Math.abs(n).toString().padStart(e,"0");return t+i}const vi={y(n,e){const t=n.getFullYear(),i=t>0?t:1-t;return ze(e==="yy"?i%100:i,e.length)},M(n,e){const t=n.getMonth();return e==="M"?String(t+1):ze(t+1,2)},d(n,e){return ze(n.getDate(),e.length)},a(n,e){const t=n.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];case"aaaa":default:return t==="am"?"a.m.":"p.m."}},h(n,e){return ze(n.getHours()%12||12,e.length)},H(n,e){return ze(n.getHours(),e.length)},m(n,e){return ze(n.getMinutes(),e.length)},s(n,e){return ze(n.getSeconds(),e.length)},S(n,e){const t=e.length,i=n.getMilliseconds(),o=Math.trunc(i*Math.pow(10,t-3));return ze(o,e.length)}},So={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Ev={G:function(n,e,t){const i=n.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return t.era(i,{width:"abbreviated"});case"GGGGG":return t.era(i,{width:"narrow"});case"GGGG":default:return t.era(i,{width:"wide"})}},y:function(n,e,t){if(e==="yo"){const i=n.getFullYear(),o=i>0?i:1-i;return t.ordinalNumber(o,{unit:"year"})}return vi.y(n,e)},Y:function(n,e,t,i){const o=IE(n,i),l=o>0?o:1-o;if(e==="YY"){const h=l%100;return ze(h,2)}return e==="Yo"?t.ordinalNumber(l,{unit:"year"}):ze(l,e.length)},R:function(n,e){const t=EE(n);return ze(t,e.length)},u:function(n,e){const t=n.getFullYear();return ze(t,e.length)},Q:function(n,e,t){const i=Math.ceil((n.getMonth()+1)/3);switch(e){case"Q":return String(i);case"QQ":return ze(i,2);case"Qo":return t.ordinalNumber(i,{unit:"quarter"});case"QQQ":return t.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(i,{width:"wide",context:"formatting"})}},q:function(n,e,t){const i=Math.ceil((n.getMonth()+1)/3);switch(e){case"q":return String(i);case"qq":return ze(i,2);case"qo":return t.ordinalNumber(i,{unit:"quarter"});case"qqq":return t.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(i,{width:"wide",context:"standalone"})}},M:function(n,e,t){const i=n.getMonth();switch(e){case"M":case"MM":return vi.M(n,e);case"Mo":return t.ordinalNumber(i+1,{unit:"month"});case"MMM":return t.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(i,{width:"wide",context:"formatting"})}},L:function(n,e,t){const i=n.getMonth();switch(e){case"L":return String(i+1);case"LL":return ze(i+1,2);case"Lo":return t.ordinalNumber(i+1,{unit:"month"});case"LLL":return t.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(i,{width:"wide",context:"standalone"})}},w:function(n,e,t,i){const o=Lx(n,i);return e==="wo"?t.ordinalNumber(o,{unit:"week"}):ze(o,e.length)},I:function(n,e,t){const i=Vx(n);return e==="Io"?t.ordinalNumber(i,{unit:"week"}):ze(i,e.length)},d:function(n,e,t){return e==="do"?t.ordinalNumber(n.getDate(),{unit:"date"}):vi.d(n,e)},D:function(n,e,t){const i=bx(n);return e==="Do"?t.ordinalNumber(i,{unit:"dayOfYear"}):ze(i,e.length)},E:function(n,e,t){const i=n.getDay();switch(e){case"E":case"EE":case"EEE":return t.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(i,{width:"short",context:"formatting"});case"EEEE":default:return t.day(i,{width:"wide",context:"formatting"})}},e:function(n,e,t,i){const o=n.getDay(),l=(o-i.weekStartsOn+8)%7||7;switch(e){case"e":return String(l);case"ee":return ze(l,2);case"eo":return t.ordinalNumber(l,{unit:"day"});case"eee":return t.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(o,{width:"short",context:"formatting"});case"eeee":default:return t.day(o,{width:"wide",context:"formatting"})}},c:function(n,e,t,i){const o=n.getDay(),l=(o-i.weekStartsOn+8)%7||7;switch(e){case"c":return String(l);case"cc":return ze(l,e.length);case"co":return t.ordinalNumber(l,{unit:"day"});case"ccc":return t.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(o,{width:"narrow",context:"standalone"});case"cccccc":return t.day(o,{width:"short",context:"standalone"});case"cccc":default:return t.day(o,{width:"wide",context:"standalone"})}},i:function(n,e,t){const i=n.getDay(),o=i===0?7:i;switch(e){case"i":return String(o);case"ii":return ze(o,e.length);case"io":return t.ordinalNumber(o,{unit:"day"});case"iii":return t.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(i,{width:"short",context:"formatting"});case"iiii":default:return t.day(i,{width:"wide",context:"formatting"})}},a:function(n,e,t){const o=n.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(o,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(o,{width:"wide",context:"formatting"})}},b:function(n,e,t){const i=n.getHours();let o;switch(i===12?o=So.noon:i===0?o=So.midnight:o=i/12>=1?"pm":"am",e){case"b":case"bb":return t.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(n,e,t){const i=n.getHours();let o;switch(i>=17?o=So.evening:i>=12?o=So.afternoon:i>=4?o=So.morning:o=So.night,e){case"B":case"BB":case"BBB":return t.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(n,e,t){if(e==="ho"){let i=n.getHours()%12;return i===0&&(i=12),t.ordinalNumber(i,{unit:"hour"})}return vi.h(n,e)},H:function(n,e,t){return e==="Ho"?t.ordinalNumber(n.getHours(),{unit:"hour"}):vi.H(n,e)},K:function(n,e,t){const i=n.getHours()%12;return e==="Ko"?t.ordinalNumber(i,{unit:"hour"}):ze(i,e.length)},k:function(n,e,t){let i=n.getHours();return i===0&&(i=24),e==="ko"?t.ordinalNumber(i,{unit:"hour"}):ze(i,e.length)},m:function(n,e,t){return e==="mo"?t.ordinalNumber(n.getMinutes(),{unit:"minute"}):vi.m(n,e)},s:function(n,e,t){return e==="so"?t.ordinalNumber(n.getSeconds(),{unit:"second"}):vi.s(n,e)},S:function(n,e){return vi.S(n,e)},X:function(n,e,t){const i=n.getTimezoneOffset();if(i===0)return"Z";switch(e){case"X":return Iv(i);case"XXXX":case"XX":return ys(i);case"XXXXX":case"XXX":default:return ys(i,":")}},x:function(n,e,t){const i=n.getTimezoneOffset();switch(e){case"x":return Iv(i);case"xxxx":case"xx":return ys(i);case"xxxxx":case"xxx":default:return ys(i,":")}},O:function(n,e,t){const i=n.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+Tv(i,":");case"OOOO":default:return"GMT"+ys(i,":")}},z:function(n,e,t){const i=n.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+Tv(i,":");case"zzzz":default:return"GMT"+ys(i,":")}},t:function(n,e,t){const i=Math.trunc(+n/1e3);return ze(i,e.length)},T:function(n,e,t){return ze(+n,e.length)}};function Tv(n,e=""){const t=n>0?"-":"+",i=Math.abs(n),o=Math.trunc(i/60),l=i%60;return l===0?t+String(o):t+String(o)+e+ze(l,2)}function Iv(n,e){return n%60===0?(n>0?"-":"+")+ze(Math.abs(n)/60,2):ys(n,e)}function ys(n,e=""){const t=n>0?"-":"+",i=Math.abs(n),o=ze(Math.trunc(i/60),2),l=ze(i%60,2);return t+o+e+l}const Sv=(n,e)=>{switch(n){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},SE=(n,e)=>{switch(n){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},Fx=(n,e)=>{const t=n.match(/(P+)(p+)?/)||[],i=t[1],o=t[2];if(!o)return Sv(n,e);let l;switch(i){case"P":l=e.dateTime({width:"short"});break;case"PP":l=e.dateTime({width:"medium"});break;case"PPP":l=e.dateTime({width:"long"});break;case"PPPP":default:l=e.dateTime({width:"full"});break}return l.replace("{{date}}",Sv(i,e)).replace("{{time}}",SE(o,e))},Ux={p:SE,P:Fx},jx=/^D+$/,zx=/^Y+$/,Bx=["D","DD","YY","YYYY"];function $x(n){return jx.test(n)}function Wx(n){return zx.test(n)}function Hx(n,e,t){const i=qx(n,e,t);if(console.warn(i),Bx.includes(n))throw new RangeError(i)}function qx(n,e,t){const i=n[0]==="Y"?"years":"days of the month";return`Use \`${n.toLowerCase()}\` instead of \`${n}\` (in \`${e}\`) for formatting ${i} to the input \`${t}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Kx=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Gx=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Qx=/^'([^]*?)'?$/,Yx=/''/g,Xx=/[a-zA-Z]/;function fs(n,e,t){var w,I,k,D,M,B,V,q;const i=oh(),o=(t==null?void 0:t.locale)??i.locale??Ox,l=(t==null?void 0:t.firstWeekContainsDate)??((I=(w=t==null?void 0:t.locale)==null?void 0:w.options)==null?void 0:I.firstWeekContainsDate)??i.firstWeekContainsDate??((D=(k=i.locale)==null?void 0:k.options)==null?void 0:D.firstWeekContainsDate)??1,h=(t==null?void 0:t.weekStartsOn)??((B=(M=t==null?void 0:t.locale)==null?void 0:M.options)==null?void 0:B.weekStartsOn)??i.weekStartsOn??((q=(V=i.locale)==null?void 0:V.options)==null?void 0:q.weekStartsOn)??0,d=Pn(n,t==null?void 0:t.in);if(!ex(d))throw new RangeError("Invalid time value");let p=e.match(Gx).map(Q=>{const K=Q[0];if(K==="p"||K==="P"){const ae=Ux[K];return ae(Q,o.formatLong)}return Q}).join("").match(Kx).map(Q=>{if(Q==="''")return{isToken:!1,value:"'"};const K=Q[0];if(K==="'")return{isToken:!1,value:Jx(Q)};if(Ev[K])return{isToken:!0,value:Q};if(K.match(Xx))throw new RangeError("Format string contains an unescaped latin alphabet character `"+K+"`");return{isToken:!1,value:Q}});o.localize.preprocessor&&(p=o.localize.preprocessor(d,p));const y={firstWeekContainsDate:l,weekStartsOn:h,locale:o};return p.map(Q=>{if(!Q.isToken)return Q.value;const K=Q.value;(!(t!=null&&t.useAdditionalWeekYearTokens)&&Wx(K)||!(t!=null&&t.useAdditionalDayOfYearTokens)&&$x(K))&&Hx(K,e,String(n));const ae=Ev[K[0]];return ae(d,K,o.localize,y)}).join("")}function Jx(n){const e=n.match(Qx);return e?e[1].replace(Yx,"'"):n}function Zx(n,e,t){return wE(n,-1,t)}const PE={xseconds_other:"sekundė_sekundžių_sekundes",xminutes_one:"minutė_minutės_minutę",xminutes_other:"minutės_minučių_minutes",xhours_one:"valanda_valandos_valandą",xhours_other:"valandos_valandų_valandas",xdays_one:"diena_dienos_dieną",xdays_other:"dienos_dienų_dienas",xweeks_one:"savaitė_savaitės_savaitę",xweeks_other:"savaitės_savaičių_savaites",xmonths_one:"mėnuo_mėnesio_mėnesį",xmonths_other:"mėnesiai_mėnesių_mėnesius",xyears_one:"metai_metų_metus",xyears_other:"metai_metų_metus",about:"apie",over:"daugiau nei",almost:"beveik",lessthan:"mažiau nei"},Pv=(n,e,t,i)=>e?i?"kelių sekundžių":"kelias sekundes":"kelios sekundės",nn=(n,e,t,i)=>e?i?Ii(t)[1]:Ii(t)[2]:Ii(t)[0],Kt=(n,e,t,i)=>{const o=n+" ";return n===1?o+nn(n,e,t,i):e?i?o+Ii(t)[1]:o+(kv(n)?Ii(t)[1]:Ii(t)[2]):o+(kv(n)?Ii(t)[1]:Ii(t)[0])};function kv(n){return n%10===0||n>10&&n<20}function Ii(n){return PE[n].split("_")}const eN={lessThanXSeconds:{one:Pv,other:Kt},xSeconds:{one:Pv,other:Kt},halfAMinute:"pusė minutės",lessThanXMinutes:{one:nn,other:Kt},xMinutes:{one:nn,other:Kt},aboutXHours:{one:nn,other:Kt},xHours:{one:nn,other:Kt},xDays:{one:nn,other:Kt},aboutXWeeks:{one:nn,other:Kt},xWeeks:{one:nn,other:Kt},aboutXMonths:{one:nn,other:Kt},xMonths:{one:nn,other:Kt},aboutXYears:{one:nn,other:Kt},xYears:{one:nn,other:Kt},overXYears:{one:nn,other:Kt},almostXYears:{one:nn,other:Kt}},tN=(n,e,t)=>{const i=n.match(/about|over|almost|lessthan/i),o=i?n.replace(i[0],""):n,l=(t==null?void 0:t.comparison)!==void 0&&t.comparison>0;let h;const d=eN[n];if(typeof d=="string"?h=d:e===1?h=d.one(e,(t==null?void 0:t.addSuffix)===!0,o.toLowerCase()+"_one",l):h=d.other(e,(t==null?void 0:t.addSuffix)===!0,o.toLowerCase()+"_other",l),i){const p=i[0].toLowerCase();h=PE[p]+" "+h}return t!=null&&t.addSuffix?t.comparison&&t.comparison>0?"po "+h:"prieš "+h:h},nN={full:"y 'm'. MMMM d 'd'., EEEE",long:"y 'm'. MMMM d 'd'.",medium:"y-MM-dd",short:"y-MM-dd"},rN={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},iN={full:"{{date}} {{time}}",long:"{{date}} {{time}}",medium:"{{date}} {{time}}",short:"{{date}} {{time}}"},sN={date:bo({formats:nN,defaultWidth:"full"}),time:bo({formats:rN,defaultWidth:"full"}),dateTime:bo({formats:iN,defaultWidth:"full"})},oN={lastWeek:"'Praėjusį' eeee p",yesterday:"'Vakar' p",today:"'Šiandien' p",tomorrow:"'Rytoj' p",nextWeek:"eeee p",other:"P"},aN=(n,e,t,i)=>oN[n],lN={narrow:["pr. Kr.","po Kr."],abbreviated:["pr. Kr.","po Kr."],wide:["prieš Kristų","po Kristaus"]},uN={narrow:["1","2","3","4"],abbreviated:["I ketv.","II ketv.","III ketv.","IV ketv."],wide:["I ketvirtis","II ketvirtis","III ketvirtis","IV ketvirtis"]},cN={narrow:["1","2","3","4"],abbreviated:["I k.","II k.","III k.","IV k."],wide:["I ketvirtis","II ketvirtis","III ketvirtis","IV ketvirtis"]},hN={narrow:["S","V","K","B","G","B","L","R","R","S","L","G"],abbreviated:["saus.","vas.","kov.","bal.","geg.","birž.","liep.","rugp.","rugs.","spal.","lapkr.","gruod."],wide:["sausis","vasaris","kovas","balandis","gegužė","birželis","liepa","rugpjūtis","rugsėjis","spalis","lapkritis","gruodis"]},dN={narrow:["S","V","K","B","G","B","L","R","R","S","L","G"],abbreviated:["saus.","vas.","kov.","bal.","geg.","birž.","liep.","rugp.","rugs.","spal.","lapkr.","gruod."],wide:["sausio","vasario","kovo","balandžio","gegužės","birželio","liepos","rugpjūčio","rugsėjo","spalio","lapkričio","gruodžio"]},fN={narrow:["S","P","A","T","K","P","Š"],short:["Sk","Pr","An","Tr","Kt","Pn","Št"],abbreviated:["sk","pr","an","tr","kt","pn","št"],wide:["sekmadienis","pirmadienis","antradienis","trečiadienis","ketvirtadienis","penktadienis","šeštadienis"]},pN={narrow:["S","P","A","T","K","P","Š"],short:["Sk","Pr","An","Tr","Kt","Pn","Št"],abbreviated:["sk","pr","an","tr","kt","pn","št"],wide:["sekmadienį","pirmadienį","antradienį","trečiadienį","ketvirtadienį","penktadienį","šeštadienį"]},mN={narrow:{am:"pr. p.",pm:"pop.",midnight:"vidurnaktis",noon:"vidurdienis",morning:"rytas",afternoon:"diena",evening:"vakaras",night:"naktis"},abbreviated:{am:"priešpiet",pm:"popiet",midnight:"vidurnaktis",noon:"vidurdienis",morning:"rytas",afternoon:"diena",evening:"vakaras",night:"naktis"},wide:{am:"priešpiet",pm:"popiet",midnight:"vidurnaktis",noon:"vidurdienis",morning:"rytas",afternoon:"diena",evening:"vakaras",night:"naktis"}},gN={narrow:{am:"pr. p.",pm:"pop.",midnight:"vidurnaktis",noon:"perpiet",morning:"rytas",afternoon:"popietė",evening:"vakaras",night:"naktis"},abbreviated:{am:"priešpiet",pm:"popiet",midnight:"vidurnaktis",noon:"perpiet",morning:"rytas",afternoon:"popietė",evening:"vakaras",night:"naktis"},wide:{am:"priešpiet",pm:"popiet",midnight:"vidurnaktis",noon:"perpiet",morning:"rytas",afternoon:"popietė",evening:"vakaras",night:"naktis"}},yN=(n,e)=>Number(n)+"-oji",vN={ordinalNumber:yN,era:ir({values:lN,defaultWidth:"wide"}),quarter:ir({values:uN,defaultWidth:"wide",formattingValues:cN,defaultFormattingWidth:"wide",argumentCallback:n=>n-1}),month:ir({values:hN,defaultWidth:"wide",formattingValues:dN,defaultFormattingWidth:"wide"}),day:ir({values:fN,defaultWidth:"wide",formattingValues:pN,defaultFormattingWidth:"wide"}),dayPeriod:ir({values:mN,defaultWidth:"wide",formattingValues:gN,defaultFormattingWidth:"wide"})},_N=/^(\d+)(-oji)?/i,wN=/\d+/i,EN={narrow:/^p(r|o)\.?\s?(kr\.?|me)/i,abbreviated:/^(pr\.\s?(kr\.|m\.\s?e\.)|po\s?kr\.|mūsų eroje)/i,wide:/^(prieš Kristų|prieš mūsų erą|po Kristaus|mūsų eroje)/i},TN={wide:[/prieš/i,/(po|mūsų)/i],any:[/^pr/i,/^(po|m)/i]},IN={narrow:/^([1234])/i,abbreviated:/^(I|II|III|IV)\s?ketv?\.?/i,wide:/^(I|II|III|IV)\s?ketvirtis/i},SN={narrow:[/1/i,/2/i,/3/i,/4/i],any:[/I$/i,/II$/i,/III/i,/IV/i]},PN={narrow:/^[svkbglr]/i,abbreviated:/^(saus\.|vas\.|kov\.|bal\.|geg\.|birž\.|liep\.|rugp\.|rugs\.|spal\.|lapkr\.|gruod\.)/i,wide:/^(sausi(s|o)|vasari(s|o)|kov(a|o)s|balandž?i(s|o)|gegužės?|birželi(s|o)|liep(a|os)|rugpjū(t|č)i(s|o)|rugsėj(is|o)|spali(s|o)|lapkri(t|č)i(s|o)|gruodž?i(s|o))/i},kN={narrow:[/^s/i,/^v/i,/^k/i,/^b/i,/^g/i,/^b/i,/^l/i,/^r/i,/^r/i,/^s/i,/^l/i,/^g/i],any:[/^saus/i,/^vas/i,/^kov/i,/^bal/i,/^geg/i,/^birž/i,/^liep/i,/^rugp/i,/^rugs/i,/^spal/i,/^lapkr/i,/^gruod/i]},RN={narrow:/^[spatkš]/i,short:/^(sk|pr|an|tr|kt|pn|št)/i,abbreviated:/^(sk|pr|an|tr|kt|pn|št)/i,wide:/^(sekmadien(is|į)|pirmadien(is|į)|antradien(is|į)|trečiadien(is|į)|ketvirtadien(is|į)|penktadien(is|į)|šeštadien(is|į))/i},CN={narrow:[/^s/i,/^p/i,/^a/i,/^t/i,/^k/i,/^p/i,/^š/i],wide:[/^se/i,/^pi/i,/^an/i,/^tr/i,/^ke/i,/^pe/i,/^še/i],any:[/^sk/i,/^pr/i,/^an/i,/^tr/i,/^kt/i,/^pn/i,/^št/i]},AN={narrow:/^(pr.\s?p.|pop.|vidurnaktis|(vidurdienis|perpiet)|rytas|(diena|popietė)|vakaras|naktis)/i,any:/^(priešpiet|popiet$|vidurnaktis|(vidurdienis|perpiet)|rytas|(diena|popietė)|vakaras|naktis)/i},xN={narrow:{am:/^pr/i,pm:/^pop./i,midnight:/^vidurnaktis/i,noon:/^(vidurdienis|perp)/i,morning:/rytas/i,afternoon:/(die|popietė)/i,evening:/vakaras/i,night:/naktis/i},any:{am:/^pr/i,pm:/^popiet$/i,midnight:/^vidurnaktis/i,noon:/^(vidurdienis|perp)/i,morning:/rytas/i,afternoon:/(die|popietė)/i,evening:/vakaras/i,night:/naktis/i}},NN={ordinalNumber:TE({matchPattern:_N,parsePattern:wN,valueCallback:n=>parseInt(n,10)}),era:sr({matchPatterns:EN,defaultMatchWidth:"wide",parsePatterns:TN,defaultParseWidth:"any"}),quarter:sr({matchPatterns:IN,defaultMatchWidth:"wide",parsePatterns:SN,defaultParseWidth:"any",valueCallback:n=>n+1}),month:sr({matchPatterns:PN,defaultMatchWidth:"wide",parsePatterns:kN,defaultParseWidth:"any"}),day:sr({matchPatterns:RN,defaultMatchWidth:"wide",parsePatterns:CN,defaultParseWidth:"any"}),dayPeriod:sr({matchPatterns:AN,defaultMatchWidth:"any",parsePatterns:xN,defaultParseWidth:"any"})},Xd={code:"lt",formatDistance:tN,formatLong:sN,formatRelative:aN,localize:vN,match:NN,options:{weekStartsOn:1,firstWeekContainsDate:4}},DN="_calendarContainer_evy6t_1",ON="_calendarHeader_evy6t_25",bN="_dayLabels_evy6t_77",VN="_calendarGrid_evy6t_99",MN="_emptyCell_evy6t_113",LN="_selectedDate_evy6t_153",FN="_timeGrid_evy6t_167",UN="_timeModal_evy6t_197",jN="_timeTitle_evy6t_229",zN="_selectedDateTime_evy6t_237",BN="_whiteText_evy6t_269",It={calendarContainer:DN,calendarHeader:ON,dayLabels:bN,calendarGrid:VN,emptyCell:MN,selectedDate:LN,timeGrid:FN,timeModal:UN,timeTitle:jN,selectedDateTime:zN,whiteText:BN},$N="_button_1tl20_1",WN={button:$N};function ps({onClick:n,children:e,className:t=""}){return H.jsx("button",{className:`${WN.button} ${t}`,onClick:n,children:e})}const HN="_card_tstw0_1",kE={card:HN};function Rv({children:n}){return H.jsx("div",{className:kE.card,children:n})}function Cv({children:n}){return H.jsx("div",{className:kE.cardContent,children:n})}function qN(){const[n,e]=W.useState(new Date),[t,i]=W.useState(null),[o,l]=W.useState(null),[h,d]=W.useState(!1),[p,y]=W.useState([]),[w,I]=W.useState(""),[k,D]=W.useState(!1),[M,B]=W.useState(!1);W.useEffect(()=>{const T=Vc.currentUser;D(T?F1():!1)},[Vc.currentUser]);const V=async T=>{B(!0);try{const S=await j1(T);y(S)}catch(S){console.error("Error fetching available times:",S),y([])}finally{d(!0),B(!1)}},q=new Date(n.getFullYear(),n.getMonth()+1,0).getDate(),Q=new Date(n.getFullYear(),n.getMonth(),1).getDay()+6%7,K=T=>{const S=new Date(n.getFullYear(),n.getMonth(),T);i(S),d(!1),y([]),V(fs(S,"yyyy-MM-dd"))},ae=T=>{l(T),d(!1)},Se=()=>{d(!1),i(null)},Ee=async()=>{const T=fs(t,"yyyy-MM-dd"),S=w.split(",").map(A=>A.trim());await U1(T,S),I(""),alert("Times added successfully!")},x=()=>{V(fs(t,"yyyy-MM-dd")),d(!0)};return H.jsxs("div",{className:It.calendarContainer,children:[H.jsx(Rv,{children:H.jsxs(Cv,{children:[H.jsxs("div",{className:It.calendarHeader,children:[H.jsx(ps,{onClick:()=>e(Zx(n)),children:"<"}),H.jsx("h2",{children:fs(n,"MMMM yyyy",{locale:Xd}).replace(/^\w/,T=>T.toUpperCase())}),H.jsx(ps,{onClick:()=>e(wE(n,1)),children:">"})]}),H.jsx("div",{className:It.dayLabels,children:["Pir","Ant","Tre","ket","Pen","Ses","Sek"].map(T=>H.jsx("div",{className:It.dayLabel,children:T},T))}),H.jsxs("div",{className:It.calendarGrid,children:[Array.from({length:Q}).map((T,S)=>H.jsx("div",{className:It.emptyCell},`empty-${S}`)),[...Array(q)].map((T,S)=>H.jsx(ps,{className:t&&t.getDate()===S+1&&t.getMonth()===n.getMonth()?It.selectedDate:"",onClick:()=>K(S+1),children:S+1},S))]})]})}),M&&H.jsx("div",{className:It.loadingIndicator,children:"Loading..."}),h&&H.jsx("div",{className:It.timeModal,children:H.jsx(Rv,{children:H.jsxs(Cv,{children:[H.jsxs("h3",{className:It.timeTitle,children:["Available times for ",fs(t,"MMMM dd",{locale:Xd}).replace(/^\w/,T=>T.toUpperCase()),":"]}),H.jsx("div",{className:It.timeGrid,children:p.length>0?p.map((T,S)=>H.jsx("div",{className:It.timeRow,children:H.jsx(ps,{onClick:()=>ae(T),children:T})},S)):H.jsx("p",{children:"No available times for this date."})}),H.jsxs("div",{className:It.modalActions,children:[H.jsx(ps,{onClick:Se,className:It.whiteText,children:"Close"}),k&&H.jsx(ps,{onClick:x,className:It.whiteText,children:"Add Times"})]})]})})}),k&&!h&&t&&H.jsxs("div",{className:It.adminPanel,children:[H.jsx("h3",{children:"Add Available Times"}),H.jsx("input",{type:"text",value:w,onChange:T=>I(T.target.value),placeholder:"Enter times (comma separated)"}),H.jsx(ps,{onClick:Ee,className:It.whiteText,children:"Add Times"})]}),o&&H.jsxs("p",{className:It.selectedDateTime,children:["Selected time: ",fs(t,"MMMM dd, yyyy",{locale:Xd}).replace(/^\w/,T=>T.toUpperCase())," at"," ",o]})]})}const KN="_footer_9gw7r_1",GN="_socialIcons_9gw7r_37",Av={footer:KN,socialIcons:GN};var RE={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},xv=_s.createContext&&_s.createContext(RE),QN=["attr","size","title"];function YN(n,e){if(n==null)return{};var t=XN(n,e),i,o;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(n);for(o=0;o<l.length;o++)i=l[o],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(t[i]=n[i])}return t}function XN(n,e){if(n==null)return{};var t={};for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}function Lc(){return Lc=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Lc.apply(this,arguments)}function Nv(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),t.push.apply(t,i)}return t}function Fc(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Nv(Object(t),!0).forEach(function(i){JN(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Nv(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function JN(n,e,t){return e=ZN(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function ZN(n){var e=eD(n,"string");return typeof e=="symbol"?e:e+""}function eD(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function CE(n){return n&&n.map((e,t)=>_s.createElement(e.tag,Fc({key:t},e.attr),CE(e.child)))}function AE(n){return e=>_s.createElement(tD,Lc({attr:Fc({},n.attr)},e),CE(n.child))}function tD(n){var e=t=>{var{attr:i,size:o,title:l}=n,h=YN(n,QN),d=o||t.size||"1em",p;return t.className&&(p=t.className),n.className&&(p=(p?p+" ":"")+n.className),_s.createElement("svg",Lc({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,i,h,{className:p,style:Fc(Fc({color:n.color||t.color},t.style),n.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),l&&_s.createElement("title",null,l),n.children)};return xv!==void 0?_s.createElement(xv.Consumer,null,t=>e(t)):e(RE)}function nD(n){return AE({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z"},child:[]}]})(n)}function rD(n){return AE({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"2",y:"2",width:"20",height:"20",rx:"5",ry:"5"},child:[]},{tag:"path",attr:{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"},child:[]},{tag:"line",attr:{x1:"17.5",y1:"6.5",x2:"17.51",y2:"6.5"},child:[]}]})(n)}function Tp(){return H.jsxs("div",{className:Av.footer,children:[H.jsx("p",{children:"© 2025"}),H.jsxs("div",{className:Av.socialIcons,children:[H.jsx("a",{href:"https://www.instagram.com/lzukausk/",target:"_blank",rel:"noopener noreferrer",children:H.jsx(rD,{size:24})}),H.jsx("a",{href:"https://www.facebook.com/profile.php?id=100012591094983",target:"_blank",rel:"noopener noreferrer",children:H.jsx(nD,{size:24})})]})]})}function Dv(){return H.jsxs(H.Fragment,{children:[H.jsx(Ep,{}),H.jsx(qN,{}),H.jsx(Tp,{})]})}function iD(){return H.jsxs(H.Fragment,{children:[H.jsx(Ep,{}),H.jsx("h1",{children:"About"}),H.jsx(Tp,{})]})}function sD(){return H.jsxs(H.Fragment,{children:[H.jsx(Ep,{}),H.jsx("h1",{children:"Contact"}),H.jsx(Tp,{})]})}function oD(){return H.jsx(nI,{children:H.jsxs(DT,{children:[H.jsx(ms,{path:"/",element:H.jsx(Dv,{})}),H.jsx(ms,{path:"/login",element:H.jsx(cR,{})}),H.jsx(ms,{path:"/register",element:H.jsx(z1,{})}),H.jsx(ms,{path:"/web",element:H.jsx(Dv,{})}),H.jsx(ms,{path:"/about",element:H.jsx(iD,{})}),H.jsx(ms,{path:"/contact",element:H.jsx(sD,{})})]})})}B0.createRoot(document.getElementById("root")).render(H.jsx(W.StrictMode,{children:H.jsx(oD,{})}));
